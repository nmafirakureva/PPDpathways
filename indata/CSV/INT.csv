levelName,p,cost,cost.screen,cost.tpt,cost.tb.assessment,cost.att,cost.ppd,cost.nhs,screen,igra,ltbi,noltbi,tpt,ltbinotpt,noltbinotpt,prevtbdx,coprevtb,att,noatt,attend,tptend,notxend,check
Intervention model                                                                                                                                                            ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
 °--New people in PPDs                                                                                                                                                        ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦--TB screening                                                                                                                                                          ,soc.prop.tb.sympt.screen,cost.tb.sympt.screen + cost.overheads,cost.tb.sympt.screen + cost.overheads,0,0,0,cost.tb.sympt.screen + cost.overheads,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦--Previous TB diagnosis                                                                                                                                             ,soc.prop.prev.tb.dx,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0
     ¦   ¦   ¦--Started TB treatment                                                                                                                                          ,soc.prop.prev.tb.dx.started.att,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦   ¦--Still on treatment for TB                                                                                                                                 ,soc.prop.prev.tb.dx.still.on.att,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦   ¦   °--Refer to TB services                                                                                                                                  ,1,pIsolation*cost.prison.cell.isolation,0,0,0,pIsolation*cost.prison.cell.isolation,pIsolation*cost.prison.cell.isolation,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦   ¦       ¦--Attended                                                                                                                                          ,soc.prop.prev.tb.dx.on.attend.referral,cost.nhs.tb.service + cost.prison.escort + cost.tb.investigations,0,0,cost.nhs.tb.service + cost.prison.escort + cost.tb.investigations,cost.nhs.tb.service + cost.prison.escort + cost.tb.investigations,cost.prison.escort,cost.nhs.tb.service + cost.tb.investigations,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦   ¦       ¦   ¦--continue ATT                                                                                                                                  ,soc.prop.prev.tb.dx.continue.att,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0
     ¦   ¦   ¦   ¦       ¦   ¦   ¦--completed ATT                                                                                                                             ,soc.prop.completing.att,(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + (1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visit + cost.prison.escort)) + (pDSTB*DurDSTB*cost.dsatt.drugs + (1-pDSTB)*DurMDRTB*cost.mdratt.drugs) + cost.dots*(pDSTB*DurDSTB + (1-pDSTB)*DurMDRTB),0,0,0,(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + (1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visit + cost.prison.escort)) + (pDSTB*DurDSTB*cost.dsatt.drugs + (1-pDSTB)*DurMDRTB*cost.mdratt.drugs) + cost.dots*(pDSTB*DurDSTB + (1-pDSTB)*DurMDRTB),(pDSTB*dstb.visits*(cost.prison.escort) + (1-pDSTB)*mdrtb.visits*(cost.prison.escort)),(pDSTB*dstb.visits*(cost.dstb.opd.visit ) + (1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visit )) + (pDSTB*DurDSTB*cost.dsatt.drugs + (1-pDSTB)*DurMDRTB*cost.mdratt.drugs) + cost.dots*(pDSTB*DurDSTB + (1-pDSTB)*DurMDRTB),0,0,0,0,0,0,0,0,0,0,0,1,0,0,1
     ¦   ¦   ¦   ¦       ¦   ¦   °--did not complete ATT                                                                                                                      ,1-soc.prop.completing.att,IncompDurDSTB/DurDSTB*(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + pDSTB*DurDSTB*(cost.dsatt.drugs + cost.dots))+ IncompDurMDRTB/DurMDRTB*((1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visits + cost.prison.escort)  + (1-pDSTB)*DurMDRTB*(cost.mdratt.drugs + cost.dots)),0,0,0,IncompDurDSTB/DurDSTB*(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + pDSTB*DurDSTB*(cost.dsatt.drugs + cost.dots))+ IncompDurMDRTB/DurMDRTB*((1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visits + cost.prison.escort)  + (1-pDSTB)*DurMDRTB*(cost.mdratt.drugs + cost.dots)),IncompDurDSTB/DurDSTB*pDSTB*dstb.visits*(cost.prison.escort) + IncompDurMDRTB/DurMDRTB*(1-pDSTB)*mdrtb.visits*(cost.prison.escort),IncompDurDSTB/DurDSTB*(pDSTB*dstb.visits*(cost.dstb.opd.visit) + pDSTB*DurDSTB*(cost.dsatt.drugs + cost.dots))+ IncompDurMDRTB/DurMDRTB*((1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visits)  + (1-pDSTB)*DurMDRTB*(cost.mdratt.drugs + cost.dots)),0,0,0,0,0,0,0,0,0,0,0,1,0,0,1
     ¦   ¦   ¦   ¦       ¦   °--did not continue ATT                                                                                                                          ,1-soc.prop.prev.tb.dx.continue.att,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦   ¦       °--did not attend                                                                                                                                    ,1-soc.prop.prev.tb.dx.on.attend.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦   °--Not on treatment for TB                                                                                                                                   ,1-soc.prop.prev.tb.dx.still.on.att,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦--TB symptoms                                                                                                                                           ,soc.prop.prev.tb.tx.symp,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦--Prison GP assessment                                                                                                                              ,soc.prop.prev.tb.tx.symp.gp.assess,pIsolation*cost.prison.cell.isolation + cost.prison.gp.assess + soc.prop.xray*cost.chest.xray,0,0,pIsolation*cost.prison.cell.isolation + cost.prison.gp.assess + soc.prop.xray*cost.chest.xray,0,pIsolation*cost.prison.cell.isolation + cost.prison.gp.assess,soc.prop.xray*cost.chest.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦   ¦--Clinical suspicion of TB                                                                                                                      ,soc.prop.prev.tb.tx.symp.tb.suspicion,pIsolation*cost.prison.cell.isolation,0,0,pIsolation*cost.prison.cell.isolation,0,pIsolation*cost.prison.cell.isolation,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦   ¦   °--Urgent referral to local NHS TB service                                                                                                   ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦   ¦       ¦--Attended                                                                                                                              ,soc.prop.prev.tb.tx.symp.nhs.referral,cost.nhs.tb.service + cost.prison.escort + cost.tb.investigations,0,0,cost.nhs.tb.service + cost.prison.escort + cost.tb.investigations,0,cost.prison.escort,cost.nhs.tb.service + cost.tb.investigations,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦   ¦       ¦   ¦--TB                                                                                                                                ,soc.prop.prev.tb.tx.symp.tb.dx,pIsolation*cost.prison.cell.isolation + cost.contact.tracing,0,0,pIsolation*cost.prison.cell.isolation + cost.contact.tracing,0,pIsolation*cost.prison.cell.isolation + cost.contact.tracing,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦   ¦       ¦   ¦   °--TB outcomes                                                                                                                   ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦   ¦       ¦   ¦       ¦--ATT                                                                                                                       ,soc.prop.starting.att,pAttending*(cost.nhs.tb.service + cost.prison.escort),0,0,0,pAttending*(cost.nhs.tb.service + cost.prison.escort),pAttending*(cost.prison.escort),pAttending*(cost.nhs.tb.service),0,0,0,0,0,0,0,0,0,1,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦   ¦       ¦   ¦       ¦   ¦--completed ATT                                                                                                         ,soc.prop.completing.att,(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + (1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visit + cost.prison.escort)) + (pDSTB*DurDSTB*cost.dsatt.drugs + (1-pDSTB)*DurMDRTB*cost.mdratt.drugs) + cost.dots*(pDSTB*DurDSTB + (1-pDSTB)*DurMDRTB),0,0,0,(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + (1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visit + cost.prison.escort)) + (pDSTB*DurDSTB*cost.dsatt.drugs + (1-pDSTB)*DurMDRTB*cost.mdratt.drugs) + cost.dots*(pDSTB*DurDSTB + (1-pDSTB)*DurMDRTB),(pDSTB*dstb.visits*(cost.prison.escort) + (1-pDSTB)*mdrtb.visits*(cost.prison.escort)),(pDSTB*dstb.visits*(cost.dstb.opd.visit ) + (1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visit )) + (pDSTB*DurDSTB*cost.dsatt.drugs + (1-pDSTB)*DurMDRTB*cost.mdratt.drugs) + cost.dots*(pDSTB*DurDSTB + (1-pDSTB)*DurMDRTB),0,0,0,0,0,0,0,0,0,0,0,1,0,0,1
     ¦   ¦   ¦       ¦   ¦   ¦       ¦   ¦       ¦   °--did not complete ATT                                                                                                  ,1-soc.prop.completing.att,IncompDurDSTB/DurDSTB*(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + pDSTB*DurDSTB*(cost.dsatt.drugs + cost.dots))+ IncompDurMDRTB/DurMDRTB*((1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visits + cost.prison.escort)  + (1-pDSTB)*DurMDRTB*(cost.mdratt.drugs + cost.dots)),0,0,0,IncompDurDSTB/DurDSTB*(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + pDSTB*DurDSTB*(cost.dsatt.drugs + cost.dots))+ IncompDurMDRTB/DurMDRTB*((1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visits + cost.prison.escort)  + (1-pDSTB)*DurMDRTB*(cost.mdratt.drugs + cost.dots)),IncompDurDSTB/DurDSTB*pDSTB*dstb.visits*(cost.prison.escort) + IncompDurMDRTB/DurMDRTB*(1-pDSTB)*mdrtb.visits*(cost.prison.escort),IncompDurDSTB/DurDSTB*(pDSTB*dstb.visits*(cost.dstb.opd.visit) + pDSTB*DurDSTB*(cost.dsatt.drugs + cost.dots))+ IncompDurMDRTB/DurMDRTB*((1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visits)  + (1-pDSTB)*DurMDRTB*(cost.mdratt.drugs + cost.dots)),0,0,0,0,0,0,0,0,0,0,0,1,0,0,1
     ¦   ¦   ¦       ¦   ¦   ¦       ¦   ¦       °--no ATT                                                                                                                    ,1-soc.prop.starting.att,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,1,1
     ¦   ¦   ¦       ¦   ¦   ¦       ¦   °--Not TB                                                                                                                            ,1-soc.prop.prev.tb.tx.symp.tb.dx,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦   ¦       ¦       °--LTBI pathway                                                                                                                  ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦--IGRA test                                                                                                                 ,soc.prop.igra.tested,cost.igra.test,0,cost.igra.test,0,0,0,cost.igra.test,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦--IGRA test +                                                                                                           ,soc.prop.igra.test.positive,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦--Previous chest x-ray                                                                                              ,soc.prop.prev.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦   ¦--Abornomal chest x-ray                                                                                         ,soc.prop.abnormal.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦--Referred to NHS TB service                                                                                ,soc.prop.abn.xray.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦--Attended                                                                                              ,soc.prop.abn.xray.nhs.attend.referral,cost.nhs.tb.service + cost.prison.escort + cost.tb.investigations,0,0,cost.nhs.tb.service + cost.prison.escort + cost.tb.investigations,0,cost.prison.escort,cost.nhs.tb.service + cost.tb.investigations,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦   ¦--TB                                                                                                ,soc.prop.abn.xray.tb.dx,pIsolation*cost.prison.cell.isolation + cost.contact.tracing,0,0,pIsolation*cost.prison.cell.isolation + cost.contact.tracing,0,pIsolation*cost.prison.cell.isolation + cost.contact.tracing,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦   ¦   °--TB outcomes                                                                                   ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦   ¦       ¦--ATT                                                                                       ,soc.prop.starting.att,pAttending*(cost.nhs.tb.service + cost.prison.escort),0,0,0,pAttending*(cost.nhs.tb.service + cost.prison.escort),pAttending*(cost.prison.escort),pAttending*(cost.nhs.tb.service),0,0,0,0,0,0,0,0,0,1,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦   ¦       ¦   ¦--completed ATT                                                                         ,soc.prop.completing.att,(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + (1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visit + cost.prison.escort)) + (pDSTB*DurDSTB*cost.dsatt.drugs + (1-pDSTB)*DurMDRTB*cost.mdratt.drugs) + cost.dots*(pDSTB*DurDSTB + (1-pDSTB)*DurMDRTB),0,0,0,(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + (1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visit + cost.prison.escort)) + (pDSTB*DurDSTB*cost.dsatt.drugs + (1-pDSTB)*DurMDRTB*cost.mdratt.drugs) + cost.dots*(pDSTB*DurDSTB + (1-pDSTB)*DurMDRTB),(pDSTB*dstb.visits*(cost.prison.escort) + (1-pDSTB)*mdrtb.visits*(cost.prison.escort)),(pDSTB*dstb.visits*(cost.dstb.opd.visit ) + (1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visit )) + (pDSTB*DurDSTB*cost.dsatt.drugs + (1-pDSTB)*DurMDRTB*cost.mdratt.drugs) + cost.dots*(pDSTB*DurDSTB + (1-pDSTB)*DurMDRTB),0,0,0,0,0,0,0,0,0,0,0,1,0,0,1
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦   ¦       ¦   °--did not complete ATT                                                                  ,1-soc.prop.completing.att,IncompDurDSTB/DurDSTB*(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + pDSTB*DurDSTB*(cost.dsatt.drugs + cost.dots))+ IncompDurMDRTB/DurMDRTB*((1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visits + cost.prison.escort)  + (1-pDSTB)*DurMDRTB*(cost.mdratt.drugs + cost.dots)),0,0,0,IncompDurDSTB/DurDSTB*(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + pDSTB*DurDSTB*(cost.dsatt.drugs + cost.dots))+ IncompDurMDRTB/DurMDRTB*((1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visits + cost.prison.escort)  + (1-pDSTB)*DurMDRTB*(cost.mdratt.drugs + cost.dots)),IncompDurDSTB/DurDSTB*pDSTB*dstb.visits*(cost.prison.escort) + IncompDurMDRTB/DurMDRTB*(1-pDSTB)*mdrtb.visits*(cost.prison.escort),IncompDurDSTB/DurDSTB*(pDSTB*dstb.visits*(cost.dstb.opd.visit) + pDSTB*DurDSTB*(cost.dsatt.drugs + cost.dots))+ IncompDurMDRTB/DurMDRTB*((1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visits)  + (1-pDSTB)*DurMDRTB*(cost.mdratt.drugs + cost.dots)),0,0,0,0,0,0,0,0,0,0,0,1,0,0,1
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦   ¦       °--no ATT                                                                                    ,1-soc.prop.starting.att,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,1,1
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦   °--Not TB                                                                                            ,1-soc.prop.abn.xray.tb.dx,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦       ¦--In prison/IRC for >3 months                                                                   ,soc.prop.staying.o3.months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦       ¦   °--Refer for treatment                                                                       ,tpt.nhs.referral,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,0,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦       ¦       °--TPT outcomes                                                                          ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦       ¦           ¦--gets TPT                                                                          ,soc.prop.staying.o3.months.tpt,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦       ¦           ¦   ¦--completed TPT                                                                 ,soc.prop.staying.o3.months.complete.tpt,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,0,durTPT*(cost.dots) + TPT.visits*(cost.prison.escort),durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦       ¦           ¦   °--did not complete TPT                                                          ,1-soc.prop.staying.o3.months.complete.tpt,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,0,IncompDurTPT*(durTPT*(cost.dots) + TPT.visits*(cost.prison.escort)),IncompDurTPT*(durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit)),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦       ¦           °--does not get TPT                                                                  ,1-soc.prop.staying.o3.months.tpt,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,1
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦       °--In prison/IRC for <3 months                                                                   ,1-soc.prop.staying.o3.months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦           ¦--Remaining in the UK (community or other prison/IRC)                                       ,soc.prop.staying.u3.months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦           ¦   °--Refer for treatment and forward details to receiving prison/community TB nurse        ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦           ¦       °--TPT outcomes                                                                      ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦           ¦           ¦--gets TPT                                                                      ,soc.prop.staying.u3.months.uk.tpt,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦           ¦           ¦   ¦--completed TPT                                                             ,soc.prop.staying.u3.months.uk.complete.tpt,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,0,durTPT*(cost.dots) + TPT.visits*(cost.prison.escort),durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦           ¦           ¦   °--did not complete TPT                                                      ,1-soc.prop.staying.u3.months.uk.complete.tpt,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,0,IncompDurTPT*(durTPT*(cost.dots) + TPT.visits*(cost.prison.escort)),IncompDurTPT*(durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit)),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦           ¦           °--does not get TPT                                                              ,1-soc.prop.staying.u3.months.uk.tpt,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,1
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦           °--Early removal scheme or deportation                                                       ,1-soc.prop.staying.u3.months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   °--did not Attend                                                                                        ,1-soc.prop.abn.xray.nhs.attend.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦   ¦   °--Not referred to NHS TB service                                                                            ,1-soc.prop.abn.xray.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦   °--Normal chest x-ray                                                                                            ,1-soc.prop.abnormal.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦       ¦--In prison/IRC for >3 months                                                                               ,soc.prop.staying.o3.months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦       ¦   °--Refer for treatment                                                                                   ,tpt.nhs.referral,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,0,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦       ¦       °--TPT outcomes                                                                                      ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦       ¦           ¦--gets TPT                                                                                      ,soc.prop.staying.o3.months.tpt,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦       ¦           ¦   ¦--completed TPT                                                                             ,soc.prop.staying.o3.months.complete.tpt,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,0,durTPT*(cost.dots) + TPT.visits*(cost.prison.escort),durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦       ¦           ¦   °--did not complete TPT                                                                      ,1-soc.prop.staying.o3.months.complete.tpt,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,0,IncompDurTPT*(durTPT*(cost.dots) + TPT.visits*(cost.prison.escort)),IncompDurTPT*(durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit)),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦       ¦           °--does not get TPT                                                                              ,1-soc.prop.staying.o3.months.tpt,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,1
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦       °--In prison/IRC for <3 months                                                                               ,1-soc.prop.staying.o3.months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦           ¦--Remaining in the UK (community or other prison/IRC)                                                   ,soc.prop.staying.u3.months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦           ¦   °--Refer for treatment and forward details to receiving prison/community TB nurse                    ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦           ¦       °--TPT outcomes                                                                                  ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦           ¦           ¦--gets TPT                                                                                  ,soc.prop.staying.u3.months.uk.tpt,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦           ¦           ¦   ¦--completed TPT                                                                         ,soc.prop.staying.u3.months.uk.complete.tpt,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,0,durTPT*(cost.dots) + TPT.visits*(cost.prison.escort),durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦           ¦           ¦   °--did not complete TPT                                                                  ,1-soc.prop.staying.u3.months.uk.complete.tpt,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,0,IncompDurTPT*(durTPT*(cost.dots) + TPT.visits*(cost.prison.escort)),IncompDurTPT*(durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit)),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦           ¦           °--does not get TPT                                                                          ,1-soc.prop.staying.u3.months.uk.tpt,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,1
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦           °--Early removal scheme or deportation                                                                   ,1-soc.prop.staying.u3.months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦   °--No previous chest x-ray                                                                                           ,1-soc.prop.prev.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦--Chest x-ray                                                                                                   ,soc.prop.xray,cost.chest.xray,0,0,cost.chest.xray,0,0,cost.chest.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦   ¦--Abornomal chest x-ray                                                                                     ,soc.prop.abnormal.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦--Referred to NHS TB service                                                                            ,soc.prop.abn.xray.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦--Attended                                                                                          ,soc.prop.abn.xray.nhs.attend.referral,cost.nhs.tb.service + cost.prison.escort + cost.tb.investigations,0,0,cost.nhs.tb.service + cost.prison.escort + cost.tb.investigations,0,cost.prison.escort,cost.nhs.tb.service + cost.tb.investigations,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦   ¦--TB                                                                                            ,soc.prop.abn.xray.tb.dx,pIsolation*cost.prison.cell.isolation + cost.contact.tracing,0,0,pIsolation*cost.prison.cell.isolation + cost.contact.tracing,0,pIsolation*cost.prison.cell.isolation + cost.contact.tracing,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦   ¦   °--TB outcomes                                                                               ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦   ¦       ¦--ATT                                                                                   ,soc.prop.starting.att,pAttending*(cost.nhs.tb.service + cost.prison.escort),0,0,0,pAttending*(cost.nhs.tb.service + cost.prison.escort),pAttending*(cost.prison.escort),pAttending*(cost.nhs.tb.service),0,0,0,0,0,0,0,0,0,1,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦   ¦       ¦   ¦--completed ATT                                                                     ,soc.prop.completing.att,(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + (1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visit + cost.prison.escort)) + (pDSTB*DurDSTB*cost.dsatt.drugs + (1-pDSTB)*DurMDRTB*cost.mdratt.drugs) + cost.dots*(pDSTB*DurDSTB + (1-pDSTB)*DurMDRTB),0,0,0,(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + (1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visit + cost.prison.escort)) + (pDSTB*DurDSTB*cost.dsatt.drugs + (1-pDSTB)*DurMDRTB*cost.mdratt.drugs) + cost.dots*(pDSTB*DurDSTB + (1-pDSTB)*DurMDRTB),(pDSTB*dstb.visits*(cost.prison.escort) + (1-pDSTB)*mdrtb.visits*(cost.prison.escort)),(pDSTB*dstb.visits*(cost.dstb.opd.visit ) + (1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visit )) + (pDSTB*DurDSTB*cost.dsatt.drugs + (1-pDSTB)*DurMDRTB*cost.mdratt.drugs) + cost.dots*(pDSTB*DurDSTB + (1-pDSTB)*DurMDRTB),0,0,0,0,0,0,0,0,0,0,0,1,0,0,1
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦   ¦       ¦   °--did not complete ATT                                                              ,1-soc.prop.completing.att,IncompDurDSTB/DurDSTB*(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + pDSTB*DurDSTB*(cost.dsatt.drugs + cost.dots))+ IncompDurMDRTB/DurMDRTB*((1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visits + cost.prison.escort)  + (1-pDSTB)*DurMDRTB*(cost.mdratt.drugs + cost.dots)),0,0,0,IncompDurDSTB/DurDSTB*(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + pDSTB*DurDSTB*(cost.dsatt.drugs + cost.dots))+ IncompDurMDRTB/DurMDRTB*((1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visits + cost.prison.escort)  + (1-pDSTB)*DurMDRTB*(cost.mdratt.drugs + cost.dots)),IncompDurDSTB/DurDSTB*pDSTB*dstb.visits*(cost.prison.escort) + IncompDurMDRTB/DurMDRTB*(1-pDSTB)*mdrtb.visits*(cost.prison.escort),IncompDurDSTB/DurDSTB*(pDSTB*dstb.visits*(cost.dstb.opd.visit) + pDSTB*DurDSTB*(cost.dsatt.drugs + cost.dots))+ IncompDurMDRTB/DurMDRTB*((1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visits)  + (1-pDSTB)*DurMDRTB*(cost.mdratt.drugs + cost.dots)),0,0,0,0,0,0,0,0,0,0,0,1,0,0,1
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦   ¦       °--no ATT                                                                                ,1-soc.prop.starting.att,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,1,1
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦   °--Not TB                                                                                        ,1-soc.prop.abn.xray.tb.dx,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦       ¦--In prison/IRC for >3 months                                                               ,soc.prop.staying.o3.months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦       ¦   °--Refer for treatment                                                                   ,tpt.nhs.referral,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,0,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦       ¦       °--TPT outcomes                                                                      ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦       ¦           ¦--gets TPT                                                                      ,soc.prop.staying.o3.months.tpt,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦       ¦           ¦   ¦--completed TPT                                                             ,soc.prop.staying.o3.months.complete.tpt,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,0,durTPT*(cost.dots) + TPT.visits*(cost.prison.escort),durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦       ¦           ¦   °--did not complete TPT                                                      ,1-soc.prop.staying.o3.months.complete.tpt,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,0,IncompDurTPT*(durTPT*(cost.dots) + TPT.visits*(cost.prison.escort)),IncompDurTPT*(durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit)),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦       ¦           °--does not get TPT                                                              ,1-soc.prop.staying.o3.months.tpt,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,1
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦       °--In prison/IRC for <3 months                                                               ,1-soc.prop.staying.o3.months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦           ¦--Remaining in the UK (community or other prison/IRC)                                   ,soc.prop.staying.u3.months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦           ¦   °--Refer for treatment and forward details to receiving prison/community TB nurse    ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦           ¦       °--TPT outcomes                                                                  ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦           ¦           ¦--gets TPT                                                                  ,soc.prop.staying.u3.months.uk.tpt,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦           ¦           ¦   ¦--completed TPT                                                         ,soc.prop.staying.u3.months.uk.complete.tpt,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,0,durTPT*(cost.dots) + TPT.visits*(cost.prison.escort),durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦           ¦           ¦   °--did not complete TPT                                                  ,1-soc.prop.staying.u3.months.uk.complete.tpt,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,0,IncompDurTPT*(durTPT*(cost.dots) + TPT.visits*(cost.prison.escort)),IncompDurTPT*(durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit)),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦           ¦           °--does not get TPT                                                          ,1-soc.prop.staying.u3.months.uk.tpt,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,1
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦           °--Early removal scheme or deportation                                                   ,1-soc.prop.staying.u3.months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   °--did not Attend                                                                                    ,1-soc.prop.abn.xray.nhs.attend.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦   ¦   °--Not referred to NHS TB service                                                                        ,1-soc.prop.abn.xray.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦   °--Normal chest x-ray                                                                                        ,1-soc.prop.abnormal.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦       ¦--In prison/IRC for >3 months                                                                           ,soc.prop.staying.o3.months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦       ¦   °--Refer for treatment                                                                               ,tpt.nhs.referral,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,0,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦       ¦       °--TPT outcomes                                                                                  ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦       ¦           ¦--gets TPT                                                                                  ,soc.prop.staying.o3.months.tpt,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦       ¦           ¦   ¦--completed TPT                                                                         ,soc.prop.staying.o3.months.complete.tpt,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,0,durTPT*(cost.dots) + TPT.visits*(cost.prison.escort),durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦       ¦           ¦   °--did not complete TPT                                                                  ,1-soc.prop.staying.o3.months.complete.tpt,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,0,IncompDurTPT*(durTPT*(cost.dots) + TPT.visits*(cost.prison.escort)),IncompDurTPT*(durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit)),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦       ¦           °--does not get TPT                                                                          ,1-soc.prop.staying.o3.months.tpt,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,1
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦       °--In prison/IRC for <3 months                                                                           ,1-soc.prop.staying.o3.months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦           ¦--Remaining in the UK (community or other prison/IRC)                                               ,soc.prop.staying.u3.months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦           ¦   °--Refer for treatment and forward details to receiving prison/community TB nurse                ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦           ¦       °--TPT outcomes                                                                              ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦           ¦           ¦--gets TPT                                                                              ,soc.prop.staying.u3.months.uk.tpt,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦           ¦           ¦   ¦--completed TPT                                                                     ,soc.prop.staying.u3.months.uk.complete.tpt,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,0,durTPT*(cost.dots) + TPT.visits*(cost.prison.escort),durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦           ¦           ¦   °--did not complete TPT                                                              ,1-soc.prop.staying.u3.months.uk.complete.tpt,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,0,IncompDurTPT*(durTPT*(cost.dots) + TPT.visits*(cost.prison.escort)),IncompDurTPT*(durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit)),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦           ¦           °--does not get TPT                                                                      ,1-soc.prop.staying.u3.months.uk.tpt,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,1
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦           °--Early removal scheme or deportation                                                               ,1-soc.prop.staying.u3.months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦       °--No chest x-ray                                                                                                ,1-soc.prop.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦           ¦--Referred to NHS TB service                                                                                ,soc.prop.no.xray.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦           ¦   ¦--Attended                                                                                              ,soc.prop.no.xray.nhs.attend.referral,cost.nhs.tb.service + cost.prison.escort + cost.tb.investigations,0,0,cost.nhs.tb.service + cost.prison.escort + cost.tb.investigations,0,cost.prison.escort,cost.nhs.tb.service + cost.tb.investigations,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦           ¦   ¦   ¦--TB                                                                                                ,soc.prop.no.xray.tb.dx,pIsolation*cost.prison.cell.isolation + cost.contact.tracing,0,0,pIsolation*cost.prison.cell.isolation + cost.contact.tracing,0,pIsolation*cost.prison.cell.isolation + cost.contact.tracing,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦           ¦   ¦   ¦   °--TB outcomes                                                                                   ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦           ¦   ¦   ¦       ¦--ATT                                                                                       ,soc.prop.starting.att,pAttending*(cost.nhs.tb.service + cost.prison.escort),0,0,0,pAttending*(cost.nhs.tb.service + cost.prison.escort),pAttending*(cost.prison.escort),pAttending*(cost.nhs.tb.service),0,0,0,0,0,0,0,0,0,1,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦           ¦   ¦   ¦       ¦   ¦--completed ATT                                                                         ,soc.prop.completing.att,(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + (1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visit + cost.prison.escort)) + (pDSTB*DurDSTB*cost.dsatt.drugs + (1-pDSTB)*DurMDRTB*cost.mdratt.drugs) + cost.dots*(pDSTB*DurDSTB + (1-pDSTB)*DurMDRTB),0,0,0,(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + (1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visit + cost.prison.escort)) + (pDSTB*DurDSTB*cost.dsatt.drugs + (1-pDSTB)*DurMDRTB*cost.mdratt.drugs) + cost.dots*(pDSTB*DurDSTB + (1-pDSTB)*DurMDRTB),(pDSTB*dstb.visits*(cost.prison.escort) + (1-pDSTB)*mdrtb.visits*(cost.prison.escort)),(pDSTB*dstb.visits*(cost.dstb.opd.visit ) + (1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visit )) + (pDSTB*DurDSTB*cost.dsatt.drugs + (1-pDSTB)*DurMDRTB*cost.mdratt.drugs) + cost.dots*(pDSTB*DurDSTB + (1-pDSTB)*DurMDRTB),0,0,0,0,0,0,0,0,0,0,0,1,0,0,1
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦           ¦   ¦   ¦       ¦   °--did not complete ATT                                                                  ,1-soc.prop.completing.att,IncompDurDSTB/DurDSTB*(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + pDSTB*DurDSTB*(cost.dsatt.drugs + cost.dots))+ IncompDurMDRTB/DurMDRTB*((1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visits + cost.prison.escort)  + (1-pDSTB)*DurMDRTB*(cost.mdratt.drugs + cost.dots)),0,0,0,IncompDurDSTB/DurDSTB*(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + pDSTB*DurDSTB*(cost.dsatt.drugs + cost.dots))+ IncompDurMDRTB/DurMDRTB*((1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visits + cost.prison.escort)  + (1-pDSTB)*DurMDRTB*(cost.mdratt.drugs + cost.dots)),IncompDurDSTB/DurDSTB*pDSTB*dstb.visits*(cost.prison.escort) + IncompDurMDRTB/DurMDRTB*(1-pDSTB)*mdrtb.visits*(cost.prison.escort),IncompDurDSTB/DurDSTB*(pDSTB*dstb.visits*(cost.dstb.opd.visit) + pDSTB*DurDSTB*(cost.dsatt.drugs + cost.dots))+ IncompDurMDRTB/DurMDRTB*((1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visits)  + (1-pDSTB)*DurMDRTB*(cost.mdratt.drugs + cost.dots)),0,0,0,0,0,0,0,0,0,0,0,1,0,0,1
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦           ¦   ¦   ¦       °--no ATT                                                                                    ,1-soc.prop.starting.att,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,1,1
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦           ¦   ¦   °--Not TB                                                                                            ,1-soc.prop.no.xray.tb.dx,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦           ¦   ¦       ¦--In prison/IRC for >3 months                                                                   ,soc.prop.staying.o3.months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦           ¦   ¦       ¦   °--Refer for treatment                                                                       ,tpt.nhs.referral,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,0,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦           ¦   ¦       ¦       °--TPT outcomes                                                                          ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦           ¦   ¦       ¦           ¦--gets TPT                                                                          ,soc.prop.staying.o3.months.tpt,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦           ¦   ¦       ¦           ¦   ¦--completed TPT                                                                 ,soc.prop.staying.o3.months.complete.tpt,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,0,durTPT*(cost.dots) + TPT.visits*(cost.prison.escort),durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦           ¦   ¦       ¦           ¦   °--did not complete TPT                                                          ,1-soc.prop.staying.o3.months.complete.tpt,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,0,IncompDurTPT*(durTPT*(cost.dots) + TPT.visits*(cost.prison.escort)),IncompDurTPT*(durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit)),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦           ¦   ¦       ¦           °--does not get TPT                                                                  ,1-soc.prop.staying.o3.months.tpt,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,1
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦           ¦   ¦       °--In prison/IRC for <3 months                                                                   ,1-soc.prop.staying.o3.months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦           ¦   ¦           ¦--Remaining in the UK (community or other prison/IRC)                                       ,soc.prop.staying.u3.months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦           ¦   ¦           ¦   °--Refer for treatment and forward details to receiving prison/community TB nurse        ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦           ¦   ¦           ¦       °--TPT outcomes                                                                      ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦           ¦   ¦           ¦           ¦--gets TPT                                                                      ,soc.prop.staying.u3.months.uk.tpt,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦           ¦   ¦           ¦           ¦   ¦--completed TPT                                                             ,soc.prop.staying.u3.months.uk.complete.tpt,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,0,durTPT*(cost.dots) + TPT.visits*(cost.prison.escort),durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦           ¦   ¦           ¦           ¦   °--did not complete TPT                                                      ,1-soc.prop.staying.u3.months.uk.complete.tpt,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,0,IncompDurTPT*(durTPT*(cost.dots) + TPT.visits*(cost.prison.escort)),IncompDurTPT*(durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit)),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦           ¦   ¦           ¦           °--does not get TPT                                                              ,1-soc.prop.staying.u3.months.uk.tpt,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,1
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦           ¦   ¦           °--Early removal scheme or deportation                                                       ,1-soc.prop.staying.u3.months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦           ¦   °--did not Attend                                                                                        ,1-soc.prop.no.xray.nhs.attend.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦           °--Not referred to NHS TB service                                                                            ,1-soc.prop.no.xray.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   °--IGRA test -                                                                                                           ,1-soc.prop.igra.test.positive,0,0,0,0,0,0,0,0,0,0,1,0,0,1,0,0,0,0,0,0,0,1
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           °--no IGRA test                                                                                                              ,1-soc.prop.igra.tested,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦       ¦   ¦   ¦       °--did not Attend                                                                                                                        ,1-soc.prop.prev.tb.tx.symp.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦       ¦   ¦   °--No clinical suspicion of TB                                                                                                                   ,1-soc.prop.prev.tb.tx.symp.tb.suspicion,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦       °--LTBI pathway                                                                                                                              ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦           ¦--IGRA test                                                                                                                             ,soc.prop.igra.tested,cost.igra.test,0,cost.igra.test,0,0,0,cost.igra.test,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦           ¦   ¦--IGRA test +                                                                                                                       ,soc.prop.igra.test.positive,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦           ¦   ¦   ¦--Previous chest x-ray                                                                                                          ,soc.prop.prev.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦           ¦   ¦   ¦   ¦--Abornomal chest x-ray                                                                                                     ,soc.prop.abnormal.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦           ¦   ¦   ¦   ¦   ¦--Referred to NHS TB service                                                                                            ,soc.prop.abn.xray.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦           ¦   ¦   ¦   ¦   ¦   ¦--Attended                                                                                                          ,soc.prop.abn.xray.nhs.attend.referral,cost.nhs.tb.service + cost.prison.escort + cost.tb.investigations,0,0,cost.nhs.tb.service + cost.prison.escort + cost.tb.investigations,0,cost.prison.escort,cost.nhs.tb.service + cost.tb.investigations,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦           ¦   ¦   ¦   ¦   ¦   ¦   ¦--TB                                                                                                            ,soc.prop.abn.xray.tb.dx,pIsolation*cost.prison.cell.isolation + cost.contact.tracing,0,0,pIsolation*cost.prison.cell.isolation + cost.contact.tracing,0,pIsolation*cost.prison.cell.isolation + cost.contact.tracing,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦           ¦   ¦   ¦   ¦   ¦   ¦   ¦   °--TB outcomes                                                                                               ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦           ¦   ¦   ¦   ¦   ¦   ¦   ¦       ¦--ATT                                                                                                   ,soc.prop.starting.att,pAttending*(cost.nhs.tb.service + cost.prison.escort),0,0,0,pAttending*(cost.nhs.tb.service + cost.prison.escort),pAttending*(cost.prison.escort),pAttending*(cost.nhs.tb.service),0,0,0,0,0,0,0,0,0,1,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦           ¦   ¦   ¦   ¦   ¦   ¦   ¦       ¦   ¦--completed ATT                                                                                     ,soc.prop.completing.att,(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + (1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visit + cost.prison.escort)) + (pDSTB*DurDSTB*cost.dsatt.drugs + (1-pDSTB)*DurMDRTB*cost.mdratt.drugs) + cost.dots*(pDSTB*DurDSTB + (1-pDSTB)*DurMDRTB),0,0,0,(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + (1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visit + cost.prison.escort)) + (pDSTB*DurDSTB*cost.dsatt.drugs + (1-pDSTB)*DurMDRTB*cost.mdratt.drugs) + cost.dots*(pDSTB*DurDSTB + (1-pDSTB)*DurMDRTB),(pDSTB*dstb.visits*(cost.prison.escort) + (1-pDSTB)*mdrtb.visits*(cost.prison.escort)),(pDSTB*dstb.visits*(cost.dstb.opd.visit ) + (1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visit )) + (pDSTB*DurDSTB*cost.dsatt.drugs + (1-pDSTB)*DurMDRTB*cost.mdratt.drugs) + cost.dots*(pDSTB*DurDSTB + (1-pDSTB)*DurMDRTB),0,0,0,0,0,0,0,0,0,0,0,1,0,0,1
     ¦   ¦   ¦       ¦   ¦           ¦   ¦   ¦   ¦   ¦   ¦   ¦       ¦   °--did not complete ATT                                                                              ,1-soc.prop.completing.att,IncompDurDSTB/DurDSTB*(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + pDSTB*DurDSTB*(cost.dsatt.drugs + cost.dots))+ IncompDurMDRTB/DurMDRTB*((1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visits + cost.prison.escort)  + (1-pDSTB)*DurMDRTB*(cost.mdratt.drugs + cost.dots)),0,0,0,IncompDurDSTB/DurDSTB*(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + pDSTB*DurDSTB*(cost.dsatt.drugs + cost.dots))+ IncompDurMDRTB/DurMDRTB*((1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visits + cost.prison.escort)  + (1-pDSTB)*DurMDRTB*(cost.mdratt.drugs + cost.dots)),IncompDurDSTB/DurDSTB*pDSTB*dstb.visits*(cost.prison.escort) + IncompDurMDRTB/DurMDRTB*(1-pDSTB)*mdrtb.visits*(cost.prison.escort),IncompDurDSTB/DurDSTB*(pDSTB*dstb.visits*(cost.dstb.opd.visit) + pDSTB*DurDSTB*(cost.dsatt.drugs + cost.dots))+ IncompDurMDRTB/DurMDRTB*((1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visits)  + (1-pDSTB)*DurMDRTB*(cost.mdratt.drugs + cost.dots)),0,0,0,0,0,0,0,0,0,0,0,1,0,0,1
     ¦   ¦   ¦       ¦   ¦           ¦   ¦   ¦   ¦   ¦   ¦   ¦       °--no ATT                                                                                                ,1-soc.prop.starting.att,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,1,1
     ¦   ¦   ¦       ¦   ¦           ¦   ¦   ¦   ¦   ¦   ¦   °--Not TB                                                                                                        ,1-soc.prop.abn.xray.tb.dx,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦           ¦   ¦   ¦   ¦   ¦   ¦       ¦--In prison/IRC for >3 months                                                                               ,soc.prop.staying.o3.months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦           ¦   ¦   ¦   ¦   ¦   ¦       ¦   °--Refer for treatment                                                                                   ,tpt.nhs.referral,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,0,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦           ¦   ¦   ¦   ¦   ¦   ¦       ¦       °--TPT outcomes                                                                                      ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦           ¦   ¦   ¦   ¦   ¦   ¦       ¦           ¦--gets TPT                                                                                      ,soc.prop.staying.o3.months.tpt,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦           ¦   ¦   ¦   ¦   ¦   ¦       ¦           ¦   ¦--completed TPT                                                                             ,soc.prop.staying.o3.months.complete.tpt,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,0,durTPT*(cost.dots) + TPT.visits*(cost.prison.escort),durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦   ¦   ¦       ¦   ¦           ¦   ¦   ¦   ¦   ¦   ¦       ¦           ¦   °--did not complete TPT                                                                      ,1-soc.prop.staying.o3.months.complete.tpt,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,0,IncompDurTPT*(durTPT*(cost.dots) + TPT.visits*(cost.prison.escort)),IncompDurTPT*(durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit)),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦   ¦   ¦       ¦   ¦           ¦   ¦   ¦   ¦   ¦   ¦       ¦           °--does not get TPT                                                                              ,1-soc.prop.staying.o3.months.tpt,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,1
     ¦   ¦   ¦       ¦   ¦           ¦   ¦   ¦   ¦   ¦   ¦       °--In prison/IRC for <3 months                                                                               ,1-soc.prop.staying.o3.months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦           ¦   ¦   ¦   ¦   ¦   ¦           ¦--Remaining in the UK (community or other prison/IRC)                                                   ,soc.prop.staying.u3.months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦           ¦   ¦   ¦   ¦   ¦   ¦           ¦   °--Refer for treatment and forward details to receiving prison/community TB nurse                    ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦           ¦   ¦   ¦   ¦   ¦   ¦           ¦       °--TPT outcomes                                                                                  ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦           ¦   ¦   ¦   ¦   ¦   ¦           ¦           ¦--gets TPT                                                                                  ,soc.prop.staying.u3.months.uk.tpt,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦           ¦   ¦   ¦   ¦   ¦   ¦           ¦           ¦   ¦--completed TPT                                                                         ,soc.prop.staying.u3.months.uk.complete.tpt,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,0,durTPT*(cost.dots) + TPT.visits*(cost.prison.escort),durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦   ¦   ¦       ¦   ¦           ¦   ¦   ¦   ¦   ¦   ¦           ¦           ¦   °--did not complete TPT                                                                  ,1-soc.prop.staying.u3.months.uk.complete.tpt,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,0,IncompDurTPT*(durTPT*(cost.dots) + TPT.visits*(cost.prison.escort)),IncompDurTPT*(durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit)),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦   ¦   ¦       ¦   ¦           ¦   ¦   ¦   ¦   ¦   ¦           ¦           °--does not get TPT                                                                          ,1-soc.prop.staying.u3.months.uk.tpt,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,1
     ¦   ¦   ¦       ¦   ¦           ¦   ¦   ¦   ¦   ¦   ¦           °--Early removal scheme or deportation                                                                   ,1-soc.prop.staying.u3.months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦       ¦   ¦           ¦   ¦   ¦   ¦   ¦   °--did not Attend                                                                                                    ,1-soc.prop.abn.xray.nhs.attend.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦       ¦   ¦           ¦   ¦   ¦   ¦   °--Not referred to NHS TB service                                                                                        ,1-soc.prop.abn.xray.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦       ¦   ¦           ¦   ¦   ¦   °--Normal chest x-ray                                                                                                        ,1-soc.prop.abnormal.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦           ¦   ¦   ¦       ¦--In prison/IRC for >3 months                                                                                           ,soc.prop.staying.o3.months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦           ¦   ¦   ¦       ¦   °--Refer for treatment                                                                                               ,tpt.nhs.referral,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,0,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦           ¦   ¦   ¦       ¦       °--TPT outcomes                                                                                                  ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦           ¦   ¦   ¦       ¦           ¦--gets TPT                                                                                                  ,soc.prop.staying.o3.months.tpt,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦           ¦   ¦   ¦       ¦           ¦   ¦--completed TPT                                                                                         ,soc.prop.staying.o3.months.complete.tpt,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,0,durTPT*(cost.dots) + TPT.visits*(cost.prison.escort),durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦   ¦   ¦       ¦   ¦           ¦   ¦   ¦       ¦           ¦   °--did not complete TPT                                                                                  ,1-soc.prop.staying.o3.months.complete.tpt,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,0,IncompDurTPT*(durTPT*(cost.dots) + TPT.visits*(cost.prison.escort)),IncompDurTPT*(durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit)),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦   ¦   ¦       ¦   ¦           ¦   ¦   ¦       ¦           °--does not get TPT                                                                                          ,1-soc.prop.staying.o3.months.tpt,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,1
     ¦   ¦   ¦       ¦   ¦           ¦   ¦   ¦       °--In prison/IRC for <3 months                                                                                           ,1-soc.prop.staying.o3.months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦           ¦   ¦   ¦           ¦--Remaining in the UK (community or other prison/IRC)                                                               ,soc.prop.staying.u3.months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦           ¦   ¦   ¦           ¦   °--Refer for treatment and forward details to receiving prison/community TB nurse                                ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦           ¦   ¦   ¦           ¦       °--TPT outcomes                                                                                              ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦           ¦   ¦   ¦           ¦           ¦--gets TPT                                                                                              ,soc.prop.staying.u3.months.uk.tpt,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦           ¦   ¦   ¦           ¦           ¦   ¦--completed TPT                                                                                     ,soc.prop.staying.u3.months.uk.complete.tpt,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,0,durTPT*(cost.dots) + TPT.visits*(cost.prison.escort),durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦   ¦   ¦       ¦   ¦           ¦   ¦   ¦           ¦           ¦   °--did not complete TPT                                                                              ,1-soc.prop.staying.u3.months.uk.complete.tpt,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,0,IncompDurTPT*(durTPT*(cost.dots) + TPT.visits*(cost.prison.escort)),IncompDurTPT*(durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit)),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦   ¦   ¦       ¦   ¦           ¦   ¦   ¦           ¦           °--does not get TPT                                                                                      ,1-soc.prop.staying.u3.months.uk.tpt,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,1
     ¦   ¦   ¦       ¦   ¦           ¦   ¦   ¦           °--Early removal scheme or deportation                                                                               ,1-soc.prop.staying.u3.months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦       ¦   ¦           ¦   ¦   °--No previous chest x-ray                                                                                                       ,1-soc.prop.prev.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦           ¦   ¦       ¦--Chest x-ray                                                                                                               ,soc.prop.xray,cost.chest.xray,0,0,cost.chest.xray,0,0,cost.chest.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦           ¦   ¦       ¦   ¦--Abornomal chest x-ray                                                                                                 ,soc.prop.abnormal.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦           ¦   ¦       ¦   ¦   ¦--Referred to NHS TB service                                                                                        ,soc.prop.abn.xray.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦           ¦   ¦       ¦   ¦   ¦   ¦--Attended                                                                                                      ,soc.prop.abn.xray.nhs.attend.referral,cost.nhs.tb.service + cost.prison.escort + cost.tb.investigations,0,0,cost.nhs.tb.service + cost.prison.escort + cost.tb.investigations,0,cost.prison.escort,cost.nhs.tb.service + cost.tb.investigations,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦           ¦   ¦       ¦   ¦   ¦   ¦   ¦--TB                                                                                                        ,soc.prop.abn.xray.tb.dx,pIsolation*cost.prison.cell.isolation + cost.contact.tracing,0,0,pIsolation*cost.prison.cell.isolation + cost.contact.tracing,0,pIsolation*cost.prison.cell.isolation + cost.contact.tracing,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦           ¦   ¦       ¦   ¦   ¦   ¦   ¦   °--TB outcomes                                                                                           ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦           ¦   ¦       ¦   ¦   ¦   ¦   ¦       ¦--ATT                                                                                               ,soc.prop.starting.att,pAttending*(cost.nhs.tb.service + cost.prison.escort),0,0,0,pAttending*(cost.nhs.tb.service + cost.prison.escort),pAttending*(cost.prison.escort),pAttending*(cost.nhs.tb.service),0,0,0,0,0,0,0,0,0,1,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦           ¦   ¦       ¦   ¦   ¦   ¦   ¦       ¦   ¦--completed ATT                                                                                 ,soc.prop.completing.att,(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + (1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visit + cost.prison.escort)) + (pDSTB*DurDSTB*cost.dsatt.drugs + (1-pDSTB)*DurMDRTB*cost.mdratt.drugs) + cost.dots*(pDSTB*DurDSTB + (1-pDSTB)*DurMDRTB),0,0,0,(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + (1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visit + cost.prison.escort)) + (pDSTB*DurDSTB*cost.dsatt.drugs + (1-pDSTB)*DurMDRTB*cost.mdratt.drugs) + cost.dots*(pDSTB*DurDSTB + (1-pDSTB)*DurMDRTB),(pDSTB*dstb.visits*(cost.prison.escort) + (1-pDSTB)*mdrtb.visits*(cost.prison.escort)),(pDSTB*dstb.visits*(cost.dstb.opd.visit ) + (1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visit )) + (pDSTB*DurDSTB*cost.dsatt.drugs + (1-pDSTB)*DurMDRTB*cost.mdratt.drugs) + cost.dots*(pDSTB*DurDSTB + (1-pDSTB)*DurMDRTB),0,0,0,0,0,0,0,0,0,0,0,1,0,0,1
     ¦   ¦   ¦       ¦   ¦           ¦   ¦       ¦   ¦   ¦   ¦   ¦       ¦   °--did not complete ATT                                                                          ,1-soc.prop.completing.att,IncompDurDSTB/DurDSTB*(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + pDSTB*DurDSTB*(cost.dsatt.drugs + cost.dots))+ IncompDurMDRTB/DurMDRTB*((1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visits + cost.prison.escort)  + (1-pDSTB)*DurMDRTB*(cost.mdratt.drugs + cost.dots)),0,0,0,IncompDurDSTB/DurDSTB*(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + pDSTB*DurDSTB*(cost.dsatt.drugs + cost.dots))+ IncompDurMDRTB/DurMDRTB*((1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visits + cost.prison.escort)  + (1-pDSTB)*DurMDRTB*(cost.mdratt.drugs + cost.dots)),IncompDurDSTB/DurDSTB*pDSTB*dstb.visits*(cost.prison.escort) + IncompDurMDRTB/DurMDRTB*(1-pDSTB)*mdrtb.visits*(cost.prison.escort),IncompDurDSTB/DurDSTB*(pDSTB*dstb.visits*(cost.dstb.opd.visit) + pDSTB*DurDSTB*(cost.dsatt.drugs + cost.dots))+ IncompDurMDRTB/DurMDRTB*((1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visits)  + (1-pDSTB)*DurMDRTB*(cost.mdratt.drugs + cost.dots)),0,0,0,0,0,0,0,0,0,0,0,1,0,0,1
     ¦   ¦   ¦       ¦   ¦           ¦   ¦       ¦   ¦   ¦   ¦   ¦       °--no ATT                                                                                            ,1-soc.prop.starting.att,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,1,1
     ¦   ¦   ¦       ¦   ¦           ¦   ¦       ¦   ¦   ¦   ¦   °--Not TB                                                                                                    ,1-soc.prop.abn.xray.tb.dx,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦           ¦   ¦       ¦   ¦   ¦   ¦       ¦--In prison/IRC for >3 months                                                                           ,soc.prop.staying.o3.months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦           ¦   ¦       ¦   ¦   ¦   ¦       ¦   °--Refer for treatment                                                                               ,tpt.nhs.referral,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,0,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦           ¦   ¦       ¦   ¦   ¦   ¦       ¦       °--TPT outcomes                                                                                  ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦           ¦   ¦       ¦   ¦   ¦   ¦       ¦           ¦--gets TPT                                                                                  ,soc.prop.staying.o3.months.tpt,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦           ¦   ¦       ¦   ¦   ¦   ¦       ¦           ¦   ¦--completed TPT                                                                         ,soc.prop.staying.o3.months.complete.tpt,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,0,durTPT*(cost.dots) + TPT.visits*(cost.prison.escort),durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦   ¦   ¦       ¦   ¦           ¦   ¦       ¦   ¦   ¦   ¦       ¦           ¦   °--did not complete TPT                                                                  ,1-soc.prop.staying.o3.months.complete.tpt,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,0,IncompDurTPT*(durTPT*(cost.dots) + TPT.visits*(cost.prison.escort)),IncompDurTPT*(durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit)),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦   ¦   ¦       ¦   ¦           ¦   ¦       ¦   ¦   ¦   ¦       ¦           °--does not get TPT                                                                          ,1-soc.prop.staying.o3.months.tpt,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,1
     ¦   ¦   ¦       ¦   ¦           ¦   ¦       ¦   ¦   ¦   ¦       °--In prison/IRC for <3 months                                                                           ,1-soc.prop.staying.o3.months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦           ¦   ¦       ¦   ¦   ¦   ¦           ¦--Remaining in the UK (community or other prison/IRC)                                               ,soc.prop.staying.u3.months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦           ¦   ¦       ¦   ¦   ¦   ¦           ¦   °--Refer for treatment and forward details to receiving prison/community TB nurse                ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦           ¦   ¦       ¦   ¦   ¦   ¦           ¦       °--TPT outcomes                                                                              ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦           ¦   ¦       ¦   ¦   ¦   ¦           ¦           ¦--gets TPT                                                                              ,soc.prop.staying.u3.months.uk.tpt,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦           ¦   ¦       ¦   ¦   ¦   ¦           ¦           ¦   ¦--completed TPT                                                                     ,soc.prop.staying.u3.months.uk.complete.tpt,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,0,durTPT*(cost.dots) + TPT.visits*(cost.prison.escort),durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦   ¦   ¦       ¦   ¦           ¦   ¦       ¦   ¦   ¦   ¦           ¦           ¦   °--did not complete TPT                                                              ,1-soc.prop.staying.u3.months.uk.complete.tpt,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,0,IncompDurTPT*(durTPT*(cost.dots) + TPT.visits*(cost.prison.escort)),IncompDurTPT*(durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit)),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦   ¦   ¦       ¦   ¦           ¦   ¦       ¦   ¦   ¦   ¦           ¦           °--does not get TPT                                                                      ,1-soc.prop.staying.u3.months.uk.tpt,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,1
     ¦   ¦   ¦       ¦   ¦           ¦   ¦       ¦   ¦   ¦   ¦           °--Early removal scheme or deportation                                                               ,1-soc.prop.staying.u3.months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦       ¦   ¦           ¦   ¦       ¦   ¦   ¦   °--did not Attend                                                                                                ,1-soc.prop.abn.xray.nhs.attend.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦       ¦   ¦           ¦   ¦       ¦   ¦   °--Not referred to NHS TB service                                                                                    ,1-soc.prop.abn.xray.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦       ¦   ¦           ¦   ¦       ¦   °--Normal chest x-ray                                                                                                    ,1-soc.prop.abnormal.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦           ¦   ¦       ¦       ¦--In prison/IRC for >3 months                                                                                       ,soc.prop.staying.o3.months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦           ¦   ¦       ¦       ¦   °--Refer for treatment                                                                                           ,tpt.nhs.referral,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,0,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦           ¦   ¦       ¦       ¦       °--TPT outcomes                                                                                              ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦           ¦   ¦       ¦       ¦           ¦--gets TPT                                                                                              ,soc.prop.staying.o3.months.tpt,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦           ¦   ¦       ¦       ¦           ¦   ¦--completed TPT                                                                                     ,soc.prop.staying.o3.months.complete.tpt,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,0,durTPT*(cost.dots) + TPT.visits*(cost.prison.escort),durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦   ¦   ¦       ¦   ¦           ¦   ¦       ¦       ¦           ¦   °--did not complete TPT                                                                              ,1-soc.prop.staying.o3.months.complete.tpt,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,0,IncompDurTPT*(durTPT*(cost.dots) + TPT.visits*(cost.prison.escort)),IncompDurTPT*(durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit)),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦   ¦   ¦       ¦   ¦           ¦   ¦       ¦       ¦           °--does not get TPT                                                                                      ,1-soc.prop.staying.o3.months.tpt,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,1
     ¦   ¦   ¦       ¦   ¦           ¦   ¦       ¦       °--In prison/IRC for <3 months                                                                                       ,1-soc.prop.staying.o3.months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦           ¦   ¦       ¦           ¦--Remaining in the UK (community or other prison/IRC)                                                           ,soc.prop.staying.u3.months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦           ¦   ¦       ¦           ¦   °--Refer for treatment and forward details to receiving prison/community TB nurse                            ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦           ¦   ¦       ¦           ¦       °--TPT outcomes                                                                                          ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦           ¦   ¦       ¦           ¦           ¦--gets TPT                                                                                          ,soc.prop.staying.u3.months.uk.tpt,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦           ¦   ¦       ¦           ¦           ¦   ¦--completed TPT                                                                                 ,soc.prop.staying.u3.months.uk.complete.tpt,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,0,durTPT*(cost.dots) + TPT.visits*(cost.prison.escort),durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦   ¦   ¦       ¦   ¦           ¦   ¦       ¦           ¦           ¦   °--did not complete TPT                                                                          ,1-soc.prop.staying.u3.months.uk.complete.tpt,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,0,IncompDurTPT*(durTPT*(cost.dots) + TPT.visits*(cost.prison.escort)),IncompDurTPT*(durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit)),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦   ¦   ¦       ¦   ¦           ¦   ¦       ¦           ¦           °--does not get TPT                                                                                  ,1-soc.prop.staying.u3.months.uk.tpt,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,1
     ¦   ¦   ¦       ¦   ¦           ¦   ¦       ¦           °--Early removal scheme or deportation                                                                           ,1-soc.prop.staying.u3.months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦       ¦   ¦           ¦   ¦       °--No chest x-ray                                                                                                            ,1-soc.prop.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦           ¦   ¦           ¦--Referred to NHS TB service                                                                                            ,soc.prop.no.xray.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦           ¦   ¦           ¦   ¦--Attended                                                                                                          ,soc.prop.no.xray.nhs.attend.referral,cost.nhs.tb.service + cost.prison.escort + cost.tb.investigations,0,0,cost.nhs.tb.service + cost.prison.escort + cost.tb.investigations,0,cost.prison.escort,cost.nhs.tb.service + cost.tb.investigations,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦           ¦   ¦           ¦   ¦   ¦--TB                                                                                                            ,soc.prop.no.xray.tb.dx,pIsolation*cost.prison.cell.isolation + cost.contact.tracing,0,0,pIsolation*cost.prison.cell.isolation + cost.contact.tracing,0,pIsolation*cost.prison.cell.isolation + cost.contact.tracing,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦           ¦   ¦           ¦   ¦   ¦   °--TB outcomes                                                                                               ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦           ¦   ¦           ¦   ¦   ¦       ¦--ATT                                                                                                   ,soc.prop.starting.att,pAttending*(cost.nhs.tb.service + cost.prison.escort),0,0,0,pAttending*(cost.nhs.tb.service + cost.prison.escort),pAttending*(cost.prison.escort),pAttending*(cost.nhs.tb.service),0,0,0,0,0,0,0,0,0,1,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦           ¦   ¦           ¦   ¦   ¦       ¦   ¦--completed ATT                                                                                     ,soc.prop.completing.att,(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + (1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visit + cost.prison.escort)) + (pDSTB*DurDSTB*cost.dsatt.drugs + (1-pDSTB)*DurMDRTB*cost.mdratt.drugs) + cost.dots*(pDSTB*DurDSTB + (1-pDSTB)*DurMDRTB),0,0,0,(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + (1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visit + cost.prison.escort)) + (pDSTB*DurDSTB*cost.dsatt.drugs + (1-pDSTB)*DurMDRTB*cost.mdratt.drugs) + cost.dots*(pDSTB*DurDSTB + (1-pDSTB)*DurMDRTB),(pDSTB*dstb.visits*(cost.prison.escort) + (1-pDSTB)*mdrtb.visits*(cost.prison.escort)),(pDSTB*dstb.visits*(cost.dstb.opd.visit ) + (1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visit )) + (pDSTB*DurDSTB*cost.dsatt.drugs + (1-pDSTB)*DurMDRTB*cost.mdratt.drugs) + cost.dots*(pDSTB*DurDSTB + (1-pDSTB)*DurMDRTB),0,0,0,0,0,0,0,0,0,0,0,1,0,0,1
     ¦   ¦   ¦       ¦   ¦           ¦   ¦           ¦   ¦   ¦       ¦   °--did not complete ATT                                                                              ,1-soc.prop.completing.att,IncompDurDSTB/DurDSTB*(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + pDSTB*DurDSTB*(cost.dsatt.drugs + cost.dots))+ IncompDurMDRTB/DurMDRTB*((1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visits + cost.prison.escort)  + (1-pDSTB)*DurMDRTB*(cost.mdratt.drugs + cost.dots)),0,0,0,IncompDurDSTB/DurDSTB*(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + pDSTB*DurDSTB*(cost.dsatt.drugs + cost.dots))+ IncompDurMDRTB/DurMDRTB*((1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visits + cost.prison.escort)  + (1-pDSTB)*DurMDRTB*(cost.mdratt.drugs + cost.dots)),IncompDurDSTB/DurDSTB*pDSTB*dstb.visits*(cost.prison.escort) + IncompDurMDRTB/DurMDRTB*(1-pDSTB)*mdrtb.visits*(cost.prison.escort),IncompDurDSTB/DurDSTB*(pDSTB*dstb.visits*(cost.dstb.opd.visit) + pDSTB*DurDSTB*(cost.dsatt.drugs + cost.dots))+ IncompDurMDRTB/DurMDRTB*((1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visits)  + (1-pDSTB)*DurMDRTB*(cost.mdratt.drugs + cost.dots)),0,0,0,0,0,0,0,0,0,0,0,1,0,0,1
     ¦   ¦   ¦       ¦   ¦           ¦   ¦           ¦   ¦   ¦       °--no ATT                                                                                                ,1-soc.prop.starting.att,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,1,1
     ¦   ¦   ¦       ¦   ¦           ¦   ¦           ¦   ¦   °--Not TB                                                                                                        ,1-soc.prop.no.xray.tb.dx,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦           ¦   ¦           ¦   ¦       ¦--In prison/IRC for >3 months                                                                               ,soc.prop.staying.o3.months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦           ¦   ¦           ¦   ¦       ¦   °--Refer for treatment                                                                                   ,tpt.nhs.referral,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,0,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦           ¦   ¦           ¦   ¦       ¦       °--TPT outcomes                                                                                      ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦           ¦   ¦           ¦   ¦       ¦           ¦--gets TPT                                                                                      ,soc.prop.staying.o3.months.tpt,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦           ¦   ¦           ¦   ¦       ¦           ¦   ¦--completed TPT                                                                             ,soc.prop.staying.o3.months.complete.tpt,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,0,durTPT*(cost.dots) + TPT.visits*(cost.prison.escort),durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦   ¦   ¦       ¦   ¦           ¦   ¦           ¦   ¦       ¦           ¦   °--did not complete TPT                                                                      ,1-soc.prop.staying.o3.months.complete.tpt,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,0,IncompDurTPT*(durTPT*(cost.dots) + TPT.visits*(cost.prison.escort)),IncompDurTPT*(durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit)),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦   ¦   ¦       ¦   ¦           ¦   ¦           ¦   ¦       ¦           °--does not get TPT                                                                              ,1-soc.prop.staying.o3.months.tpt,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,1
     ¦   ¦   ¦       ¦   ¦           ¦   ¦           ¦   ¦       °--In prison/IRC for <3 months                                                                               ,1-soc.prop.staying.o3.months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦           ¦   ¦           ¦   ¦           ¦--Remaining in the UK (community or other prison/IRC)                                                   ,soc.prop.staying.u3.months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦           ¦   ¦           ¦   ¦           ¦   °--Refer for treatment and forward details to receiving prison/community TB nurse                    ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦           ¦   ¦           ¦   ¦           ¦       °--TPT outcomes                                                                                  ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦           ¦   ¦           ¦   ¦           ¦           ¦--gets TPT                                                                                  ,soc.prop.staying.u3.months.uk.tpt,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦           ¦   ¦           ¦   ¦           ¦           ¦   ¦--completed TPT                                                                         ,soc.prop.staying.u3.months.uk.complete.tpt,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,0,durTPT*(cost.dots) + TPT.visits*(cost.prison.escort),durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦   ¦   ¦       ¦   ¦           ¦   ¦           ¦   ¦           ¦           ¦   °--did not complete TPT                                                                  ,1-soc.prop.staying.u3.months.uk.complete.tpt,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,0,IncompDurTPT*(durTPT*(cost.dots) + TPT.visits*(cost.prison.escort)),IncompDurTPT*(durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit)),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦   ¦   ¦       ¦   ¦           ¦   ¦           ¦   ¦           ¦           °--does not get TPT                                                                          ,1-soc.prop.staying.u3.months.uk.tpt,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,1
     ¦   ¦   ¦       ¦   ¦           ¦   ¦           ¦   ¦           °--Early removal scheme or deportation                                                                   ,1-soc.prop.staying.u3.months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦       ¦   ¦           ¦   ¦           ¦   °--did not Attend                                                                                                    ,1-soc.prop.no.xray.nhs.attend.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦       ¦   ¦           ¦   ¦           °--Not referred to NHS TB service                                                                                        ,1-soc.prop.no.xray.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦       ¦   ¦           ¦   °--IGRA test -                                                                                                                       ,1-soc.prop.igra.test.positive,0,0,0,0,0,0,0,0,0,0,1,0,0,1,0,0,0,0,0,0,0,1
     ¦   ¦   ¦       ¦   ¦           °--no IGRA test                                                                                                                          ,1-soc.prop.igra.tested,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦       ¦   °--No prison GP assessment                                                                                                                           ,1-soc.prop.prev.tb.tx.symp.gp.assess,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦       °--No TB symptoms                                                                                                                                        ,1-soc.prop.prev.tb.tx.symp,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦--Chest x-ray < 6 months                                                                                                                            ,soc.prop.prev.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦   ¦--Abornomal chest x-ray                                                                                                                         ,soc.prop.abnormal.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦   ¦   °--Urgent referral to local NHS TB service                                                                                                   ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦   ¦       ¦--Attended                                                                                                                              ,soc.prop.abn.xray.nhs.attend.referral,cost.nhs.tb.service + cost.prison.escort + cost.tb.investigations,0,0,cost.nhs.tb.service + cost.prison.escort + cost.tb.investigations,0,cost.prison.escort,cost.nhs.tb.service + cost.tb.investigations,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦   ¦       ¦   ¦--TB                                                                                                                                ,soc.prop.abn.xray.tb.dx,pIsolation*cost.prison.cell.isolation + cost.contact.tracing,0,0,pIsolation*cost.prison.cell.isolation + cost.contact.tracing,0,pIsolation*cost.prison.cell.isolation + cost.contact.tracing,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
     ¦   ¦   ¦           ¦   ¦       ¦   ¦   °--TB outcomes                                                                                                                   ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦   ¦       ¦   ¦       ¦--ATT                                                                                                                       ,soc.prop.starting.att,pAttending*(cost.nhs.tb.service + cost.prison.escort),0,0,0,pAttending*(cost.nhs.tb.service + cost.prison.escort),pAttending*(cost.prison.escort),pAttending*(cost.nhs.tb.service),0,0,0,0,0,0,0,0,0,1,0,0,0,0,0
     ¦   ¦   ¦           ¦   ¦       ¦   ¦       ¦   ¦--completed ATT                                                                                                         ,soc.prop.completing.att,(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + (1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visit + cost.prison.escort)) + (pDSTB*DurDSTB*cost.dsatt.drugs + (1-pDSTB)*DurMDRTB*cost.mdratt.drugs) + cost.dots*(pDSTB*DurDSTB + (1-pDSTB)*DurMDRTB),0,0,0,(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + (1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visit + cost.prison.escort)) + (pDSTB*DurDSTB*cost.dsatt.drugs + (1-pDSTB)*DurMDRTB*cost.mdratt.drugs) + cost.dots*(pDSTB*DurDSTB + (1-pDSTB)*DurMDRTB),(pDSTB*dstb.visits*(cost.prison.escort) + (1-pDSTB)*mdrtb.visits*(cost.prison.escort)),(pDSTB*dstb.visits*(cost.dstb.opd.visit ) + (1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visit )) + (pDSTB*DurDSTB*cost.dsatt.drugs + (1-pDSTB)*DurMDRTB*cost.mdratt.drugs) + cost.dots*(pDSTB*DurDSTB + (1-pDSTB)*DurMDRTB),0,0,0,0,0,0,0,0,0,0,0,1,0,0,1
     ¦   ¦   ¦           ¦   ¦       ¦   ¦       ¦   °--did not complete ATT                                                                                                  ,1-soc.prop.completing.att,IncompDurDSTB/DurDSTB*(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + pDSTB*DurDSTB*(cost.dsatt.drugs + cost.dots))+ IncompDurMDRTB/DurMDRTB*((1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visits + cost.prison.escort)  + (1-pDSTB)*DurMDRTB*(cost.mdratt.drugs + cost.dots)),0,0,0,IncompDurDSTB/DurDSTB*(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + pDSTB*DurDSTB*(cost.dsatt.drugs + cost.dots))+ IncompDurMDRTB/DurMDRTB*((1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visits + cost.prison.escort)  + (1-pDSTB)*DurMDRTB*(cost.mdratt.drugs + cost.dots)),IncompDurDSTB/DurDSTB*pDSTB*dstb.visits*(cost.prison.escort) + IncompDurMDRTB/DurMDRTB*(1-pDSTB)*mdrtb.visits*(cost.prison.escort),IncompDurDSTB/DurDSTB*(pDSTB*dstb.visits*(cost.dstb.opd.visit) + pDSTB*DurDSTB*(cost.dsatt.drugs + cost.dots))+ IncompDurMDRTB/DurMDRTB*((1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visits)  + (1-pDSTB)*DurMDRTB*(cost.mdratt.drugs + cost.dots)),0,0,0,0,0,0,0,0,0,0,0,1,0,0,1
     ¦   ¦   ¦           ¦   ¦       ¦   ¦       °--no ATT                                                                                                                    ,1-soc.prop.starting.att,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,1,1
     ¦   ¦   ¦           ¦   ¦       ¦   °--Not TB                                                                                                                            ,1-soc.prop.abn.xray.tb.dx,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦   ¦       ¦       °--LTBI pathway                                                                                                                  ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦   ¦       ¦           ¦--IGRA test                                                                                                                 ,soc.prop.igra.tested,cost.igra.test,0,cost.igra.test,0,0,0,cost.igra.test,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦--IGRA test +                                                                                                           ,soc.prop.igra.test.positive,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦   ¦--Previous chest x-ray                                                                                              ,soc.prop.prev.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦   ¦   ¦--Abornomal chest x-ray                                                                                         ,soc.prop.abnormal.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦--Referred to NHS TB service                                                                                ,soc.prop.abn.xray.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦--Attended                                                                                              ,soc.prop.abn.xray.nhs.attend.referral,cost.nhs.tb.service + cost.prison.escort + cost.tb.investigations,0,0,cost.nhs.tb.service + cost.prison.escort + cost.tb.investigations,0,cost.prison.escort,cost.nhs.tb.service + cost.tb.investigations,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦   ¦--TB                                                                                                ,soc.prop.abn.xray.tb.dx,pIsolation*cost.prison.cell.isolation + cost.contact.tracing,0,0,pIsolation*cost.prison.cell.isolation + cost.contact.tracing,0,pIsolation*cost.prison.cell.isolation + cost.contact.tracing,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦   ¦   °--TB outcomes                                                                                   ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦   ¦       ¦--ATT                                                                                       ,soc.prop.starting.att,pAttending*(cost.nhs.tb.service + cost.prison.escort),0,0,0,pAttending*(cost.nhs.tb.service + cost.prison.escort),pAttending*(cost.prison.escort),pAttending*(cost.nhs.tb.service),0,0,0,0,0,0,0,0,0,1,0,0,0,0,0
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦   ¦       ¦   ¦--completed ATT                                                                         ,soc.prop.completing.att,(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + (1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visit + cost.prison.escort)) + (pDSTB*DurDSTB*cost.dsatt.drugs + (1-pDSTB)*DurMDRTB*cost.mdratt.drugs) + cost.dots*(pDSTB*DurDSTB + (1-pDSTB)*DurMDRTB),0,0,0,(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + (1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visit + cost.prison.escort)) + (pDSTB*DurDSTB*cost.dsatt.drugs + (1-pDSTB)*DurMDRTB*cost.mdratt.drugs) + cost.dots*(pDSTB*DurDSTB + (1-pDSTB)*DurMDRTB),(pDSTB*dstb.visits*(cost.prison.escort) + (1-pDSTB)*mdrtb.visits*(cost.prison.escort)),(pDSTB*dstb.visits*(cost.dstb.opd.visit ) + (1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visit )) + (pDSTB*DurDSTB*cost.dsatt.drugs + (1-pDSTB)*DurMDRTB*cost.mdratt.drugs) + cost.dots*(pDSTB*DurDSTB + (1-pDSTB)*DurMDRTB),0,0,0,0,0,0,0,0,0,0,0,1,0,0,1
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦   ¦       ¦   °--did not complete ATT                                                                  ,1-soc.prop.completing.att,IncompDurDSTB/DurDSTB*(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + pDSTB*DurDSTB*(cost.dsatt.drugs + cost.dots))+ IncompDurMDRTB/DurMDRTB*((1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visits + cost.prison.escort)  + (1-pDSTB)*DurMDRTB*(cost.mdratt.drugs + cost.dots)),0,0,0,IncompDurDSTB/DurDSTB*(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + pDSTB*DurDSTB*(cost.dsatt.drugs + cost.dots))+ IncompDurMDRTB/DurMDRTB*((1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visits + cost.prison.escort)  + (1-pDSTB)*DurMDRTB*(cost.mdratt.drugs + cost.dots)),IncompDurDSTB/DurDSTB*pDSTB*dstb.visits*(cost.prison.escort) + IncompDurMDRTB/DurMDRTB*(1-pDSTB)*mdrtb.visits*(cost.prison.escort),IncompDurDSTB/DurDSTB*(pDSTB*dstb.visits*(cost.dstb.opd.visit) + pDSTB*DurDSTB*(cost.dsatt.drugs + cost.dots))+ IncompDurMDRTB/DurMDRTB*((1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visits)  + (1-pDSTB)*DurMDRTB*(cost.mdratt.drugs + cost.dots)),0,0,0,0,0,0,0,0,0,0,0,1,0,0,1
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦   ¦       °--no ATT                                                                                    ,1-soc.prop.starting.att,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,1,1
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦   °--Not TB                                                                                            ,1-soc.prop.abn.xray.tb.dx,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦       ¦--In prison/IRC for >3 months                                                                   ,soc.prop.staying.o3.months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦       ¦   °--Refer for treatment                                                                       ,tpt.nhs.referral,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,0,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦       ¦       °--TPT outcomes                                                                          ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦       ¦           ¦--gets TPT                                                                          ,soc.prop.staying.o3.months.tpt,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦       ¦           ¦   ¦--completed TPT                                                                 ,soc.prop.staying.o3.months.complete.tpt,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,0,durTPT*(cost.dots) + TPT.visits*(cost.prison.escort),durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦       ¦           ¦   °--did not complete TPT                                                          ,1-soc.prop.staying.o3.months.complete.tpt,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,0,IncompDurTPT*(durTPT*(cost.dots) + TPT.visits*(cost.prison.escort)),IncompDurTPT*(durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit)),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦       ¦           °--does not get TPT                                                                  ,1-soc.prop.staying.o3.months.tpt,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,1
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦       °--In prison/IRC for <3 months                                                                   ,1-soc.prop.staying.o3.months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦           ¦--Remaining in the UK (community or other prison/IRC)                                       ,soc.prop.staying.u3.months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦           ¦   °--Refer for treatment and forward details to receiving prison/community TB nurse        ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦           ¦       °--TPT outcomes                                                                      ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦           ¦           ¦--gets TPT                                                                      ,soc.prop.staying.u3.months.uk.tpt,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦           ¦           ¦   ¦--completed TPT                                                             ,soc.prop.staying.u3.months.uk.complete.tpt,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,0,durTPT*(cost.dots) + TPT.visits*(cost.prison.escort),durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦           ¦           ¦   °--did not complete TPT                                                      ,1-soc.prop.staying.u3.months.uk.complete.tpt,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,0,IncompDurTPT*(durTPT*(cost.dots) + TPT.visits*(cost.prison.escort)),IncompDurTPT*(durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit)),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦           ¦           °--does not get TPT                                                              ,1-soc.prop.staying.u3.months.uk.tpt,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,1
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦           °--Early removal scheme or deportation                                                       ,1-soc.prop.staying.u3.months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   °--did not Attend                                                                                        ,1-soc.prop.abn.xray.nhs.attend.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦   ¦   ¦   °--Not referred to NHS TB service                                                                            ,1-soc.prop.abn.xray.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦   ¦   °--Normal chest x-ray                                                                                            ,1-soc.prop.abnormal.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦   ¦       ¦--In prison/IRC for >3 months                                                                               ,soc.prop.staying.o3.months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦   ¦       ¦   °--Refer for treatment                                                                                   ,tpt.nhs.referral,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,0,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦   ¦       ¦       °--TPT outcomes                                                                                      ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦   ¦       ¦           ¦--gets TPT                                                                                      ,soc.prop.staying.o3.months.tpt,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦   ¦       ¦           ¦   ¦--completed TPT                                                                             ,soc.prop.staying.o3.months.complete.tpt,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,0,durTPT*(cost.dots) + TPT.visits*(cost.prison.escort),durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦   ¦       ¦           ¦   °--did not complete TPT                                                                      ,1-soc.prop.staying.o3.months.complete.tpt,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,0,IncompDurTPT*(durTPT*(cost.dots) + TPT.visits*(cost.prison.escort)),IncompDurTPT*(durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit)),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦   ¦       ¦           °--does not get TPT                                                                              ,1-soc.prop.staying.o3.months.tpt,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,1
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦   ¦       °--In prison/IRC for <3 months                                                                               ,1-soc.prop.staying.o3.months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦   ¦           ¦--Remaining in the UK (community or other prison/IRC)                                                   ,soc.prop.staying.u3.months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦   ¦           ¦   °--Refer for treatment and forward details to receiving prison/community TB nurse                    ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦   ¦           ¦       °--TPT outcomes                                                                                  ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦   ¦           ¦           ¦--gets TPT                                                                                  ,soc.prop.staying.u3.months.uk.tpt,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦   ¦           ¦           ¦   ¦--completed TPT                                                                         ,soc.prop.staying.u3.months.uk.complete.tpt,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,0,durTPT*(cost.dots) + TPT.visits*(cost.prison.escort),durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦   ¦           ¦           ¦   °--did not complete TPT                                                                  ,1-soc.prop.staying.u3.months.uk.complete.tpt,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,0,IncompDurTPT*(durTPT*(cost.dots) + TPT.visits*(cost.prison.escort)),IncompDurTPT*(durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit)),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦   ¦           ¦           °--does not get TPT                                                                          ,1-soc.prop.staying.u3.months.uk.tpt,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,1
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦   ¦           °--Early removal scheme or deportation                                                                   ,1-soc.prop.staying.u3.months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦   °--No previous chest x-ray                                                                                           ,1-soc.prop.prev.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦       ¦--Chest x-ray                                                                                                   ,soc.prop.xray,cost.chest.xray,0,0,cost.chest.xray,0,0,cost.chest.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦       ¦   ¦--Abornomal chest x-ray                                                                                     ,soc.prop.abnormal.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦--Referred to NHS TB service                                                                            ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦--Attended                                                                                          ,soc.prop.abn.xray.nhs.attend.referral,cost.nhs.tb.service + cost.prison.escort + cost.tb.investigations,0,0,cost.nhs.tb.service + cost.prison.escort + cost.tb.investigations,0,cost.prison.escort,cost.nhs.tb.service + cost.tb.investigations,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦   ¦--TB                                                                                            ,soc.prop.abn.xray.tb.dx,pIsolation*cost.prison.cell.isolation + cost.contact.tracing,0,0,pIsolation*cost.prison.cell.isolation + cost.contact.tracing,0,pIsolation*cost.prison.cell.isolation + cost.contact.tracing,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦   ¦   °--TB outcomes                                                                               ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦   ¦       ¦--ATT                                                                                   ,soc.prop.starting.att,pAttending*(cost.nhs.tb.service + cost.prison.escort),0,0,0,pAttending*(cost.nhs.tb.service + cost.prison.escort),pAttending*(cost.prison.escort),pAttending*(cost.nhs.tb.service),0,0,0,0,0,0,0,0,0,1,0,0,0,0,0
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦   ¦       ¦   ¦--completed ATT                                                                     ,soc.prop.completing.att,(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + (1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visit + cost.prison.escort)) + (pDSTB*DurDSTB*cost.dsatt.drugs + (1-pDSTB)*DurMDRTB*cost.mdratt.drugs) + cost.dots*(pDSTB*DurDSTB + (1-pDSTB)*DurMDRTB),0,0,0,(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + (1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visit + cost.prison.escort)) + (pDSTB*DurDSTB*cost.dsatt.drugs + (1-pDSTB)*DurMDRTB*cost.mdratt.drugs) + cost.dots*(pDSTB*DurDSTB + (1-pDSTB)*DurMDRTB),(pDSTB*dstb.visits*(cost.prison.escort) + (1-pDSTB)*mdrtb.visits*(cost.prison.escort)),(pDSTB*dstb.visits*(cost.dstb.opd.visit ) + (1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visit )) + (pDSTB*DurDSTB*cost.dsatt.drugs + (1-pDSTB)*DurMDRTB*cost.mdratt.drugs) + cost.dots*(pDSTB*DurDSTB + (1-pDSTB)*DurMDRTB),0,0,0,0,0,0,0,0,0,0,0,1,0,0,1
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦   ¦       ¦   °--did not complete ATT                                                              ,1-soc.prop.completing.att,IncompDurDSTB/DurDSTB*(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + pDSTB*DurDSTB*(cost.dsatt.drugs + cost.dots))+ IncompDurMDRTB/DurMDRTB*((1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visits + cost.prison.escort)  + (1-pDSTB)*DurMDRTB*(cost.mdratt.drugs + cost.dots)),0,0,0,IncompDurDSTB/DurDSTB*(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + pDSTB*DurDSTB*(cost.dsatt.drugs + cost.dots))+ IncompDurMDRTB/DurMDRTB*((1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visits + cost.prison.escort)  + (1-pDSTB)*DurMDRTB*(cost.mdratt.drugs + cost.dots)),IncompDurDSTB/DurDSTB*pDSTB*dstb.visits*(cost.prison.escort) + IncompDurMDRTB/DurMDRTB*(1-pDSTB)*mdrtb.visits*(cost.prison.escort),IncompDurDSTB/DurDSTB*(pDSTB*dstb.visits*(cost.dstb.opd.visit) + pDSTB*DurDSTB*(cost.dsatt.drugs + cost.dots))+ IncompDurMDRTB/DurMDRTB*((1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visits)  + (1-pDSTB)*DurMDRTB*(cost.mdratt.drugs + cost.dots)),0,0,0,0,0,0,0,0,0,0,0,1,0,0,1
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦   ¦       °--no ATT                                                                                ,1-soc.prop.starting.att,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,1,1
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦   °--Not TB                                                                                        ,1-soc.prop.abn.xray.tb.dx,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦       ¦--In prison/IRC for >3 months                                                               ,soc.prop.staying.o3.months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦       ¦   °--Refer for treatment                                                                   ,tpt.nhs.referral,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,0,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦       ¦       °--TPT outcomes                                                                      ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦       ¦           ¦--gets TPT                                                                      ,soc.prop.staying.o3.months.tpt,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦       ¦           ¦   ¦--completed TPT                                                             ,soc.prop.staying.o3.months.complete.tpt,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,0,durTPT*(cost.dots) + TPT.visits*(cost.prison.escort),durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦       ¦           ¦   °--did not complete TPT                                                      ,1-soc.prop.staying.o3.months.complete.tpt,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,0,IncompDurTPT*(durTPT*(cost.dots) + TPT.visits*(cost.prison.escort)),IncompDurTPT*(durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit)),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦       ¦           °--does not get TPT                                                              ,1-soc.prop.staying.o3.months.tpt,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,1
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦       °--In prison/IRC for <3 months                                                               ,1-soc.prop.staying.o3.months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦           ¦--Remaining in the UK (community or other prison/IRC)                                   ,soc.prop.staying.u3.months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦           ¦   °--Refer for treatment and forward details to receiving prison/community TB nurse    ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦           ¦       °--TPT outcomes                                                                  ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦           ¦           ¦--gets TPT                                                                  ,soc.prop.staying.u3.months.uk.tpt,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦           ¦           ¦   ¦--completed TPT                                                         ,soc.prop.staying.u3.months.uk.complete.tpt,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,0,durTPT*(cost.dots) + TPT.visits*(cost.prison.escort),durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦           ¦           ¦   °--did not complete TPT                                                  ,1-soc.prop.staying.u3.months.uk.complete.tpt,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,0,IncompDurTPT*(durTPT*(cost.dots) + TPT.visits*(cost.prison.escort)),IncompDurTPT*(durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit)),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦           ¦           °--does not get TPT                                                          ,1-soc.prop.staying.u3.months.uk.tpt,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,1
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦           °--Early removal scheme or deportation                                                   ,1-soc.prop.staying.u3.months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   °--did not Attend                                                                                    ,1-soc.prop.abn.xray.nhs.attend.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦       ¦   ¦   °--Not referred to NHS TB service                                                                        ,1-soc.prop.abn.xray.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦       ¦   °--Normal chest x-ray                                                                                        ,1-soc.prop.abnormal.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦       ¦       ¦--In prison/IRC for >3 months                                                                           ,soc.prop.staying.o3.months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦       ¦       ¦   °--Refer for treatment                                                                               ,tpt.nhs.referral,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,0,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦       ¦       ¦       °--TPT outcomes                                                                                  ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦       ¦       ¦           ¦--gets TPT                                                                                  ,soc.prop.staying.o3.months.tpt,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦       ¦       ¦           ¦   ¦--completed TPT                                                                         ,soc.prop.staying.o3.months.complete.tpt,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,0,durTPT*(cost.dots) + TPT.visits*(cost.prison.escort),durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦       ¦       ¦           ¦   °--did not complete TPT                                                                  ,1-soc.prop.staying.o3.months.complete.tpt,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,0,IncompDurTPT*(durTPT*(cost.dots) + TPT.visits*(cost.prison.escort)),IncompDurTPT*(durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit)),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦       ¦       ¦           °--does not get TPT                                                                          ,1-soc.prop.staying.o3.months.tpt,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,1
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦       ¦       °--In prison/IRC for <3 months                                                                           ,1-soc.prop.staying.o3.months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦       ¦           ¦--Remaining in the UK (community or other prison/IRC)                                               ,soc.prop.staying.u3.months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦       ¦           ¦   °--Refer for treatment and forward details to receiving prison/community TB nurse                ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦       ¦           ¦       °--TPT outcomes                                                                              ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦       ¦           ¦           ¦--gets TPT                                                                              ,soc.prop.staying.u3.months.uk.tpt,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦       ¦           ¦           ¦   ¦--completed TPT                                                                     ,soc.prop.staying.u3.months.uk.complete.tpt,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,0,durTPT*(cost.dots) + TPT.visits*(cost.prison.escort),durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦       ¦           ¦           ¦   °--did not complete TPT                                                              ,1-soc.prop.staying.u3.months.uk.complete.tpt,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,0,IncompDurTPT*(durTPT*(cost.dots) + TPT.visits*(cost.prison.escort)),IncompDurTPT*(durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit)),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦       ¦           ¦           °--does not get TPT                                                                      ,1-soc.prop.staying.u3.months.uk.tpt,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,1
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦       ¦           °--Early removal scheme or deportation                                                               ,1-soc.prop.staying.u3.months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦       °--No chest x-ray                                                                                                ,1-soc.prop.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦           ¦--Referred to NHS TB service                                                                                ,soc.prop.no.xray.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦           ¦   ¦--Attended                                                                                              ,soc.prop.no.xray.nhs.attend.referral,cost.nhs.tb.service + cost.prison.escort + cost.tb.investigations,0,0,cost.nhs.tb.service + cost.prison.escort + cost.tb.investigations,0,cost.prison.escort,cost.nhs.tb.service + cost.tb.investigations,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦           ¦   ¦   ¦--TB                                                                                                ,soc.prop.no.xray.tb.dx,pIsolation*cost.prison.cell.isolation + cost.contact.tracing,0,0,pIsolation*cost.prison.cell.isolation + cost.contact.tracing,0,pIsolation*cost.prison.cell.isolation + cost.contact.tracing,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦           ¦   ¦   ¦   °--TB outcomes                                                                                   ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦           ¦   ¦   ¦       ¦--ATT                                                                                       ,soc.prop.starting.att,pAttending*(cost.nhs.tb.service + cost.prison.escort),0,0,0,pAttending*(cost.nhs.tb.service + cost.prison.escort),pAttending*(cost.prison.escort),pAttending*(cost.nhs.tb.service),0,0,0,0,0,0,0,0,0,1,0,0,0,0,0
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦           ¦   ¦   ¦       ¦   ¦--completed ATT                                                                         ,soc.prop.completing.att,(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + (1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visit + cost.prison.escort)) + (pDSTB*DurDSTB*cost.dsatt.drugs + (1-pDSTB)*DurMDRTB*cost.mdratt.drugs) + cost.dots*(pDSTB*DurDSTB + (1-pDSTB)*DurMDRTB),0,0,0,(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + (1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visit + cost.prison.escort)) + (pDSTB*DurDSTB*cost.dsatt.drugs + (1-pDSTB)*DurMDRTB*cost.mdratt.drugs) + cost.dots*(pDSTB*DurDSTB + (1-pDSTB)*DurMDRTB),(pDSTB*dstb.visits*(cost.prison.escort) + (1-pDSTB)*mdrtb.visits*(cost.prison.escort)),(pDSTB*dstb.visits*(cost.dstb.opd.visit ) + (1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visit )) + (pDSTB*DurDSTB*cost.dsatt.drugs + (1-pDSTB)*DurMDRTB*cost.mdratt.drugs) + cost.dots*(pDSTB*DurDSTB + (1-pDSTB)*DurMDRTB),0,0,0,0,0,0,0,0,0,0,0,1,0,0,1
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦           ¦   ¦   ¦       ¦   °--did not complete ATT                                                                  ,1-soc.prop.completing.att,IncompDurDSTB/DurDSTB*(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + pDSTB*DurDSTB*(cost.dsatt.drugs + cost.dots))+ IncompDurMDRTB/DurMDRTB*((1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visits + cost.prison.escort)  + (1-pDSTB)*DurMDRTB*(cost.mdratt.drugs + cost.dots)),0,0,0,IncompDurDSTB/DurDSTB*(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + pDSTB*DurDSTB*(cost.dsatt.drugs + cost.dots))+ IncompDurMDRTB/DurMDRTB*((1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visits + cost.prison.escort)  + (1-pDSTB)*DurMDRTB*(cost.mdratt.drugs + cost.dots)),IncompDurDSTB/DurDSTB*pDSTB*dstb.visits*(cost.prison.escort) + IncompDurMDRTB/DurMDRTB*(1-pDSTB)*mdrtb.visits*(cost.prison.escort),IncompDurDSTB/DurDSTB*(pDSTB*dstb.visits*(cost.dstb.opd.visit) + pDSTB*DurDSTB*(cost.dsatt.drugs + cost.dots))+ IncompDurMDRTB/DurMDRTB*((1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visits)  + (1-pDSTB)*DurMDRTB*(cost.mdratt.drugs + cost.dots)),0,0,0,0,0,0,0,0,0,0,0,1,0,0,1
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦           ¦   ¦   ¦       °--no ATT                                                                                    ,1-soc.prop.starting.att,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,1,1
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦           ¦   ¦   °--Not TB                                                                                            ,1-soc.prop.no.xray.tb.dx,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦           ¦   ¦       ¦--In prison/IRC for >3 months                                                                   ,soc.prop.staying.o3.months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦           ¦   ¦       ¦   °--Refer for treatment                                                                       ,tpt.nhs.referral,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,0,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦           ¦   ¦       ¦       °--TPT outcomes                                                                          ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦           ¦   ¦       ¦           ¦--gets TPT                                                                          ,soc.prop.staying.o3.months.tpt,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦           ¦   ¦       ¦           ¦   ¦--completed TPT                                                                 ,soc.prop.staying.o3.months.complete.tpt,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,0,durTPT*(cost.dots) + TPT.visits*(cost.prison.escort),durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦           ¦   ¦       ¦           ¦   °--did not complete TPT                                                          ,1-soc.prop.staying.o3.months.complete.tpt,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,0,IncompDurTPT*(durTPT*(cost.dots) + TPT.visits*(cost.prison.escort)),IncompDurTPT*(durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit)),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦           ¦   ¦       ¦           °--does not get TPT                                                                  ,1-soc.prop.staying.o3.months.tpt,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,1
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦           ¦   ¦       °--In prison/IRC for <3 months                                                                   ,1-soc.prop.staying.o3.months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦           ¦   ¦           ¦--Remaining in the UK (community or other prison/IRC)                                       ,soc.prop.staying.u3.months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦           ¦   ¦           ¦   °--Refer for treatment and forward details to receiving prison/community TB nurse        ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦           ¦   ¦           ¦       °--TPT outcomes                                                                      ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦           ¦   ¦           ¦           ¦--gets TPT                                                                      ,soc.prop.staying.u3.months.uk.tpt,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦           ¦   ¦           ¦           ¦   ¦--completed TPT                                                             ,soc.prop.staying.u3.months.uk.complete.tpt,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,0,durTPT*(cost.dots) + TPT.visits*(cost.prison.escort),durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦           ¦   ¦           ¦           ¦   °--did not complete TPT                                                      ,1-soc.prop.staying.u3.months.uk.complete.tpt,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,0,IncompDurTPT*(durTPT*(cost.dots) + TPT.visits*(cost.prison.escort)),IncompDurTPT*(durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit)),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦           ¦   ¦           ¦           °--does not get TPT                                                              ,1-soc.prop.staying.u3.months.uk.tpt,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,1
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦           ¦   ¦           °--Early removal scheme or deportation                                                       ,1-soc.prop.staying.u3.months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦           ¦   °--did not Attend                                                                                        ,1-soc.prop.no.xray.nhs.attend.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦           °--Not referred to NHS TB service                                                                            ,1-soc.prop.no.xray.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   °--IGRA test -                                                                                                           ,1-soc.prop.igra.test.positive,0,0,0,0,0,0,0,0,0,0,1,0,0,1,0,0,0,0,0,0,0,1
     ¦   ¦   ¦           ¦   ¦       ¦           °--no IGRA test                                                                                                              ,1-soc.prop.igra.tested,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦           ¦   ¦       °--did not Attend                                                                                                                        ,1-soc.prop.abn.xray.nhs.attend.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦           ¦   °--Normal chest x-ray                                                                                                                            ,1-soc.prop.abnormal.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦       °--LTBI pathway                                                                                                                              ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦           ¦--IGRA test                                                                                                                             ,soc.prop.igra.tested,cost.igra.test,0,cost.igra.test,0,0,0,cost.igra.test,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦           ¦   ¦--IGRA test +                                                                                                                       ,soc.prop.igra.test.positive,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦           ¦   ¦   ¦--Previous chest x-ray                                                                                                          ,soc.prop.prev.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦           ¦   ¦   ¦   ¦--Abornomal chest x-ray                                                                                                     ,soc.prop.abnormal.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦           ¦   ¦   ¦   ¦   ¦--Referred to NHS TB service                                                                                            ,soc.prop.abn.xray.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦           ¦   ¦   ¦   ¦   ¦   ¦--Attended                                                                                                          ,soc.prop.abn.xray.nhs.attend.referral,cost.nhs.tb.service + cost.prison.escort + cost.tb.investigations,0,0,cost.nhs.tb.service + cost.prison.escort + cost.tb.investigations,0,cost.prison.escort,cost.nhs.tb.service + cost.tb.investigations,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦           ¦   ¦   ¦   ¦   ¦   ¦   ¦--TB                                                                                                            ,soc.prop.abn.xray.tb.dx,pIsolation*cost.prison.cell.isolation + cost.contact.tracing,0,0,pIsolation*cost.prison.cell.isolation + cost.contact.tracing,0,pIsolation*cost.prison.cell.isolation + cost.contact.tracing,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
     ¦   ¦   ¦           ¦           ¦   ¦   ¦   ¦   ¦   ¦   ¦   °--TB outcomes                                                                                               ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦           ¦   ¦   ¦   ¦   ¦   ¦   ¦       ¦--ATT                                                                                                   ,soc.prop.starting.att,pAttending*(cost.nhs.tb.service + cost.prison.escort),0,0,0,pAttending*(cost.nhs.tb.service + cost.prison.escort),pAttending*(cost.prison.escort),pAttending*(cost.nhs.tb.service),0,0,0,0,0,0,0,0,0,1,0,0,0,0,0
     ¦   ¦   ¦           ¦           ¦   ¦   ¦   ¦   ¦   ¦   ¦       ¦   ¦--completed ATT                                                                                     ,soc.prop.completing.att,(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + (1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visit + cost.prison.escort)) + (pDSTB*DurDSTB*cost.dsatt.drugs + (1-pDSTB)*DurMDRTB*cost.mdratt.drugs) + cost.dots*(pDSTB*DurDSTB + (1-pDSTB)*DurMDRTB),0,0,0,(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + (1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visit + cost.prison.escort)) + (pDSTB*DurDSTB*cost.dsatt.drugs + (1-pDSTB)*DurMDRTB*cost.mdratt.drugs) + cost.dots*(pDSTB*DurDSTB + (1-pDSTB)*DurMDRTB),(pDSTB*dstb.visits*(cost.prison.escort) + (1-pDSTB)*mdrtb.visits*(cost.prison.escort)),(pDSTB*dstb.visits*(cost.dstb.opd.visit ) + (1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visit )) + (pDSTB*DurDSTB*cost.dsatt.drugs + (1-pDSTB)*DurMDRTB*cost.mdratt.drugs) + cost.dots*(pDSTB*DurDSTB + (1-pDSTB)*DurMDRTB),0,0,0,0,0,0,0,0,0,0,0,1,0,0,1
     ¦   ¦   ¦           ¦           ¦   ¦   ¦   ¦   ¦   ¦   ¦       ¦   °--did not complete ATT                                                                              ,1-soc.prop.completing.att,IncompDurDSTB/DurDSTB*(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + pDSTB*DurDSTB*(cost.dsatt.drugs + cost.dots))+ IncompDurMDRTB/DurMDRTB*((1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visits + cost.prison.escort)  + (1-pDSTB)*DurMDRTB*(cost.mdratt.drugs + cost.dots)),0,0,0,IncompDurDSTB/DurDSTB*(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + pDSTB*DurDSTB*(cost.dsatt.drugs + cost.dots))+ IncompDurMDRTB/DurMDRTB*((1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visits + cost.prison.escort)  + (1-pDSTB)*DurMDRTB*(cost.mdratt.drugs + cost.dots)),IncompDurDSTB/DurDSTB*pDSTB*dstb.visits*(cost.prison.escort) + IncompDurMDRTB/DurMDRTB*(1-pDSTB)*mdrtb.visits*(cost.prison.escort),IncompDurDSTB/DurDSTB*(pDSTB*dstb.visits*(cost.dstb.opd.visit) + pDSTB*DurDSTB*(cost.dsatt.drugs + cost.dots))+ IncompDurMDRTB/DurMDRTB*((1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visits)  + (1-pDSTB)*DurMDRTB*(cost.mdratt.drugs + cost.dots)),0,0,0,0,0,0,0,0,0,0,0,1,0,0,1
     ¦   ¦   ¦           ¦           ¦   ¦   ¦   ¦   ¦   ¦   ¦       °--no ATT                                                                                                ,1-soc.prop.starting.att,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,1,1
     ¦   ¦   ¦           ¦           ¦   ¦   ¦   ¦   ¦   ¦   °--Not TB                                                                                                        ,1-soc.prop.abn.xray.tb.dx,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦           ¦   ¦   ¦   ¦   ¦   ¦       ¦--In prison/IRC for >3 months                                                                               ,soc.prop.staying.o3.months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦           ¦   ¦   ¦   ¦   ¦   ¦       ¦   °--Refer for treatment                                                                                   ,tpt.nhs.referral,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,0,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦           ¦   ¦   ¦   ¦   ¦   ¦       ¦       °--TPT outcomes                                                                                      ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦           ¦   ¦   ¦   ¦   ¦   ¦       ¦           ¦--gets TPT                                                                                      ,soc.prop.staying.o3.months.tpt,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦           ¦   ¦   ¦   ¦   ¦   ¦       ¦           ¦   ¦--completed TPT                                                                             ,soc.prop.staying.o3.months.complete.tpt,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,0,durTPT*(cost.dots) + TPT.visits*(cost.prison.escort),durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦   ¦   ¦           ¦           ¦   ¦   ¦   ¦   ¦   ¦       ¦           ¦   °--did not complete TPT                                                                      ,1-soc.prop.staying.o3.months.complete.tpt,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,0,IncompDurTPT*(durTPT*(cost.dots) + TPT.visits*(cost.prison.escort)),IncompDurTPT*(durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit)),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦   ¦   ¦           ¦           ¦   ¦   ¦   ¦   ¦   ¦       ¦           °--does not get TPT                                                                              ,1-soc.prop.staying.o3.months.tpt,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,1
     ¦   ¦   ¦           ¦           ¦   ¦   ¦   ¦   ¦   ¦       °--In prison/IRC for <3 months                                                                               ,1-soc.prop.staying.o3.months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦           ¦   ¦   ¦   ¦   ¦   ¦           ¦--Remaining in the UK (community or other prison/IRC)                                                   ,soc.prop.staying.u3.months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦           ¦   ¦   ¦   ¦   ¦   ¦           ¦   °--Refer for treatment and forward details to receiving prison/community TB nurse                    ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦           ¦   ¦   ¦   ¦   ¦   ¦           ¦       °--TPT outcomes                                                                                  ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦           ¦   ¦   ¦   ¦   ¦   ¦           ¦           ¦--gets TPT                                                                                  ,soc.prop.staying.u3.months.uk.tpt,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦           ¦   ¦   ¦   ¦   ¦   ¦           ¦           ¦   ¦--completed TPT                                                                         ,soc.prop.staying.u3.months.uk.complete.tpt,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,0,durTPT*(cost.dots) + TPT.visits*(cost.prison.escort),durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦   ¦   ¦           ¦           ¦   ¦   ¦   ¦   ¦   ¦           ¦           ¦   °--did not complete TPT                                                                  ,1-soc.prop.staying.u3.months.uk.complete.tpt,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,0,IncompDurTPT*(durTPT*(cost.dots) + TPT.visits*(cost.prison.escort)),IncompDurTPT*(durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit)),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦   ¦   ¦           ¦           ¦   ¦   ¦   ¦   ¦   ¦           ¦           °--does not get TPT                                                                          ,1-soc.prop.staying.u3.months.uk.tpt,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,1
     ¦   ¦   ¦           ¦           ¦   ¦   ¦   ¦   ¦   ¦           °--Early removal scheme or deportation                                                                   ,1-soc.prop.staying.u3.months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦           ¦           ¦   ¦   ¦   ¦   ¦   °--did not Attend                                                                                                    ,1-soc.prop.abn.xray.nhs.attend.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦           ¦           ¦   ¦   ¦   ¦   °--Not referred to NHS TB service                                                                                        ,1-soc.prop.abn.xray.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦           ¦           ¦   ¦   ¦   °--Normal chest x-ray                                                                                                        ,1-soc.prop.abnormal.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦           ¦   ¦   ¦       ¦--In prison/IRC for >3 months                                                                                           ,soc.prop.staying.o3.months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦           ¦   ¦   ¦       ¦   °--Refer for treatment                                                                                               ,tpt.nhs.referral,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,0,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦           ¦   ¦   ¦       ¦       °--TPT outcomes                                                                                                  ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦           ¦   ¦   ¦       ¦           ¦--gets TPT                                                                                                  ,soc.prop.staying.o3.months.tpt,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦           ¦   ¦   ¦       ¦           ¦   ¦--completed TPT                                                                                         ,soc.prop.staying.o3.months.complete.tpt,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,0,durTPT*(cost.dots) + TPT.visits*(cost.prison.escort),durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦   ¦   ¦           ¦           ¦   ¦   ¦       ¦           ¦   °--did not complete TPT                                                                                  ,1-soc.prop.staying.o3.months.complete.tpt,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,0,IncompDurTPT*(durTPT*(cost.dots) + TPT.visits*(cost.prison.escort)),IncompDurTPT*(durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit)),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦   ¦   ¦           ¦           ¦   ¦   ¦       ¦           °--does not get TPT                                                                                          ,1-soc.prop.staying.o3.months.tpt,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,1
     ¦   ¦   ¦           ¦           ¦   ¦   ¦       °--In prison/IRC for <3 months                                                                                           ,1-soc.prop.staying.o3.months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦           ¦   ¦   ¦           ¦--Remaining in the UK (community or other prison/IRC)                                                               ,soc.prop.staying.u3.months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦           ¦   ¦   ¦           ¦   °--Refer for treatment and forward details to receiving prison/community TB nurse                                ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦           ¦   ¦   ¦           ¦       °--TPT outcomes                                                                                              ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦           ¦   ¦   ¦           ¦           ¦--gets TPT                                                                                              ,soc.prop.staying.u3.months.uk.tpt,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦           ¦   ¦   ¦           ¦           ¦   ¦--completed TPT                                                                                     ,soc.prop.staying.u3.months.uk.complete.tpt,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,0,durTPT*(cost.dots) + TPT.visits*(cost.prison.escort),durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦   ¦   ¦           ¦           ¦   ¦   ¦           ¦           ¦   °--did not complete TPT                                                                              ,1-soc.prop.staying.u3.months.uk.complete.tpt,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,0,IncompDurTPT*(durTPT*(cost.dots) + TPT.visits*(cost.prison.escort)),IncompDurTPT*(durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit)),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦   ¦   ¦           ¦           ¦   ¦   ¦           ¦           °--does not get TPT                                                                                      ,1-soc.prop.staying.u3.months.uk.tpt,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,1
     ¦   ¦   ¦           ¦           ¦   ¦   ¦           °--Early removal scheme or deportation                                                                               ,1-soc.prop.staying.u3.months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦           ¦           ¦   ¦   °--No previous chest x-ray                                                                                                       ,1-soc.prop.prev.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦           ¦   ¦       ¦--Chest x-ray                                                                                                               ,soc.prop.xray,cost.chest.xray,0,0,cost.chest.xray,0,0,cost.chest.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦           ¦   ¦       ¦   ¦--Abornomal chest x-ray                                                                                                 ,soc.prop.abnormal.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦           ¦   ¦       ¦   ¦   ¦--Referred to NHS TB service                                                                                        ,soc.prop.abn.xray.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦           ¦   ¦       ¦   ¦   ¦   ¦--Attended                                                                                                      ,soc.prop.abn.xray.nhs.attend.referral,cost.nhs.tb.service + cost.prison.escort + cost.tb.investigations,0,0,cost.nhs.tb.service + cost.prison.escort + cost.tb.investigations,0,cost.prison.escort,cost.nhs.tb.service + cost.tb.investigations,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦           ¦   ¦       ¦   ¦   ¦   ¦   ¦--TB                                                                                                        ,soc.prop.abn.xray.tb.dx,pIsolation*cost.prison.cell.isolation + cost.contact.tracing,0,0,pIsolation*cost.prison.cell.isolation + cost.contact.tracing,0,pIsolation*cost.prison.cell.isolation + cost.contact.tracing,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
     ¦   ¦   ¦           ¦           ¦   ¦       ¦   ¦   ¦   ¦   ¦   °--TB outcomes                                                                                           ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦           ¦   ¦       ¦   ¦   ¦   ¦   ¦       ¦--ATT                                                                                               ,soc.prop.starting.att,pAttending*(cost.nhs.tb.service + cost.prison.escort),0,0,0,pAttending*(cost.nhs.tb.service + cost.prison.escort),pAttending*(cost.prison.escort),pAttending*(cost.nhs.tb.service),0,0,0,0,0,0,0,0,0,1,0,0,0,0,0
     ¦   ¦   ¦           ¦           ¦   ¦       ¦   ¦   ¦   ¦   ¦       ¦   ¦--completed ATT                                                                                 ,soc.prop.completing.att,(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + (1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visit + cost.prison.escort)) + (pDSTB*DurDSTB*cost.dsatt.drugs + (1-pDSTB)*DurMDRTB*cost.mdratt.drugs) + cost.dots*(pDSTB*DurDSTB + (1-pDSTB)*DurMDRTB),0,0,0,(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + (1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visit + cost.prison.escort)) + (pDSTB*DurDSTB*cost.dsatt.drugs + (1-pDSTB)*DurMDRTB*cost.mdratt.drugs) + cost.dots*(pDSTB*DurDSTB + (1-pDSTB)*DurMDRTB),(pDSTB*dstb.visits*(cost.prison.escort) + (1-pDSTB)*mdrtb.visits*(cost.prison.escort)),(pDSTB*dstb.visits*(cost.dstb.opd.visit ) + (1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visit )) + (pDSTB*DurDSTB*cost.dsatt.drugs + (1-pDSTB)*DurMDRTB*cost.mdratt.drugs) + cost.dots*(pDSTB*DurDSTB + (1-pDSTB)*DurMDRTB),0,0,0,0,0,0,0,0,0,0,0,1,0,0,1
     ¦   ¦   ¦           ¦           ¦   ¦       ¦   ¦   ¦   ¦   ¦       ¦   °--did not complete ATT                                                                          ,1-soc.prop.completing.att,IncompDurDSTB/DurDSTB*(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + pDSTB*DurDSTB*(cost.dsatt.drugs + cost.dots))+ IncompDurMDRTB/DurMDRTB*((1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visits + cost.prison.escort)  + (1-pDSTB)*DurMDRTB*(cost.mdratt.drugs + cost.dots)),0,0,0,IncompDurDSTB/DurDSTB*(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + pDSTB*DurDSTB*(cost.dsatt.drugs + cost.dots))+ IncompDurMDRTB/DurMDRTB*((1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visits + cost.prison.escort)  + (1-pDSTB)*DurMDRTB*(cost.mdratt.drugs + cost.dots)),IncompDurDSTB/DurDSTB*pDSTB*dstb.visits*(cost.prison.escort) + IncompDurMDRTB/DurMDRTB*(1-pDSTB)*mdrtb.visits*(cost.prison.escort),IncompDurDSTB/DurDSTB*(pDSTB*dstb.visits*(cost.dstb.opd.visit) + pDSTB*DurDSTB*(cost.dsatt.drugs + cost.dots))+ IncompDurMDRTB/DurMDRTB*((1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visits)  + (1-pDSTB)*DurMDRTB*(cost.mdratt.drugs + cost.dots)),0,0,0,0,0,0,0,0,0,0,0,1,0,0,1
     ¦   ¦   ¦           ¦           ¦   ¦       ¦   ¦   ¦   ¦   ¦       °--no ATT                                                                                            ,1-soc.prop.starting.att,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,1,1
     ¦   ¦   ¦           ¦           ¦   ¦       ¦   ¦   ¦   ¦   °--Not TB                                                                                                    ,1-soc.prop.abn.xray.tb.dx,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦           ¦   ¦       ¦   ¦   ¦   ¦       ¦--In prison/IRC for >3 months                                                                           ,soc.prop.staying.o3.months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦           ¦   ¦       ¦   ¦   ¦   ¦       ¦   °--Refer for treatment                                                                               ,tpt.nhs.referral,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,0,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦           ¦   ¦       ¦   ¦   ¦   ¦       ¦       °--TPT outcomes                                                                                  ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦           ¦   ¦       ¦   ¦   ¦   ¦       ¦           ¦--gets TPT                                                                                  ,soc.prop.staying.o3.months.tpt,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦           ¦   ¦       ¦   ¦   ¦   ¦       ¦           ¦   ¦--completed TPT                                                                         ,soc.prop.staying.o3.months.complete.tpt,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,0,durTPT*(cost.dots) + TPT.visits*(cost.prison.escort),durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦   ¦   ¦           ¦           ¦   ¦       ¦   ¦   ¦   ¦       ¦           ¦   °--did not complete TPT                                                                  ,1-soc.prop.staying.o3.months.complete.tpt,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,0,IncompDurTPT*(durTPT*(cost.dots) + TPT.visits*(cost.prison.escort)),IncompDurTPT*(durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit)),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦   ¦   ¦           ¦           ¦   ¦       ¦   ¦   ¦   ¦       ¦           °--does not get TPT                                                                          ,1-soc.prop.staying.o3.months.tpt,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,1
     ¦   ¦   ¦           ¦           ¦   ¦       ¦   ¦   ¦   ¦       °--In prison/IRC for <3 months                                                                           ,1-soc.prop.staying.o3.months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦           ¦   ¦       ¦   ¦   ¦   ¦           ¦--Remaining in the UK (community or other prison/IRC)                                               ,soc.prop.staying.u3.months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦           ¦   ¦       ¦   ¦   ¦   ¦           ¦   °--Refer for treatment and forward details to receiving prison/community TB nurse                ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦           ¦   ¦       ¦   ¦   ¦   ¦           ¦       °--TPT outcomes                                                                              ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦           ¦   ¦       ¦   ¦   ¦   ¦           ¦           ¦--gets TPT                                                                              ,soc.prop.staying.u3.months.uk.tpt,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦           ¦   ¦       ¦   ¦   ¦   ¦           ¦           ¦   ¦--completed TPT                                                                     ,soc.prop.staying.u3.months.uk.complete.tpt,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,0,durTPT*(cost.dots) + TPT.visits*(cost.prison.escort),durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦   ¦   ¦           ¦           ¦   ¦       ¦   ¦   ¦   ¦           ¦           ¦   °--did not complete TPT                                                              ,1-soc.prop.staying.u3.months.uk.complete.tpt,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,0,IncompDurTPT*(durTPT*(cost.dots) + TPT.visits*(cost.prison.escort)),IncompDurTPT*(durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit)),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦   ¦   ¦           ¦           ¦   ¦       ¦   ¦   ¦   ¦           ¦           °--does not get TPT                                                                      ,1-soc.prop.staying.u3.months.uk.tpt,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,1
     ¦   ¦   ¦           ¦           ¦   ¦       ¦   ¦   ¦   ¦           °--Early removal scheme or deportation                                                               ,1-soc.prop.staying.u3.months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦           ¦           ¦   ¦       ¦   ¦   ¦   °--did not Attend                                                                                                ,1-soc.prop.abn.xray.nhs.attend.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦           ¦           ¦   ¦       ¦   ¦   °--Not referred to NHS TB service                                                                                    ,1-soc.prop.abn.xray.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦           ¦           ¦   ¦       ¦   °--Normal chest x-ray                                                                                                    ,1-soc.prop.abnormal.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦           ¦   ¦       ¦       ¦--In prison/IRC for >3 months                                                                                       ,soc.prop.staying.o3.months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦           ¦   ¦       ¦       ¦   °--Refer for treatment                                                                                           ,tpt.nhs.referral,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,0,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦           ¦   ¦       ¦       ¦       °--TPT outcomes                                                                                              ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦           ¦   ¦       ¦       ¦           ¦--gets TPT                                                                                              ,soc.prop.staying.o3.months.tpt,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦           ¦   ¦       ¦       ¦           ¦   ¦--completed TPT                                                                                     ,soc.prop.staying.o3.months.complete.tpt,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,0,durTPT*(cost.dots) + TPT.visits*(cost.prison.escort),durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦   ¦   ¦           ¦           ¦   ¦       ¦       ¦           ¦   °--did not complete TPT                                                                              ,1-soc.prop.staying.o3.months.complete.tpt,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,0,IncompDurTPT*(durTPT*(cost.dots) + TPT.visits*(cost.prison.escort)),IncompDurTPT*(durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit)),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦   ¦   ¦           ¦           ¦   ¦       ¦       ¦           °--does not get TPT                                                                                      ,1-soc.prop.staying.o3.months.tpt,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,1
     ¦   ¦   ¦           ¦           ¦   ¦       ¦       °--In prison/IRC for <3 months                                                                                       ,1-soc.prop.staying.o3.months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦           ¦   ¦       ¦           ¦--Remaining in the UK (community or other prison/IRC)                                                           ,soc.prop.staying.u3.months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦           ¦   ¦       ¦           ¦   °--Refer for treatment and forward details to receiving prison/community TB nurse                            ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦           ¦   ¦       ¦           ¦       °--TPT outcomes                                                                                          ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦           ¦   ¦       ¦           ¦           ¦--gets TPT                                                                                          ,soc.prop.staying.u3.months.uk.tpt,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦           ¦   ¦       ¦           ¦           ¦   ¦--completed TPT                                                                                 ,soc.prop.staying.u3.months.uk.complete.tpt,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,0,durTPT*(cost.dots) + TPT.visits*(cost.prison.escort),durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦   ¦   ¦           ¦           ¦   ¦       ¦           ¦           ¦   °--did not complete TPT                                                                          ,1-soc.prop.staying.u3.months.uk.complete.tpt,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,0,IncompDurTPT*(durTPT*(cost.dots) + TPT.visits*(cost.prison.escort)),IncompDurTPT*(durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit)),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦   ¦   ¦           ¦           ¦   ¦       ¦           ¦           °--does not get TPT                                                                                  ,1-soc.prop.staying.u3.months.uk.tpt,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,1
     ¦   ¦   ¦           ¦           ¦   ¦       ¦           °--Early removal scheme or deportation                                                                           ,1-soc.prop.staying.u3.months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦           ¦           ¦   ¦       °--No chest x-ray                                                                                                            ,1-soc.prop.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦           ¦   ¦           ¦--Referred to NHS TB service                                                                                            ,soc.prop.no.xray.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦           ¦   ¦           ¦   ¦--Attended                                                                                                          ,soc.prop.no.xray.nhs.attend.referral,cost.nhs.tb.service + cost.prison.escort + cost.tb.investigations,0,0,cost.nhs.tb.service + cost.prison.escort + cost.tb.investigations,0,cost.prison.escort,cost.nhs.tb.service + cost.tb.investigations,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦           ¦   ¦           ¦   ¦   ¦--TB                                                                                                            ,soc.prop.no.xray.tb.dx,pIsolation*cost.prison.cell.isolation + cost.contact.tracing,0,0,pIsolation*cost.prison.cell.isolation + cost.contact.tracing,0,pIsolation*cost.prison.cell.isolation + cost.contact.tracing,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
     ¦   ¦   ¦           ¦           ¦   ¦           ¦   ¦   ¦   °--TB outcomes                                                                                               ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦           ¦   ¦           ¦   ¦   ¦       ¦--ATT                                                                                                   ,soc.prop.starting.att,pAttending*(cost.nhs.tb.service + cost.prison.escort),0,0,0,pAttending*(cost.nhs.tb.service + cost.prison.escort),pAttending*(cost.prison.escort),pAttending*(cost.nhs.tb.service),0,0,0,0,0,0,0,0,0,1,0,0,0,0,0
     ¦   ¦   ¦           ¦           ¦   ¦           ¦   ¦   ¦       ¦   ¦--completed ATT                                                                                     ,soc.prop.completing.att,(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + (1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visit + cost.prison.escort)) + (pDSTB*DurDSTB*cost.dsatt.drugs + (1-pDSTB)*DurMDRTB*cost.mdratt.drugs) + cost.dots*(pDSTB*DurDSTB + (1-pDSTB)*DurMDRTB),0,0,0,(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + (1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visit + cost.prison.escort)) + (pDSTB*DurDSTB*cost.dsatt.drugs + (1-pDSTB)*DurMDRTB*cost.mdratt.drugs) + cost.dots*(pDSTB*DurDSTB + (1-pDSTB)*DurMDRTB),(pDSTB*dstb.visits*(cost.prison.escort) + (1-pDSTB)*mdrtb.visits*(cost.prison.escort)),(pDSTB*dstb.visits*(cost.dstb.opd.visit ) + (1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visit )) + (pDSTB*DurDSTB*cost.dsatt.drugs + (1-pDSTB)*DurMDRTB*cost.mdratt.drugs) + cost.dots*(pDSTB*DurDSTB + (1-pDSTB)*DurMDRTB),0,0,0,0,0,0,0,0,0,0,0,1,0,0,1
     ¦   ¦   ¦           ¦           ¦   ¦           ¦   ¦   ¦       ¦   °--did not complete ATT                                                                              ,1-soc.prop.completing.att,IncompDurDSTB/DurDSTB*(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + pDSTB*DurDSTB*(cost.dsatt.drugs + cost.dots))+ IncompDurMDRTB/DurMDRTB*((1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visits + cost.prison.escort)  + (1-pDSTB)*DurMDRTB*(cost.mdratt.drugs + cost.dots)),0,0,0,IncompDurDSTB/DurDSTB*(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + pDSTB*DurDSTB*(cost.dsatt.drugs + cost.dots))+ IncompDurMDRTB/DurMDRTB*((1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visits + cost.prison.escort)  + (1-pDSTB)*DurMDRTB*(cost.mdratt.drugs + cost.dots)),IncompDurDSTB/DurDSTB*pDSTB*dstb.visits*(cost.prison.escort) + IncompDurMDRTB/DurMDRTB*(1-pDSTB)*mdrtb.visits*(cost.prison.escort),IncompDurDSTB/DurDSTB*(pDSTB*dstb.visits*(cost.dstb.opd.visit) + pDSTB*DurDSTB*(cost.dsatt.drugs + cost.dots))+ IncompDurMDRTB/DurMDRTB*((1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visits)  + (1-pDSTB)*DurMDRTB*(cost.mdratt.drugs + cost.dots)),0,0,0,0,0,0,0,0,0,0,0,1,0,0,1
     ¦   ¦   ¦           ¦           ¦   ¦           ¦   ¦   ¦       °--no ATT                                                                                                ,1-soc.prop.starting.att,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,1,1
     ¦   ¦   ¦           ¦           ¦   ¦           ¦   ¦   °--Not TB                                                                                                        ,1-soc.prop.no.xray.tb.dx,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦           ¦   ¦           ¦   ¦       ¦--In prison/IRC for >3 months                                                                               ,soc.prop.staying.o3.months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦           ¦   ¦           ¦   ¦       ¦   °--Refer for treatment                                                                                   ,tpt.nhs.referral,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,0,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦           ¦   ¦           ¦   ¦       ¦       °--TPT outcomes                                                                                      ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦           ¦   ¦           ¦   ¦       ¦           ¦--gets TPT                                                                                      ,soc.prop.staying.o3.months.tpt,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦           ¦   ¦           ¦   ¦       ¦           ¦   ¦--completed TPT                                                                             ,soc.prop.staying.o3.months.complete.tpt,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,0,durTPT*(cost.dots) + TPT.visits*(cost.prison.escort),durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦   ¦   ¦           ¦           ¦   ¦           ¦   ¦       ¦           ¦   °--did not complete TPT                                                                      ,1-soc.prop.staying.o3.months.complete.tpt,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,0,IncompDurTPT*(durTPT*(cost.dots) + TPT.visits*(cost.prison.escort)),IncompDurTPT*(durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit)),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦   ¦   ¦           ¦           ¦   ¦           ¦   ¦       ¦           °--does not get TPT                                                                              ,1-soc.prop.staying.o3.months.tpt,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,1
     ¦   ¦   ¦           ¦           ¦   ¦           ¦   ¦       °--In prison/IRC for <3 months                                                                               ,1-soc.prop.staying.o3.months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦           ¦   ¦           ¦   ¦           ¦--Remaining in the UK (community or other prison/IRC)                                                   ,soc.prop.staying.u3.months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦           ¦   ¦           ¦   ¦           ¦   °--Refer for treatment and forward details to receiving prison/community TB nurse                    ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦           ¦   ¦           ¦   ¦           ¦       °--TPT outcomes                                                                                  ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦           ¦   ¦           ¦   ¦           ¦           ¦--gets TPT                                                                                  ,soc.prop.staying.u3.months.uk.tpt,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦           ¦   ¦           ¦   ¦           ¦           ¦   ¦--completed TPT                                                                         ,soc.prop.staying.u3.months.uk.complete.tpt,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,0,durTPT*(cost.dots) + TPT.visits*(cost.prison.escort),durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦   ¦   ¦           ¦           ¦   ¦           ¦   ¦           ¦           ¦   °--did not complete TPT                                                                  ,1-soc.prop.staying.u3.months.uk.complete.tpt,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,0,IncompDurTPT*(durTPT*(cost.dots) + TPT.visits*(cost.prison.escort)),IncompDurTPT*(durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit)),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦   ¦   ¦           ¦           ¦   ¦           ¦   ¦           ¦           °--does not get TPT                                                                          ,1-soc.prop.staying.u3.months.uk.tpt,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,1
     ¦   ¦   ¦           ¦           ¦   ¦           ¦   ¦           °--Early removal scheme or deportation                                                                   ,1-soc.prop.staying.u3.months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦           ¦           ¦   ¦           ¦   °--did not Attend                                                                                                    ,1-soc.prop.no.xray.nhs.attend.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦           ¦           ¦   ¦           °--Not referred to NHS TB service                                                                                        ,1-soc.prop.no.xray.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦           ¦           ¦   °--IGRA test -                                                                                                                       ,1-soc.prop.igra.test.positive,0,0,0,0,0,0,0,0,0,0,1,0,0,1,0,0,0,0,0,0,0,1
     ¦   ¦   ¦           ¦           °--no IGRA test                                                                                                                          ,1-soc.prop.igra.tested,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦           °--No chest x-ray < 6 months                                                                                                                         ,1-soc.prop.prev.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦--Chest x-ray                                                                                                                                   ,soc.prop.xray,cost.chest.xray,0,0,cost.chest.xray,0,0,cost.chest.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦   ¦--Abornomal chest x-ray                                                                                                                     ,soc.prop.abnormal.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦   ¦   °--Urgent referral to local NHS TB service                                                                                               ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦   ¦       ¦--Attended                                                                                                                          ,soc.prop.abn.xray.nhs.attend.referral,cost.nhs.tb.service + cost.prison.escort + cost.tb.investigations,0,0,cost.nhs.tb.service + cost.prison.escort + cost.tb.investigations,0,cost.prison.escort,cost.nhs.tb.service + cost.tb.investigations,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦   ¦       ¦   ¦--TB                                                                                                                            ,soc.prop.abn.xray.tb.dx,pIsolation*cost.prison.cell.isolation + cost.contact.tracing,0,0,pIsolation*cost.prison.cell.isolation + cost.contact.tracing,0,pIsolation*cost.prison.cell.isolation + cost.contact.tracing,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
     ¦   ¦   ¦               ¦   ¦       ¦   ¦   °--TB outcomes                                                                                                               ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦   ¦       ¦   ¦       ¦--ATT                                                                                                                   ,soc.prop.starting.att,pAttending*(cost.nhs.tb.service + cost.prison.escort),0,0,0,pAttending*(cost.nhs.tb.service + cost.prison.escort),pAttending*(cost.prison.escort),pAttending*(cost.nhs.tb.service),0,0,0,0,0,0,0,0,0,1,0,0,0,0,0
     ¦   ¦   ¦               ¦   ¦       ¦   ¦       ¦   ¦--completed ATT                                                                                                     ,soc.prop.completing.att,(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + (1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visit + cost.prison.escort)) + (pDSTB*DurDSTB*cost.dsatt.drugs + (1-pDSTB)*DurMDRTB*cost.mdratt.drugs) + cost.dots*(pDSTB*DurDSTB + (1-pDSTB)*DurMDRTB),0,0,0,(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + (1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visit + cost.prison.escort)) + (pDSTB*DurDSTB*cost.dsatt.drugs + (1-pDSTB)*DurMDRTB*cost.mdratt.drugs) + cost.dots*(pDSTB*DurDSTB + (1-pDSTB)*DurMDRTB),(pDSTB*dstb.visits*(cost.prison.escort) + (1-pDSTB)*mdrtb.visits*(cost.prison.escort)),(pDSTB*dstb.visits*(cost.dstb.opd.visit ) + (1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visit )) + (pDSTB*DurDSTB*cost.dsatt.drugs + (1-pDSTB)*DurMDRTB*cost.mdratt.drugs) + cost.dots*(pDSTB*DurDSTB + (1-pDSTB)*DurMDRTB),0,0,0,0,0,0,0,0,0,0,0,1,0,0,1
     ¦   ¦   ¦               ¦   ¦       ¦   ¦       ¦   °--did not complete ATT                                                                                              ,1-soc.prop.completing.att,IncompDurDSTB/DurDSTB*(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + pDSTB*DurDSTB*(cost.dsatt.drugs + cost.dots))+ IncompDurMDRTB/DurMDRTB*((1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visits + cost.prison.escort)  + (1-pDSTB)*DurMDRTB*(cost.mdratt.drugs + cost.dots)),0,0,0,IncompDurDSTB/DurDSTB*(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + pDSTB*DurDSTB*(cost.dsatt.drugs + cost.dots))+ IncompDurMDRTB/DurMDRTB*((1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visits + cost.prison.escort)  + (1-pDSTB)*DurMDRTB*(cost.mdratt.drugs + cost.dots)),IncompDurDSTB/DurDSTB*pDSTB*dstb.visits*(cost.prison.escort) + IncompDurMDRTB/DurMDRTB*(1-pDSTB)*mdrtb.visits*(cost.prison.escort),IncompDurDSTB/DurDSTB*(pDSTB*dstb.visits*(cost.dstb.opd.visit) + pDSTB*DurDSTB*(cost.dsatt.drugs + cost.dots))+ IncompDurMDRTB/DurMDRTB*((1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visits)  + (1-pDSTB)*DurMDRTB*(cost.mdratt.drugs + cost.dots)),0,0,0,0,0,0,0,0,0,0,0,1,0,0,1
     ¦   ¦   ¦               ¦   ¦       ¦   ¦       °--no ATT                                                                                                                ,1-soc.prop.starting.att,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,1,1
     ¦   ¦   ¦               ¦   ¦       ¦   °--Not TB                                                                                                                        ,1-soc.prop.abn.xray.tb.dx,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦   ¦       ¦       °--LTBI pathway                                                                                                              ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦   ¦       ¦           ¦--IGRA test                                                                                                             ,soc.prop.igra.tested,cost.igra.test,0,cost.igra.test,0,0,0,cost.igra.test,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦--IGRA test +                                                                                                       ,soc.prop.igra.test.positive,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦   ¦--Previous chest x-ray                                                                                          ,soc.prop.prev.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦   ¦   ¦--Abornomal chest x-ray                                                                                     ,soc.prop.abnormal.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦--Referred to NHS TB service                                                                            ,soc.prop.abn.xray.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦--Attended                                                                                          ,soc.prop.abn.xray.nhs.attend.referral,cost.nhs.tb.service + cost.prison.escort + cost.tb.investigations,0,0,cost.nhs.tb.service + cost.prison.escort + cost.tb.investigations,0,cost.prison.escort,cost.nhs.tb.service + cost.tb.investigations,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦   ¦--TB                                                                                            ,soc.prop.abn.xray.tb.dx,pIsolation*cost.prison.cell.isolation + cost.contact.tracing,0,0,pIsolation*cost.prison.cell.isolation + cost.contact.tracing,0,pIsolation*cost.prison.cell.isolation + cost.contact.tracing,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦   ¦   °--TB outcomes                                                                               ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦   ¦       ¦--ATT                                                                                   ,soc.prop.starting.att,pAttending*(cost.nhs.tb.service + cost.prison.escort),0,0,0,pAttending*(cost.nhs.tb.service + cost.prison.escort),pAttending*(cost.prison.escort),pAttending*(cost.nhs.tb.service),0,0,0,0,0,0,0,0,0,1,0,0,0,0,0
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦   ¦       ¦   ¦--completed ATT                                                                     ,soc.prop.completing.att,(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + (1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visit + cost.prison.escort)) + (pDSTB*DurDSTB*cost.dsatt.drugs + (1-pDSTB)*DurMDRTB*cost.mdratt.drugs) + cost.dots*(pDSTB*DurDSTB + (1-pDSTB)*DurMDRTB),0,0,0,(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + (1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visit + cost.prison.escort)) + (pDSTB*DurDSTB*cost.dsatt.drugs + (1-pDSTB)*DurMDRTB*cost.mdratt.drugs) + cost.dots*(pDSTB*DurDSTB + (1-pDSTB)*DurMDRTB),(pDSTB*dstb.visits*(cost.prison.escort) + (1-pDSTB)*mdrtb.visits*(cost.prison.escort)),(pDSTB*dstb.visits*(cost.dstb.opd.visit ) + (1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visit )) + (pDSTB*DurDSTB*cost.dsatt.drugs + (1-pDSTB)*DurMDRTB*cost.mdratt.drugs) + cost.dots*(pDSTB*DurDSTB + (1-pDSTB)*DurMDRTB),0,0,0,0,0,0,0,0,0,0,0,1,0,0,1
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦   ¦       ¦   °--did not complete ATT                                                              ,1-soc.prop.completing.att,IncompDurDSTB/DurDSTB*(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + pDSTB*DurDSTB*(cost.dsatt.drugs + cost.dots))+ IncompDurMDRTB/DurMDRTB*((1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visits + cost.prison.escort)  + (1-pDSTB)*DurMDRTB*(cost.mdratt.drugs + cost.dots)),0,0,0,IncompDurDSTB/DurDSTB*(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + pDSTB*DurDSTB*(cost.dsatt.drugs + cost.dots))+ IncompDurMDRTB/DurMDRTB*((1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visits + cost.prison.escort)  + (1-pDSTB)*DurMDRTB*(cost.mdratt.drugs + cost.dots)),IncompDurDSTB/DurDSTB*pDSTB*dstb.visits*(cost.prison.escort) + IncompDurMDRTB/DurMDRTB*(1-pDSTB)*mdrtb.visits*(cost.prison.escort),IncompDurDSTB/DurDSTB*(pDSTB*dstb.visits*(cost.dstb.opd.visit) + pDSTB*DurDSTB*(cost.dsatt.drugs + cost.dots))+ IncompDurMDRTB/DurMDRTB*((1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visits)  + (1-pDSTB)*DurMDRTB*(cost.mdratt.drugs + cost.dots)),0,0,0,0,0,0,0,0,0,0,0,1,0,0,1
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦   ¦       °--no ATT                                                                                ,1-soc.prop.starting.att,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,1,1
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦   °--Not TB                                                                                        ,1-soc.prop.abn.xray.tb.dx,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦       ¦--In prison/IRC for >3 months                                                               ,soc.prop.staying.o3.months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦       ¦   °--Refer for treatment                                                                   ,tpt.nhs.referral,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,0,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦       ¦       °--TPT outcomes                                                                      ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦       ¦           ¦--gets TPT                                                                      ,soc.prop.staying.o3.months.tpt,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦       ¦           ¦   ¦--completed TPT                                                             ,soc.prop.staying.o3.months.complete.tpt,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,0,durTPT*(cost.dots) + TPT.visits*(cost.prison.escort),durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦       ¦           ¦   °--did not complete TPT                                                      ,1-soc.prop.staying.o3.months.complete.tpt,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,0,IncompDurTPT*(durTPT*(cost.dots) + TPT.visits*(cost.prison.escort)),IncompDurTPT*(durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit)),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦       ¦           °--does not get TPT                                                              ,1-soc.prop.staying.o3.months.tpt,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,1
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦       °--In prison/IRC for <3 months                                                               ,1-soc.prop.staying.o3.months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦           ¦--Remaining in the UK (community or other prison/IRC)                                   ,soc.prop.staying.u3.months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦           ¦   °--Refer for treatment and forward details to receiving prison/community TB nurse    ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦           ¦       °--TPT outcomes                                                                  ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦           ¦           ¦--gets TPT                                                                  ,soc.prop.staying.u3.months.uk.tpt,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦           ¦           ¦   ¦--completed TPT                                                         ,soc.prop.staying.u3.months.uk.complete.tpt,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,0,durTPT*(cost.dots) + TPT.visits*(cost.prison.escort),durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦           ¦           ¦   °--did not complete TPT                                                  ,1-soc.prop.staying.u3.months.uk.complete.tpt,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,0,IncompDurTPT*(durTPT*(cost.dots) + TPT.visits*(cost.prison.escort)),IncompDurTPT*(durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit)),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦           ¦           °--does not get TPT                                                          ,1-soc.prop.staying.u3.months.uk.tpt,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,1
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦           °--Early removal scheme or deportation                                                   ,1-soc.prop.staying.u3.months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   °--did not Attend                                                                                    ,1-soc.prop.abn.xray.nhs.attend.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦   ¦   ¦   °--Not referred to NHS TB service                                                                        ,1-soc.prop.abn.xray.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦   ¦   °--Normal chest x-ray                                                                                        ,1-soc.prop.abnormal.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦   ¦       ¦--In prison/IRC for >3 months                                                                           ,soc.prop.staying.o3.months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦   ¦       ¦   °--Refer for treatment                                                                               ,tpt.nhs.referral,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,0,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦   ¦       ¦       °--TPT outcomes                                                                                  ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦   ¦       ¦           ¦--gets TPT                                                                                  ,soc.prop.staying.o3.months.tpt,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦   ¦       ¦           ¦   ¦--completed TPT                                                                         ,soc.prop.staying.o3.months.complete.tpt,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,0,durTPT*(cost.dots) + TPT.visits*(cost.prison.escort),durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦   ¦       ¦           ¦   °--did not complete TPT                                                                  ,1-soc.prop.staying.o3.months.complete.tpt,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,0,IncompDurTPT*(durTPT*(cost.dots) + TPT.visits*(cost.prison.escort)),IncompDurTPT*(durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit)),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦   ¦       ¦           °--does not get TPT                                                                          ,1-soc.prop.staying.o3.months.tpt,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,1
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦   ¦       °--In prison/IRC for <3 months                                                                           ,1-soc.prop.staying.o3.months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦   ¦           ¦--Remaining in the UK (community or other prison/IRC)                                               ,soc.prop.staying.u3.months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦   ¦           ¦   °--Refer for treatment and forward details to receiving prison/community TB nurse                ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦   ¦           ¦       °--TPT outcomes                                                                              ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦   ¦           ¦           ¦--gets TPT                                                                              ,soc.prop.staying.u3.months.uk.tpt,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦   ¦           ¦           ¦   ¦--completed TPT                                                                     ,soc.prop.staying.u3.months.uk.complete.tpt,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,0,durTPT*(cost.dots) + TPT.visits*(cost.prison.escort),durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦   ¦           ¦           ¦   °--did not complete TPT                                                              ,1-soc.prop.staying.u3.months.uk.complete.tpt,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,0,IncompDurTPT*(durTPT*(cost.dots) + TPT.visits*(cost.prison.escort)),IncompDurTPT*(durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit)),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦   ¦           ¦           °--does not get TPT                                                                      ,1-soc.prop.staying.u3.months.uk.tpt,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,1
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦   ¦           °--Early removal scheme or deportation                                                               ,1-soc.prop.staying.u3.months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦   °--No previous chest x-ray                                                                                       ,1-soc.prop.prev.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦       ¦--Chest x-ray                                                                                               ,soc.prop.xray,cost.chest.xray,0,0,cost.chest.xray,0,0,cost.chest.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦       ¦   ¦--Abornomal chest x-ray                                                                                 ,soc.prop.abnormal.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦--Referred to NHS TB service                                                                        ,soc.prop.abn.xray.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦--Attended                                                                                      ,soc.prop.abn.xray.nhs.attend.referral,cost.nhs.tb.service + cost.prison.escort + cost.tb.investigations,0,0,cost.nhs.tb.service + cost.prison.escort + cost.tb.investigations,0,cost.prison.escort,cost.nhs.tb.service + cost.tb.investigations,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦   ¦--TB                                                                                        ,soc.prop.abn.xray.tb.dx,pIsolation*cost.prison.cell.isolation + cost.contact.tracing,0,0,pIsolation*cost.prison.cell.isolation + cost.contact.tracing,0,pIsolation*cost.prison.cell.isolation + cost.contact.tracing,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦   ¦   °--TB outcomes                                                                           ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦   ¦       ¦--ATT                                                                               ,soc.prop.starting.att,pAttending*(cost.nhs.tb.service + cost.prison.escort),0,0,0,pAttending*(cost.nhs.tb.service + cost.prison.escort),pAttending*(cost.prison.escort),pAttending*(cost.nhs.tb.service),0,0,0,0,0,0,0,0,0,1,0,0,0,0,0
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦   ¦       ¦   ¦--completed ATT                                                                 ,soc.prop.completing.att,(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + (1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visit + cost.prison.escort)) + (pDSTB*DurDSTB*cost.dsatt.drugs + (1-pDSTB)*DurMDRTB*cost.mdratt.drugs) + cost.dots*(pDSTB*DurDSTB + (1-pDSTB)*DurMDRTB),0,0,0,(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + (1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visit + cost.prison.escort)) + (pDSTB*DurDSTB*cost.dsatt.drugs + (1-pDSTB)*DurMDRTB*cost.mdratt.drugs) + cost.dots*(pDSTB*DurDSTB + (1-pDSTB)*DurMDRTB),(pDSTB*dstb.visits*(cost.prison.escort) + (1-pDSTB)*mdrtb.visits*(cost.prison.escort)),(pDSTB*dstb.visits*(cost.dstb.opd.visit ) + (1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visit )) + (pDSTB*DurDSTB*cost.dsatt.drugs + (1-pDSTB)*DurMDRTB*cost.mdratt.drugs) + cost.dots*(pDSTB*DurDSTB + (1-pDSTB)*DurMDRTB),0,0,0,0,0,0,0,0,0,0,0,1,0,0,1
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦   ¦       ¦   °--did not complete ATT                                                          ,1-soc.prop.completing.att,IncompDurDSTB/DurDSTB*(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + pDSTB*DurDSTB*(cost.dsatt.drugs + cost.dots))+ IncompDurMDRTB/DurMDRTB*((1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visits + cost.prison.escort)  + (1-pDSTB)*DurMDRTB*(cost.mdratt.drugs + cost.dots)),0,0,0,IncompDurDSTB/DurDSTB*(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + pDSTB*DurDSTB*(cost.dsatt.drugs + cost.dots))+ IncompDurMDRTB/DurMDRTB*((1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visits + cost.prison.escort)  + (1-pDSTB)*DurMDRTB*(cost.mdratt.drugs + cost.dots)),IncompDurDSTB/DurDSTB*pDSTB*dstb.visits*(cost.prison.escort) + IncompDurMDRTB/DurMDRTB*(1-pDSTB)*mdrtb.visits*(cost.prison.escort),IncompDurDSTB/DurDSTB*(pDSTB*dstb.visits*(cost.dstb.opd.visit) + pDSTB*DurDSTB*(cost.dsatt.drugs + cost.dots))+ IncompDurMDRTB/DurMDRTB*((1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visits)  + (1-pDSTB)*DurMDRTB*(cost.mdratt.drugs + cost.dots)),0,0,0,0,0,0,0,0,0,0,0,1,0,0,1
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦   ¦       °--no ATT                                                                            ,1-soc.prop.starting.att,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,1,1
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦   °--Not TB                                                                                    ,1-soc.prop.abn.xray.tb.dx,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦       ¦--In prison/IRC for >3 months                                                           ,soc.prop.staying.o3.months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦       ¦   °--Refer for treatment                                                               ,tpt.nhs.referral,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,0,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦       ¦       °--TPT outcomes                                                                  ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦       ¦           ¦--gets TPT                                                                  ,soc.prop.staying.o3.months.tpt,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦       ¦           ¦   ¦--completed TPT                                                         ,soc.prop.staying.o3.months.complete.tpt,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,0,durTPT*(cost.dots) + TPT.visits*(cost.prison.escort),durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦       ¦           ¦   °--did not complete TPT                                                  ,1-soc.prop.staying.o3.months.complete.tpt,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,0,IncompDurTPT*(durTPT*(cost.dots) + TPT.visits*(cost.prison.escort)),IncompDurTPT*(durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit)),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦       ¦           °--does not get TPT                                                          ,1-soc.prop.staying.o3.months.tpt,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,1
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦       °--In prison/IRC for <3 months                                                           ,1-soc.prop.staying.o3.months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦           ¦--Remaining in the UK (community or other prison/IRC)                               ,soc.prop.staying.u3.months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦           ¦   °--Refer for treatment and forward details to receiving prison/community TB nurse,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦           ¦       °--TPT outcomes                                                              ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦           ¦           ¦--gets TPT                                                              ,soc.prop.staying.u3.months.uk.tpt,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦           ¦           ¦   ¦--completed TPT                                                     ,soc.prop.staying.u3.months.uk.complete.tpt,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,0,durTPT*(cost.dots) + TPT.visits*(cost.prison.escort),durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦           ¦           ¦   °--did not complete TPT                                              ,1-soc.prop.staying.u3.months.uk.complete.tpt,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,0,IncompDurTPT*(durTPT*(cost.dots) + TPT.visits*(cost.prison.escort)),IncompDurTPT*(durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit)),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦           ¦           °--does not get TPT                                                      ,1-soc.prop.staying.u3.months.uk.tpt,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,1
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦           °--Early removal scheme or deportation                                               ,1-soc.prop.staying.u3.months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   °--did not Attend                                                                                ,1-soc.prop.abn.xray.nhs.attend.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦       ¦   ¦   °--Not referred to NHS TB service                                                                    ,1-soc.prop.abn.xray.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦       ¦   °--Normal chest x-ray                                                                                    ,1-soc.prop.abnormal.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦       ¦       ¦--In prison/IRC for >3 months                                                                       ,soc.prop.staying.o3.months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦       ¦       ¦   °--Refer for treatment                                                                           ,tpt.nhs.referral,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,0,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦       ¦       ¦       °--TPT outcomes                                                                              ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦       ¦       ¦           ¦--gets TPT                                                                              ,soc.prop.staying.o3.months.tpt,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦       ¦       ¦           ¦   ¦--completed TPT                                                                     ,soc.prop.staying.o3.months.complete.tpt,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,0,durTPT*(cost.dots) + TPT.visits*(cost.prison.escort),durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦       ¦       ¦           ¦   °--did not complete TPT                                                              ,1-soc.prop.staying.o3.months.complete.tpt,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,0,IncompDurTPT*(durTPT*(cost.dots) + TPT.visits*(cost.prison.escort)),IncompDurTPT*(durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit)),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦       ¦       ¦           °--does not get TPT                                                                      ,1-soc.prop.staying.o3.months.tpt,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,1
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦       ¦       °--In prison/IRC for <3 months                                                                       ,1-soc.prop.staying.o3.months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦       ¦           ¦--Remaining in the UK (community or other prison/IRC)                                           ,soc.prop.staying.u3.months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦       ¦           ¦   °--Refer for treatment and forward details to receiving prison/community TB nurse            ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦       ¦           ¦       °--TPT outcomes                                                                          ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦       ¦           ¦           ¦--gets TPT                                                                          ,soc.prop.staying.u3.months.uk.tpt,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦       ¦           ¦           ¦   ¦--completed TPT                                                                 ,soc.prop.staying.u3.months.uk.complete.tpt,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,0,durTPT*(cost.dots) + TPT.visits*(cost.prison.escort),durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦       ¦           ¦           ¦   °--did not complete TPT                                                          ,1-soc.prop.staying.u3.months.uk.complete.tpt,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,0,IncompDurTPT*(durTPT*(cost.dots) + TPT.visits*(cost.prison.escort)),IncompDurTPT*(durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit)),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦       ¦           ¦           °--does not get TPT                                                                  ,1-soc.prop.staying.u3.months.uk.tpt,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,1
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦       ¦           °--Early removal scheme or deportation                                                           ,1-soc.prop.staying.u3.months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦       °--No chest x-ray                                                                                            ,1-soc.prop.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦           ¦--Referred to NHS TB service                                                                            ,soc.prop.no.xray.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦           ¦   ¦--Attended                                                                                          ,soc.prop.no.xray.nhs.attend.referral,cost.nhs.tb.service + cost.prison.escort + cost.tb.investigations,0,0,cost.nhs.tb.service + cost.prison.escort + cost.tb.investigations,0,cost.prison.escort,cost.nhs.tb.service + cost.tb.investigations,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦           ¦   ¦   ¦--TB                                                                                            ,soc.prop.no.xray.tb.dx,pIsolation*cost.prison.cell.isolation + cost.contact.tracing,0,0,pIsolation*cost.prison.cell.isolation + cost.contact.tracing,0,pIsolation*cost.prison.cell.isolation + cost.contact.tracing,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦           ¦   ¦   ¦   °--TB outcomes                                                                               ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦           ¦   ¦   ¦       ¦--ATT                                                                                   ,soc.prop.starting.att,pAttending*(cost.nhs.tb.service + cost.prison.escort),0,0,0,pAttending*(cost.nhs.tb.service + cost.prison.escort),pAttending*(cost.prison.escort),pAttending*(cost.nhs.tb.service),0,0,0,0,0,0,0,0,0,1,0,0,0,0,0
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦           ¦   ¦   ¦       ¦   ¦--completed ATT                                                                     ,soc.prop.completing.att,(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + (1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visit + cost.prison.escort)) + (pDSTB*DurDSTB*cost.dsatt.drugs + (1-pDSTB)*DurMDRTB*cost.mdratt.drugs) + cost.dots*(pDSTB*DurDSTB + (1-pDSTB)*DurMDRTB),0,0,0,(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + (1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visit + cost.prison.escort)) + (pDSTB*DurDSTB*cost.dsatt.drugs + (1-pDSTB)*DurMDRTB*cost.mdratt.drugs) + cost.dots*(pDSTB*DurDSTB + (1-pDSTB)*DurMDRTB),(pDSTB*dstb.visits*(cost.prison.escort) + (1-pDSTB)*mdrtb.visits*(cost.prison.escort)),(pDSTB*dstb.visits*(cost.dstb.opd.visit ) + (1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visit )) + (pDSTB*DurDSTB*cost.dsatt.drugs + (1-pDSTB)*DurMDRTB*cost.mdratt.drugs) + cost.dots*(pDSTB*DurDSTB + (1-pDSTB)*DurMDRTB),0,0,0,0,0,0,0,0,0,0,0,1,0,0,1
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦           ¦   ¦   ¦       ¦   °--did not complete ATT                                                              ,1-soc.prop.completing.att,IncompDurDSTB/DurDSTB*(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + pDSTB*DurDSTB*(cost.dsatt.drugs + cost.dots))+ IncompDurMDRTB/DurMDRTB*((1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visits + cost.prison.escort)  + (1-pDSTB)*DurMDRTB*(cost.mdratt.drugs + cost.dots)),0,0,0,IncompDurDSTB/DurDSTB*(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + pDSTB*DurDSTB*(cost.dsatt.drugs + cost.dots))+ IncompDurMDRTB/DurMDRTB*((1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visits + cost.prison.escort)  + (1-pDSTB)*DurMDRTB*(cost.mdratt.drugs + cost.dots)),IncompDurDSTB/DurDSTB*pDSTB*dstb.visits*(cost.prison.escort) + IncompDurMDRTB/DurMDRTB*(1-pDSTB)*mdrtb.visits*(cost.prison.escort),IncompDurDSTB/DurDSTB*(pDSTB*dstb.visits*(cost.dstb.opd.visit) + pDSTB*DurDSTB*(cost.dsatt.drugs + cost.dots))+ IncompDurMDRTB/DurMDRTB*((1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visits)  + (1-pDSTB)*DurMDRTB*(cost.mdratt.drugs + cost.dots)),0,0,0,0,0,0,0,0,0,0,0,1,0,0,1
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦           ¦   ¦   ¦       °--no ATT                                                                                ,1-soc.prop.starting.att,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,1,1
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦           ¦   ¦   °--Not TB                                                                                        ,1-soc.prop.no.xray.tb.dx,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦           ¦   ¦       ¦--In prison/IRC for >3 months                                                               ,soc.prop.staying.o3.months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦           ¦   ¦       ¦   °--Refer for treatment                                                                   ,tpt.nhs.referral,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,0,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦           ¦   ¦       ¦       °--TPT outcomes                                                                      ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦           ¦   ¦       ¦           ¦--gets TPT                                                                      ,soc.prop.staying.o3.months.tpt,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦           ¦   ¦       ¦           ¦   ¦--completed TPT                                                             ,soc.prop.staying.o3.months.complete.tpt,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,0,durTPT*(cost.dots) + TPT.visits*(cost.prison.escort),durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦           ¦   ¦       ¦           ¦   °--did not complete TPT                                                      ,1-soc.prop.staying.o3.months.complete.tpt,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,0,IncompDurTPT*(durTPT*(cost.dots) + TPT.visits*(cost.prison.escort)),IncompDurTPT*(durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit)),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦           ¦   ¦       ¦           °--does not get TPT                                                              ,1-soc.prop.staying.o3.months.tpt,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,1
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦           ¦   ¦       °--In prison/IRC for <3 months                                                               ,1-soc.prop.staying.o3.months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦           ¦   ¦           ¦--Remaining in the UK (community or other prison/IRC)                                   ,soc.prop.staying.u3.months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦           ¦   ¦           ¦   °--Refer for treatment and forward details to receiving prison/community TB nurse    ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦           ¦   ¦           ¦       °--TPT outcomes                                                                  ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦           ¦   ¦           ¦           ¦--gets TPT                                                                  ,soc.prop.staying.u3.months.uk.tpt,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦           ¦   ¦           ¦           ¦   ¦--completed TPT                                                         ,soc.prop.staying.u3.months.uk.complete.tpt,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,0,durTPT*(cost.dots) + TPT.visits*(cost.prison.escort),durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦           ¦   ¦           ¦           ¦   °--did not complete TPT                                                  ,1-soc.prop.staying.u3.months.uk.complete.tpt,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,0,IncompDurTPT*(durTPT*(cost.dots) + TPT.visits*(cost.prison.escort)),IncompDurTPT*(durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit)),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦           ¦   ¦           ¦           °--does not get TPT                                                          ,1-soc.prop.staying.u3.months.uk.tpt,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,1
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦           ¦   ¦           °--Early removal scheme or deportation                                                   ,1-soc.prop.staying.u3.months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦           ¦   °--did not Attend                                                                                    ,1-soc.prop.no.xray.nhs.attend.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦           °--Not referred to NHS TB service                                                                        ,1-soc.prop.no.xray.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   °--IGRA test -                                                                                                       ,1-soc.prop.igra.test.positive,0,0,0,0,0,0,0,0,0,0,1,0,0,1,0,0,0,0,0,0,0,1
     ¦   ¦   ¦               ¦   ¦       ¦           °--no IGRA test                                                                                                          ,1-soc.prop.igra.tested,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦               ¦   ¦       °--did not Attend                                                                                                                    ,1-soc.prop.abn.xray.nhs.attend.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦               ¦   °--Normal chest x-ray                                                                                                                        ,1-soc.prop.abnormal.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦       °--LTBI pathway                                                                                                                          ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦           ¦--IGRA test                                                                                                                         ,soc.prop.igra.tested,cost.igra.test,0,cost.igra.test,0,0,0,cost.igra.test,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦           ¦   ¦--IGRA test +                                                                                                                   ,soc.prop.igra.test.positive,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦           ¦   ¦   ¦--Previous chest x-ray                                                                                                      ,soc.prop.prev.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦           ¦   ¦   ¦   ¦--Abornomal chest x-ray                                                                                                 ,soc.prop.abnormal.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦           ¦   ¦   ¦   ¦   ¦--Referred to NHS TB service                                                                                        ,soc.prop.abn.xray.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦           ¦   ¦   ¦   ¦   ¦   ¦--Attended                                                                                                      ,soc.prop.abn.xray.nhs.attend.referral,cost.nhs.tb.service + cost.prison.escort + cost.tb.investigations,0,0,cost.nhs.tb.service + cost.prison.escort + cost.tb.investigations,0,cost.prison.escort,cost.nhs.tb.service + cost.tb.investigations,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦           ¦   ¦   ¦   ¦   ¦   ¦   ¦--TB                                                                                                        ,soc.prop.abn.xray.tb.dx,pIsolation*cost.prison.cell.isolation + cost.contact.tracing,0,0,pIsolation*cost.prison.cell.isolation + cost.contact.tracing,0,pIsolation*cost.prison.cell.isolation + cost.contact.tracing,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
     ¦   ¦   ¦               ¦           ¦   ¦   ¦   ¦   ¦   ¦   ¦   °--TB outcomes                                                                                           ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦           ¦   ¦   ¦   ¦   ¦   ¦   ¦       ¦--ATT                                                                                               ,soc.prop.starting.att,pAttending*(cost.nhs.tb.service + cost.prison.escort),0,0,0,pAttending*(cost.nhs.tb.service + cost.prison.escort),pAttending*(cost.prison.escort),pAttending*(cost.nhs.tb.service),0,0,0,0,0,0,0,0,0,1,0,0,0,0,0
     ¦   ¦   ¦               ¦           ¦   ¦   ¦   ¦   ¦   ¦   ¦       ¦   ¦--completed ATT                                                                                 ,soc.prop.completing.att,(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + (1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visit + cost.prison.escort)) + (pDSTB*DurDSTB*cost.dsatt.drugs + (1-pDSTB)*DurMDRTB*cost.mdratt.drugs) + cost.dots*(pDSTB*DurDSTB + (1-pDSTB)*DurMDRTB),0,0,0,(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + (1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visit + cost.prison.escort)) + (pDSTB*DurDSTB*cost.dsatt.drugs + (1-pDSTB)*DurMDRTB*cost.mdratt.drugs) + cost.dots*(pDSTB*DurDSTB + (1-pDSTB)*DurMDRTB),(pDSTB*dstb.visits*(cost.prison.escort) + (1-pDSTB)*mdrtb.visits*(cost.prison.escort)),(pDSTB*dstb.visits*(cost.dstb.opd.visit ) + (1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visit )) + (pDSTB*DurDSTB*cost.dsatt.drugs + (1-pDSTB)*DurMDRTB*cost.mdratt.drugs) + cost.dots*(pDSTB*DurDSTB + (1-pDSTB)*DurMDRTB),0,0,0,0,0,0,0,0,0,0,0,1,0,0,1
     ¦   ¦   ¦               ¦           ¦   ¦   ¦   ¦   ¦   ¦   ¦       ¦   °--did not complete ATT                                                                          ,1-soc.prop.completing.att,IncompDurDSTB/DurDSTB*(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + pDSTB*DurDSTB*(cost.dsatt.drugs + cost.dots))+ IncompDurMDRTB/DurMDRTB*((1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visits + cost.prison.escort)  + (1-pDSTB)*DurMDRTB*(cost.mdratt.drugs + cost.dots)),0,0,0,IncompDurDSTB/DurDSTB*(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + pDSTB*DurDSTB*(cost.dsatt.drugs + cost.dots))+ IncompDurMDRTB/DurMDRTB*((1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visits + cost.prison.escort)  + (1-pDSTB)*DurMDRTB*(cost.mdratt.drugs + cost.dots)),IncompDurDSTB/DurDSTB*pDSTB*dstb.visits*(cost.prison.escort) + IncompDurMDRTB/DurMDRTB*(1-pDSTB)*mdrtb.visits*(cost.prison.escort),IncompDurDSTB/DurDSTB*(pDSTB*dstb.visits*(cost.dstb.opd.visit) + pDSTB*DurDSTB*(cost.dsatt.drugs + cost.dots))+ IncompDurMDRTB/DurMDRTB*((1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visits)  + (1-pDSTB)*DurMDRTB*(cost.mdratt.drugs + cost.dots)),0,0,0,0,0,0,0,0,0,0,0,1,0,0,1
     ¦   ¦   ¦               ¦           ¦   ¦   ¦   ¦   ¦   ¦   ¦       °--no ATT                                                                                            ,1-soc.prop.starting.att,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,1,1
     ¦   ¦   ¦               ¦           ¦   ¦   ¦   ¦   ¦   ¦   °--Not TB                                                                                                    ,1-soc.prop.abn.xray.tb.dx,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦           ¦   ¦   ¦   ¦   ¦   ¦       ¦--In prison/IRC for >3 months                                                                           ,soc.prop.staying.o3.months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦           ¦   ¦   ¦   ¦   ¦   ¦       ¦   °--Refer for treatment                                                                               ,tpt.nhs.referral,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,0,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦           ¦   ¦   ¦   ¦   ¦   ¦       ¦       °--TPT outcomes                                                                                  ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦           ¦   ¦   ¦   ¦   ¦   ¦       ¦           ¦--gets TPT                                                                                  ,soc.prop.staying.o3.months.tpt,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦           ¦   ¦   ¦   ¦   ¦   ¦       ¦           ¦   ¦--completed TPT                                                                         ,soc.prop.staying.o3.months.complete.tpt,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,0,durTPT*(cost.dots) + TPT.visits*(cost.prison.escort),durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦   ¦   ¦               ¦           ¦   ¦   ¦   ¦   ¦   ¦       ¦           ¦   °--did not complete TPT                                                                  ,1-soc.prop.staying.o3.months.complete.tpt,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,0,IncompDurTPT*(durTPT*(cost.dots) + TPT.visits*(cost.prison.escort)),IncompDurTPT*(durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit)),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦   ¦   ¦               ¦           ¦   ¦   ¦   ¦   ¦   ¦       ¦           °--does not get TPT                                                                          ,1-soc.prop.staying.o3.months.tpt,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,1
     ¦   ¦   ¦               ¦           ¦   ¦   ¦   ¦   ¦   ¦       °--In prison/IRC for <3 months                                                                           ,1-soc.prop.staying.o3.months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦           ¦   ¦   ¦   ¦   ¦   ¦           ¦--Remaining in the UK (community or other prison/IRC)                                               ,soc.prop.staying.u3.months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦           ¦   ¦   ¦   ¦   ¦   ¦           ¦   °--Refer for treatment and forward details to receiving prison/community TB nurse                ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦           ¦   ¦   ¦   ¦   ¦   ¦           ¦       °--TPT outcomes                                                                              ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦           ¦   ¦   ¦   ¦   ¦   ¦           ¦           ¦--gets TPT                                                                              ,soc.prop.staying.u3.months.uk.tpt,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦           ¦   ¦   ¦   ¦   ¦   ¦           ¦           ¦   ¦--completed TPT                                                                     ,soc.prop.staying.u3.months.uk.complete.tpt,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,0,durTPT*(cost.dots) + TPT.visits*(cost.prison.escort),durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦   ¦   ¦               ¦           ¦   ¦   ¦   ¦   ¦   ¦           ¦           ¦   °--did not complete TPT                                                              ,1-soc.prop.staying.u3.months.uk.complete.tpt,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,0,IncompDurTPT*(durTPT*(cost.dots) + TPT.visits*(cost.prison.escort)),IncompDurTPT*(durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit)),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦   ¦   ¦               ¦           ¦   ¦   ¦   ¦   ¦   ¦           ¦           °--does not get TPT                                                                      ,1-soc.prop.staying.u3.months.uk.tpt,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,1
     ¦   ¦   ¦               ¦           ¦   ¦   ¦   ¦   ¦   ¦           °--Early removal scheme or deportation                                                               ,1-soc.prop.staying.u3.months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦               ¦           ¦   ¦   ¦   ¦   ¦   °--did not Attend                                                                                                ,1-soc.prop.abn.xray.nhs.attend.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦               ¦           ¦   ¦   ¦   ¦   °--Not referred to NHS TB service                                                                                    ,1-soc.prop.abn.xray.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦               ¦           ¦   ¦   ¦   °--Normal chest x-ray                                                                                                    ,1-soc.prop.abnormal.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦           ¦   ¦   ¦       ¦--In prison/IRC for >3 months                                                                                       ,soc.prop.staying.o3.months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦           ¦   ¦   ¦       ¦   °--Refer for treatment                                                                                           ,tpt.nhs.referral,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,0,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦           ¦   ¦   ¦       ¦       °--TPT outcomes                                                                                              ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦           ¦   ¦   ¦       ¦           ¦--gets TPT                                                                                              ,soc.prop.staying.o3.months.tpt,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦           ¦   ¦   ¦       ¦           ¦   ¦--completed TPT                                                                                     ,soc.prop.staying.o3.months.complete.tpt,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,0,durTPT*(cost.dots) + TPT.visits*(cost.prison.escort),durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦   ¦   ¦               ¦           ¦   ¦   ¦       ¦           ¦   °--did not complete TPT                                                                              ,1-soc.prop.staying.o3.months.complete.tpt,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,0,IncompDurTPT*(durTPT*(cost.dots) + TPT.visits*(cost.prison.escort)),IncompDurTPT*(durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit)),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦   ¦   ¦               ¦           ¦   ¦   ¦       ¦           °--does not get TPT                                                                                      ,1-soc.prop.staying.o3.months.tpt,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,1
     ¦   ¦   ¦               ¦           ¦   ¦   ¦       °--In prison/IRC for <3 months                                                                                       ,1-soc.prop.staying.o3.months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦           ¦   ¦   ¦           ¦--Remaining in the UK (community or other prison/IRC)                                                           ,soc.prop.staying.u3.months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦           ¦   ¦   ¦           ¦   °--Refer for treatment and forward details to receiving prison/community TB nurse                            ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦           ¦   ¦   ¦           ¦       °--TPT outcomes                                                                                          ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦           ¦   ¦   ¦           ¦           ¦--gets TPT                                                                                          ,soc.prop.staying.u3.months.uk.tpt,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦           ¦   ¦   ¦           ¦           ¦   ¦--completed TPT                                                                                 ,soc.prop.staying.u3.months.uk.complete.tpt,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,0,durTPT*(cost.dots) + TPT.visits*(cost.prison.escort),durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦   ¦   ¦               ¦           ¦   ¦   ¦           ¦           ¦   °--did not complete TPT                                                                          ,1-soc.prop.staying.u3.months.uk.complete.tpt,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,0,IncompDurTPT*(durTPT*(cost.dots) + TPT.visits*(cost.prison.escort)),IncompDurTPT*(durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit)),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦   ¦   ¦               ¦           ¦   ¦   ¦           ¦           °--does not get TPT                                                                                  ,1-soc.prop.staying.u3.months.uk.tpt,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,1
     ¦   ¦   ¦               ¦           ¦   ¦   ¦           °--Early removal scheme or deportation                                                                           ,1-soc.prop.staying.u3.months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦               ¦           ¦   ¦   °--No previous chest x-ray                                                                                                   ,1-soc.prop.prev.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦           ¦   ¦       ¦--Chest x-ray                                                                                                           ,soc.prop.xray,cost.chest.xray,0,0,cost.chest.xray,0,0,cost.chest.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦           ¦   ¦       ¦   ¦--Abornomal chest x-ray                                                                                             ,soc.prop.abnormal.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦           ¦   ¦       ¦   ¦   ¦--Referred to NHS TB service                                                                                    ,soc.prop.abn.xray.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦           ¦   ¦       ¦   ¦   ¦   ¦--Attended                                                                                                  ,soc.prop.abn.xray.nhs.attend.referral,cost.nhs.tb.service + cost.prison.escort + cost.tb.investigations,0,0,cost.nhs.tb.service + cost.prison.escort + cost.tb.investigations,0,cost.prison.escort,cost.nhs.tb.service + cost.tb.investigations,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦           ¦   ¦       ¦   ¦   ¦   ¦   ¦--TB                                                                                                    ,soc.prop.abn.xray.tb.dx,pIsolation*cost.prison.cell.isolation + cost.contact.tracing,0,0,pIsolation*cost.prison.cell.isolation + cost.contact.tracing,0,pIsolation*cost.prison.cell.isolation + cost.contact.tracing,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
     ¦   ¦   ¦               ¦           ¦   ¦       ¦   ¦   ¦   ¦   ¦   °--TB outcomes                                                                                       ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦           ¦   ¦       ¦   ¦   ¦   ¦   ¦       ¦--ATT                                                                                           ,soc.prop.starting.att,pAttending*(cost.nhs.tb.service + cost.prison.escort),0,0,0,pAttending*(cost.nhs.tb.service + cost.prison.escort),pAttending*(cost.prison.escort),pAttending*(cost.nhs.tb.service),0,0,0,0,0,0,0,0,0,1,0,0,0,0,0
     ¦   ¦   ¦               ¦           ¦   ¦       ¦   ¦   ¦   ¦   ¦       ¦   ¦--completed ATT                                                                             ,soc.prop.completing.att,(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + (1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visit + cost.prison.escort)) + (pDSTB*DurDSTB*cost.dsatt.drugs + (1-pDSTB)*DurMDRTB*cost.mdratt.drugs) + cost.dots*(pDSTB*DurDSTB + (1-pDSTB)*DurMDRTB),0,0,0,(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + (1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visit + cost.prison.escort)) + (pDSTB*DurDSTB*cost.dsatt.drugs + (1-pDSTB)*DurMDRTB*cost.mdratt.drugs) + cost.dots*(pDSTB*DurDSTB + (1-pDSTB)*DurMDRTB),(pDSTB*dstb.visits*(cost.prison.escort) + (1-pDSTB)*mdrtb.visits*(cost.prison.escort)),(pDSTB*dstb.visits*(cost.dstb.opd.visit ) + (1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visit )) + (pDSTB*DurDSTB*cost.dsatt.drugs + (1-pDSTB)*DurMDRTB*cost.mdratt.drugs) + cost.dots*(pDSTB*DurDSTB + (1-pDSTB)*DurMDRTB),0,0,0,0,0,0,0,0,0,0,0,1,0,0,1
     ¦   ¦   ¦               ¦           ¦   ¦       ¦   ¦   ¦   ¦   ¦       ¦   °--did not complete ATT                                                                      ,1-soc.prop.completing.att,IncompDurDSTB/DurDSTB*(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + pDSTB*DurDSTB*(cost.dsatt.drugs + cost.dots))+ IncompDurMDRTB/DurMDRTB*((1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visits + cost.prison.escort)  + (1-pDSTB)*DurMDRTB*(cost.mdratt.drugs + cost.dots)),0,0,0,IncompDurDSTB/DurDSTB*(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + pDSTB*DurDSTB*(cost.dsatt.drugs + cost.dots))+ IncompDurMDRTB/DurMDRTB*((1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visits + cost.prison.escort)  + (1-pDSTB)*DurMDRTB*(cost.mdratt.drugs + cost.dots)),IncompDurDSTB/DurDSTB*pDSTB*dstb.visits*(cost.prison.escort) + IncompDurMDRTB/DurMDRTB*(1-pDSTB)*mdrtb.visits*(cost.prison.escort),IncompDurDSTB/DurDSTB*(pDSTB*dstb.visits*(cost.dstb.opd.visit) + pDSTB*DurDSTB*(cost.dsatt.drugs + cost.dots))+ IncompDurMDRTB/DurMDRTB*((1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visits)  + (1-pDSTB)*DurMDRTB*(cost.mdratt.drugs + cost.dots)),0,0,0,0,0,0,0,0,0,0,0,1,0,0,1
     ¦   ¦   ¦               ¦           ¦   ¦       ¦   ¦   ¦   ¦   ¦       °--no ATT                                                                                        ,1-soc.prop.starting.att,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,1,1
     ¦   ¦   ¦               ¦           ¦   ¦       ¦   ¦   ¦   ¦   °--Not TB                                                                                                ,1-soc.prop.abn.xray.tb.dx,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦           ¦   ¦       ¦   ¦   ¦   ¦       ¦--In prison/IRC for >3 months                                                                       ,soc.prop.staying.o3.months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦           ¦   ¦       ¦   ¦   ¦   ¦       ¦   °--Refer for treatment                                                                           ,tpt.nhs.referral,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,0,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦           ¦   ¦       ¦   ¦   ¦   ¦       ¦       °--TPT outcomes                                                                              ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦           ¦   ¦       ¦   ¦   ¦   ¦       ¦           ¦--gets TPT                                                                              ,soc.prop.staying.o3.months.tpt,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦           ¦   ¦       ¦   ¦   ¦   ¦       ¦           ¦   ¦--completed TPT                                                                     ,soc.prop.staying.o3.months.complete.tpt,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,0,durTPT*(cost.dots) + TPT.visits*(cost.prison.escort),durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦   ¦   ¦               ¦           ¦   ¦       ¦   ¦   ¦   ¦       ¦           ¦   °--did not complete TPT                                                              ,1-soc.prop.staying.o3.months.complete.tpt,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,0,IncompDurTPT*(durTPT*(cost.dots) + TPT.visits*(cost.prison.escort)),IncompDurTPT*(durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit)),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦   ¦   ¦               ¦           ¦   ¦       ¦   ¦   ¦   ¦       ¦           °--does not get TPT                                                                      ,1-soc.prop.staying.o3.months.tpt,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,1
     ¦   ¦   ¦               ¦           ¦   ¦       ¦   ¦   ¦   ¦       °--In prison/IRC for <3 months                                                                       ,1-soc.prop.staying.o3.months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦           ¦   ¦       ¦   ¦   ¦   ¦           ¦--Remaining in the UK (community or other prison/IRC)                                           ,soc.prop.staying.u3.months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦           ¦   ¦       ¦   ¦   ¦   ¦           ¦   °--Refer for treatment and forward details to receiving prison/community TB nurse            ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦           ¦   ¦       ¦   ¦   ¦   ¦           ¦       °--TPT outcomes                                                                          ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦           ¦   ¦       ¦   ¦   ¦   ¦           ¦           ¦--gets TPT                                                                          ,soc.prop.staying.u3.months.uk.tpt,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦           ¦   ¦       ¦   ¦   ¦   ¦           ¦           ¦   ¦--completed TPT                                                                 ,soc.prop.staying.u3.months.uk.complete.tpt,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,0,durTPT*(cost.dots) + TPT.visits*(cost.prison.escort),durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦   ¦   ¦               ¦           ¦   ¦       ¦   ¦   ¦   ¦           ¦           ¦   °--did not complete TPT                                                          ,1-soc.prop.staying.u3.months.uk.complete.tpt,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,0,IncompDurTPT*(durTPT*(cost.dots) + TPT.visits*(cost.prison.escort)),IncompDurTPT*(durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit)),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦   ¦   ¦               ¦           ¦   ¦       ¦   ¦   ¦   ¦           ¦           °--does not get TPT                                                                  ,1-soc.prop.staying.u3.months.uk.tpt,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,1
     ¦   ¦   ¦               ¦           ¦   ¦       ¦   ¦   ¦   ¦           °--Early removal scheme or deportation                                                           ,1-soc.prop.staying.u3.months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦               ¦           ¦   ¦       ¦   ¦   ¦   °--did not Attend                                                                                            ,1-soc.prop.abn.xray.nhs.attend.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦               ¦           ¦   ¦       ¦   ¦   °--Not referred to NHS TB service                                                                                ,1-soc.prop.abn.xray.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦               ¦           ¦   ¦       ¦   °--Normal chest x-ray                                                                                                ,1-soc.prop.abnormal.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦           ¦   ¦       ¦       ¦--In prison/IRC for >3 months                                                                                   ,soc.prop.staying.o3.months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦           ¦   ¦       ¦       ¦   °--Refer for treatment                                                                                       ,tpt.nhs.referral,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,0,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦           ¦   ¦       ¦       ¦       °--TPT outcomes                                                                                          ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦           ¦   ¦       ¦       ¦           ¦--gets TPT                                                                                          ,soc.prop.staying.o3.months.tpt,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦           ¦   ¦       ¦       ¦           ¦   ¦--completed TPT                                                                                 ,soc.prop.staying.o3.months.complete.tpt,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,0,durTPT*(cost.dots) + TPT.visits*(cost.prison.escort),durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦   ¦   ¦               ¦           ¦   ¦       ¦       ¦           ¦   °--did not complete TPT                                                                          ,1-soc.prop.staying.o3.months.complete.tpt,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,0,IncompDurTPT*(durTPT*(cost.dots) + TPT.visits*(cost.prison.escort)),IncompDurTPT*(durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit)),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦   ¦   ¦               ¦           ¦   ¦       ¦       ¦           °--does not get TPT                                                                                  ,1-soc.prop.staying.o3.months.tpt,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,1
     ¦   ¦   ¦               ¦           ¦   ¦       ¦       °--In prison/IRC for <3 months                                                                                   ,1-soc.prop.staying.o3.months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦           ¦   ¦       ¦           ¦--Remaining in the UK (community or other prison/IRC)                                                       ,soc.prop.staying.u3.months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦           ¦   ¦       ¦           ¦   °--Refer for treatment and forward details to receiving prison/community TB nurse                        ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦           ¦   ¦       ¦           ¦       °--TPT outcomes                                                                                      ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦           ¦   ¦       ¦           ¦           ¦--gets TPT                                                                                      ,soc.prop.staying.u3.months.uk.tpt,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦           ¦   ¦       ¦           ¦           ¦   ¦--completed TPT                                                                             ,soc.prop.staying.u3.months.uk.complete.tpt,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,0,durTPT*(cost.dots) + TPT.visits*(cost.prison.escort),durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦   ¦   ¦               ¦           ¦   ¦       ¦           ¦           ¦   °--did not complete TPT                                                                      ,1-soc.prop.staying.u3.months.uk.complete.tpt,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,0,IncompDurTPT*(durTPT*(cost.dots) + TPT.visits*(cost.prison.escort)),IncompDurTPT*(durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit)),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦   ¦   ¦               ¦           ¦   ¦       ¦           ¦           °--does not get TPT                                                                              ,1-soc.prop.staying.u3.months.uk.tpt,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,1
     ¦   ¦   ¦               ¦           ¦   ¦       ¦           °--Early removal scheme or deportation                                                                       ,1-soc.prop.staying.u3.months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦               ¦           ¦   ¦       °--No chest x-ray                                                                                                        ,1-soc.prop.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦           ¦   ¦           ¦--Referred to NHS TB service                                                                                        ,soc.prop.no.xray.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦           ¦   ¦           ¦   ¦--Attended                                                                                                      ,soc.prop.no.xray.nhs.attend.referral,cost.nhs.tb.service + cost.prison.escort + cost.tb.investigations,0,0,cost.nhs.tb.service + cost.prison.escort + cost.tb.investigations,0,cost.prison.escort,cost.nhs.tb.service + cost.tb.investigations,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦           ¦   ¦           ¦   ¦   ¦--TB                                                                                                        ,soc.prop.no.xray.tb.dx,pIsolation*cost.prison.cell.isolation + cost.contact.tracing,0,0,pIsolation*cost.prison.cell.isolation + cost.contact.tracing,0,pIsolation*cost.prison.cell.isolation + cost.contact.tracing,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
     ¦   ¦   ¦               ¦           ¦   ¦           ¦   ¦   ¦   °--TB outcomes                                                                                           ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦           ¦   ¦           ¦   ¦   ¦       ¦--ATT                                                                                               ,soc.prop.starting.att,pAttending*(cost.nhs.tb.service + cost.prison.escort),0,0,0,pAttending*(cost.nhs.tb.service + cost.prison.escort),pAttending*(cost.prison.escort),pAttending*(cost.nhs.tb.service),0,0,0,0,0,0,0,0,0,1,0,0,0,0,0
     ¦   ¦   ¦               ¦           ¦   ¦           ¦   ¦   ¦       ¦   ¦--completed ATT                                                                                 ,soc.prop.completing.att,(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + (1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visit + cost.prison.escort)) + (pDSTB*DurDSTB*cost.dsatt.drugs + (1-pDSTB)*DurMDRTB*cost.mdratt.drugs) + cost.dots*(pDSTB*DurDSTB + (1-pDSTB)*DurMDRTB),0,0,0,(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + (1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visit + cost.prison.escort)) + (pDSTB*DurDSTB*cost.dsatt.drugs + (1-pDSTB)*DurMDRTB*cost.mdratt.drugs) + cost.dots*(pDSTB*DurDSTB + (1-pDSTB)*DurMDRTB),(pDSTB*dstb.visits*(cost.prison.escort) + (1-pDSTB)*mdrtb.visits*(cost.prison.escort)),(pDSTB*dstb.visits*(cost.dstb.opd.visit ) + (1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visit )) + (pDSTB*DurDSTB*cost.dsatt.drugs + (1-pDSTB)*DurMDRTB*cost.mdratt.drugs) + cost.dots*(pDSTB*DurDSTB + (1-pDSTB)*DurMDRTB),0,0,0,0,0,0,0,0,0,0,0,1,0,0,1
     ¦   ¦   ¦               ¦           ¦   ¦           ¦   ¦   ¦       ¦   °--did not complete ATT                                                                          ,1-soc.prop.completing.att,IncompDurDSTB/DurDSTB*(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + pDSTB*DurDSTB*(cost.dsatt.drugs + cost.dots))+ IncompDurMDRTB/DurMDRTB*((1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visits + cost.prison.escort)  + (1-pDSTB)*DurMDRTB*(cost.mdratt.drugs + cost.dots)),0,0,0,IncompDurDSTB/DurDSTB*(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + pDSTB*DurDSTB*(cost.dsatt.drugs + cost.dots))+ IncompDurMDRTB/DurMDRTB*((1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visits + cost.prison.escort)  + (1-pDSTB)*DurMDRTB*(cost.mdratt.drugs + cost.dots)),IncompDurDSTB/DurDSTB*pDSTB*dstb.visits*(cost.prison.escort) + IncompDurMDRTB/DurMDRTB*(1-pDSTB)*mdrtb.visits*(cost.prison.escort),IncompDurDSTB/DurDSTB*(pDSTB*dstb.visits*(cost.dstb.opd.visit) + pDSTB*DurDSTB*(cost.dsatt.drugs + cost.dots))+ IncompDurMDRTB/DurMDRTB*((1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visits)  + (1-pDSTB)*DurMDRTB*(cost.mdratt.drugs + cost.dots)),0,0,0,0,0,0,0,0,0,0,0,1,0,0,1
     ¦   ¦   ¦               ¦           ¦   ¦           ¦   ¦   ¦       °--no ATT                                                                                            ,1-soc.prop.starting.att,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,1,1
     ¦   ¦   ¦               ¦           ¦   ¦           ¦   ¦   °--Not TB                                                                                                    ,1-soc.prop.no.xray.tb.dx,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦           ¦   ¦           ¦   ¦       ¦--In prison/IRC for >3 months                                                                           ,soc.prop.staying.o3.months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦           ¦   ¦           ¦   ¦       ¦   °--Refer for treatment                                                                               ,tpt.nhs.referral,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,0,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦           ¦   ¦           ¦   ¦       ¦       °--TPT outcomes                                                                                  ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦           ¦   ¦           ¦   ¦       ¦           ¦--gets TPT                                                                                  ,soc.prop.staying.o3.months.tpt,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦           ¦   ¦           ¦   ¦       ¦           ¦   ¦--completed TPT                                                                         ,soc.prop.staying.o3.months.complete.tpt,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,0,durTPT*(cost.dots) + TPT.visits*(cost.prison.escort),durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦   ¦   ¦               ¦           ¦   ¦           ¦   ¦       ¦           ¦   °--did not complete TPT                                                                  ,1-soc.prop.staying.o3.months.complete.tpt,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,0,IncompDurTPT*(durTPT*(cost.dots) + TPT.visits*(cost.prison.escort)),IncompDurTPT*(durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit)),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦   ¦   ¦               ¦           ¦   ¦           ¦   ¦       ¦           °--does not get TPT                                                                          ,1-soc.prop.staying.o3.months.tpt,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,1
     ¦   ¦   ¦               ¦           ¦   ¦           ¦   ¦       °--In prison/IRC for <3 months                                                                           ,1-soc.prop.staying.o3.months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦           ¦   ¦           ¦   ¦           ¦--Remaining in the UK (community or other prison/IRC)                                               ,soc.prop.staying.u3.months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦           ¦   ¦           ¦   ¦           ¦   °--Refer for treatment and forward details to receiving prison/community TB nurse                ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦           ¦   ¦           ¦   ¦           ¦       °--TPT outcomes                                                                              ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦           ¦   ¦           ¦   ¦           ¦           ¦--gets TPT                                                                              ,soc.prop.staying.u3.months.uk.tpt,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦           ¦   ¦           ¦   ¦           ¦           ¦   ¦--completed TPT                                                                     ,soc.prop.staying.u3.months.uk.complete.tpt,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,0,durTPT*(cost.dots) + TPT.visits*(cost.prison.escort),durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦   ¦   ¦               ¦           ¦   ¦           ¦   ¦           ¦           ¦   °--did not complete TPT                                                              ,1-soc.prop.staying.u3.months.uk.complete.tpt,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,0,IncompDurTPT*(durTPT*(cost.dots) + TPT.visits*(cost.prison.escort)),IncompDurTPT*(durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit)),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦   ¦   ¦               ¦           ¦   ¦           ¦   ¦           ¦           °--does not get TPT                                                                      ,1-soc.prop.staying.u3.months.uk.tpt,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,1
     ¦   ¦   ¦               ¦           ¦   ¦           ¦   ¦           °--Early removal scheme or deportation                                                               ,1-soc.prop.staying.u3.months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦               ¦           ¦   ¦           ¦   °--did not Attend                                                                                                ,1-soc.prop.no.xray.nhs.attend.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦               ¦           ¦   ¦           °--Not referred to NHS TB service                                                                                    ,1-soc.prop.no.xray.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦               ¦           ¦   °--IGRA test -                                                                                                                   ,1-soc.prop.igra.test.positive,0,0,0,0,0,0,0,0,0,0,1,0,0,1,0,0,0,0,0,0,0,1
     ¦   ¦   ¦               ¦           °--no IGRA test                                                                                                                      ,1-soc.prop.igra.tested,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦               °--No chest x-ray                                                                                                                                ,1-soc.prop.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦                   °--LTBI pathway                                                                                                                              ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦                       ¦--IGRA test                                                                                                                             ,soc.prop.igra.tested,cost.igra.test,0,cost.igra.test,0,0,0,cost.igra.test,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦                       ¦   ¦--IGRA test +                                                                                                                       ,soc.prop.igra.test.positive,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦                       ¦   ¦   ¦--Previous chest x-ray                                                                                                          ,soc.prop.prev.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦                       ¦   ¦   ¦   ¦--Abornomal chest x-ray                                                                                                     ,soc.prop.abnormal.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦                       ¦   ¦   ¦   ¦   ¦--Referred to NHS TB service                                                                                            ,soc.prop.abn.xray.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦                       ¦   ¦   ¦   ¦   ¦   ¦--Attended                                                                                                          ,soc.prop.abn.xray.nhs.attend.referral,cost.nhs.tb.service + cost.prison.escort + cost.tb.investigations,0,0,cost.nhs.tb.service + cost.prison.escort + cost.tb.investigations,0,cost.prison.escort,cost.nhs.tb.service + cost.tb.investigations,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦                       ¦   ¦   ¦   ¦   ¦   ¦   ¦--TB                                                                                                            ,soc.prop.abn.xray.tb.dx,pIsolation*cost.prison.cell.isolation + cost.contact.tracing,0,0,pIsolation*cost.prison.cell.isolation + cost.contact.tracing,0,pIsolation*cost.prison.cell.isolation + cost.contact.tracing,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
     ¦   ¦   ¦                       ¦   ¦   ¦   ¦   ¦   ¦   ¦   °--TB outcomes                                                                                               ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦                       ¦   ¦   ¦   ¦   ¦   ¦   ¦       ¦--ATT                                                                                                   ,soc.prop.starting.att,pAttending*(cost.nhs.tb.service + cost.prison.escort),0,0,0,pAttending*(cost.nhs.tb.service + cost.prison.escort),pAttending*(cost.prison.escort),pAttending*(cost.nhs.tb.service),0,0,0,0,0,0,0,0,0,1,0,0,0,0,0
     ¦   ¦   ¦                       ¦   ¦   ¦   ¦   ¦   ¦   ¦       ¦   ¦--completed ATT                                                                                     ,soc.prop.completing.att,(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + (1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visit + cost.prison.escort)) + (pDSTB*DurDSTB*cost.dsatt.drugs + (1-pDSTB)*DurMDRTB*cost.mdratt.drugs) + cost.dots*(pDSTB*DurDSTB + (1-pDSTB)*DurMDRTB),0,0,0,(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + (1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visit + cost.prison.escort)) + (pDSTB*DurDSTB*cost.dsatt.drugs + (1-pDSTB)*DurMDRTB*cost.mdratt.drugs) + cost.dots*(pDSTB*DurDSTB + (1-pDSTB)*DurMDRTB),(pDSTB*dstb.visits*(cost.prison.escort) + (1-pDSTB)*mdrtb.visits*(cost.prison.escort)),(pDSTB*dstb.visits*(cost.dstb.opd.visit ) + (1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visit )) + (pDSTB*DurDSTB*cost.dsatt.drugs + (1-pDSTB)*DurMDRTB*cost.mdratt.drugs) + cost.dots*(pDSTB*DurDSTB + (1-pDSTB)*DurMDRTB),0,0,0,0,0,0,0,0,0,0,0,1,0,0,1
     ¦   ¦   ¦                       ¦   ¦   ¦   ¦   ¦   ¦   ¦       ¦   °--did not complete ATT                                                                              ,1-soc.prop.completing.att,IncompDurDSTB/DurDSTB*(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + pDSTB*DurDSTB*(cost.dsatt.drugs + cost.dots))+ IncompDurMDRTB/DurMDRTB*((1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visits + cost.prison.escort)  + (1-pDSTB)*DurMDRTB*(cost.mdratt.drugs + cost.dots)),0,0,0,IncompDurDSTB/DurDSTB*(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + pDSTB*DurDSTB*(cost.dsatt.drugs + cost.dots))+ IncompDurMDRTB/DurMDRTB*((1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visits + cost.prison.escort)  + (1-pDSTB)*DurMDRTB*(cost.mdratt.drugs + cost.dots)),IncompDurDSTB/DurDSTB*pDSTB*dstb.visits*(cost.prison.escort) + IncompDurMDRTB/DurMDRTB*(1-pDSTB)*mdrtb.visits*(cost.prison.escort),IncompDurDSTB/DurDSTB*(pDSTB*dstb.visits*(cost.dstb.opd.visit) + pDSTB*DurDSTB*(cost.dsatt.drugs + cost.dots))+ IncompDurMDRTB/DurMDRTB*((1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visits)  + (1-pDSTB)*DurMDRTB*(cost.mdratt.drugs + cost.dots)),0,0,0,0,0,0,0,0,0,0,0,1,0,0,1
     ¦   ¦   ¦                       ¦   ¦   ¦   ¦   ¦   ¦   ¦       °--no ATT                                                                                                ,1-soc.prop.starting.att,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,1,1
     ¦   ¦   ¦                       ¦   ¦   ¦   ¦   ¦   ¦   °--Not TB                                                                                                        ,1-soc.prop.abn.xray.tb.dx,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦                       ¦   ¦   ¦   ¦   ¦   ¦       ¦--In prison/IRC for >3 months                                                                               ,soc.prop.staying.o3.months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦                       ¦   ¦   ¦   ¦   ¦   ¦       ¦   °--Refer for treatment                                                                                   ,tpt.nhs.referral,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,0,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦                       ¦   ¦   ¦   ¦   ¦   ¦       ¦       °--TPT outcomes                                                                                      ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦                       ¦   ¦   ¦   ¦   ¦   ¦       ¦           ¦--gets TPT                                                                                      ,soc.prop.staying.o3.months.tpt,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦                       ¦   ¦   ¦   ¦   ¦   ¦       ¦           ¦   ¦--completed TPT                                                                             ,soc.prop.staying.o3.months.complete.tpt,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,0,durTPT*(cost.dots) + TPT.visits*(cost.prison.escort),durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦   ¦   ¦                       ¦   ¦   ¦   ¦   ¦   ¦       ¦           ¦   °--did not complete TPT                                                                      ,1-soc.prop.staying.o3.months.complete.tpt,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,0,IncompDurTPT*(durTPT*(cost.dots) + TPT.visits*(cost.prison.escort)),IncompDurTPT*(durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit)),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦   ¦   ¦                       ¦   ¦   ¦   ¦   ¦   ¦       ¦           °--does not get TPT                                                                              ,1-soc.prop.staying.o3.months.tpt,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,1
     ¦   ¦   ¦                       ¦   ¦   ¦   ¦   ¦   ¦       °--In prison/IRC for <3 months                                                                               ,1-soc.prop.staying.o3.months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦                       ¦   ¦   ¦   ¦   ¦   ¦           ¦--Remaining in the UK (community or other prison/IRC)                                                   ,soc.prop.staying.u3.months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦                       ¦   ¦   ¦   ¦   ¦   ¦           ¦   °--Refer for treatment and forward details to receiving prison/community TB nurse                    ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦                       ¦   ¦   ¦   ¦   ¦   ¦           ¦       °--TPT outcomes                                                                                  ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦                       ¦   ¦   ¦   ¦   ¦   ¦           ¦           ¦--gets TPT                                                                                  ,soc.prop.staying.u3.months.uk.tpt,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦                       ¦   ¦   ¦   ¦   ¦   ¦           ¦           ¦   ¦--completed TPT                                                                         ,soc.prop.staying.u3.months.uk.complete.tpt,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,0,durTPT*(cost.dots) + TPT.visits*(cost.prison.escort),durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦   ¦   ¦                       ¦   ¦   ¦   ¦   ¦   ¦           ¦           ¦   °--did not complete TPT                                                                  ,1-soc.prop.staying.u3.months.uk.complete.tpt,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,0,IncompDurTPT*(durTPT*(cost.dots) + TPT.visits*(cost.prison.escort)),IncompDurTPT*(durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit)),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦   ¦   ¦                       ¦   ¦   ¦   ¦   ¦   ¦           ¦           °--does not get TPT                                                                          ,1-soc.prop.staying.u3.months.uk.tpt,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,1
     ¦   ¦   ¦                       ¦   ¦   ¦   ¦   ¦   ¦           °--Early removal scheme or deportation                                                                   ,1-soc.prop.staying.u3.months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦                       ¦   ¦   ¦   ¦   ¦   °--did not Attend                                                                                                    ,1-soc.prop.abn.xray.nhs.attend.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦                       ¦   ¦   ¦   ¦   °--Not referred to NHS TB service                                                                                        ,1-soc.prop.abn.xray.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦                       ¦   ¦   ¦   °--Normal chest x-ray                                                                                                        ,1-soc.prop.abnormal.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦                       ¦   ¦   ¦       ¦--In prison/IRC for >3 months                                                                                           ,soc.prop.staying.o3.months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦                       ¦   ¦   ¦       ¦   °--Refer for treatment                                                                                               ,tpt.nhs.referral,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,0,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦                       ¦   ¦   ¦       ¦       °--TPT outcomes                                                                                                  ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦                       ¦   ¦   ¦       ¦           ¦--gets TPT                                                                                                  ,soc.prop.staying.o3.months.tpt,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦                       ¦   ¦   ¦       ¦           ¦   ¦--completed TPT                                                                                         ,soc.prop.staying.o3.months.complete.tpt,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,0,durTPT*(cost.dots) + TPT.visits*(cost.prison.escort),durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦   ¦   ¦                       ¦   ¦   ¦       ¦           ¦   °--did not complete TPT                                                                                  ,1-soc.prop.staying.o3.months.complete.tpt,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,0,IncompDurTPT*(durTPT*(cost.dots) + TPT.visits*(cost.prison.escort)),IncompDurTPT*(durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit)),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦   ¦   ¦                       ¦   ¦   ¦       ¦           °--does not get TPT                                                                                          ,1-soc.prop.staying.o3.months.tpt,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,1
     ¦   ¦   ¦                       ¦   ¦   ¦       °--In prison/IRC for <3 months                                                                                           ,1-soc.prop.staying.o3.months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦                       ¦   ¦   ¦           ¦--Remaining in the UK (community or other prison/IRC)                                                               ,soc.prop.staying.u3.months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦                       ¦   ¦   ¦           ¦   °--Refer for treatment and forward details to receiving prison/community TB nurse                                ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦                       ¦   ¦   ¦           ¦       °--TPT outcomes                                                                                              ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦                       ¦   ¦   ¦           ¦           ¦--gets TPT                                                                                              ,soc.prop.staying.u3.months.uk.tpt,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦                       ¦   ¦   ¦           ¦           ¦   ¦--completed TPT                                                                                     ,soc.prop.staying.u3.months.uk.complete.tpt,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,0,durTPT*(cost.dots) + TPT.visits*(cost.prison.escort),durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦   ¦   ¦                       ¦   ¦   ¦           ¦           ¦   °--did not complete TPT                                                                              ,1-soc.prop.staying.u3.months.uk.complete.tpt,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,0,IncompDurTPT*(durTPT*(cost.dots) + TPT.visits*(cost.prison.escort)),IncompDurTPT*(durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit)),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦   ¦   ¦                       ¦   ¦   ¦           ¦           °--does not get TPT                                                                                      ,1-soc.prop.staying.u3.months.uk.tpt,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,1
     ¦   ¦   ¦                       ¦   ¦   ¦           °--Early removal scheme or deportation                                                                               ,1-soc.prop.staying.u3.months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦                       ¦   ¦   °--No previous chest x-ray                                                                                                       ,1-soc.prop.prev.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦                       ¦   ¦       ¦--Chest x-ray                                                                                                               ,soc.prop.xray,cost.chest.xray,0,0,cost.chest.xray,0,0,cost.chest.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦                       ¦   ¦       ¦   ¦--Abornomal chest x-ray                                                                                                 ,soc.prop.abnormal.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦                       ¦   ¦       ¦   ¦   ¦--Referred to NHS TB service                                                                                        ,soc.prop.abn.xray.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦                       ¦   ¦       ¦   ¦   ¦   ¦--Attended                                                                                                      ,soc.prop.abn.xray.nhs.attend.referral,cost.nhs.tb.service + cost.prison.escort + cost.tb.investigations,0,0,cost.nhs.tb.service + cost.prison.escort + cost.tb.investigations,0,cost.prison.escort,cost.nhs.tb.service + cost.tb.investigations,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦                       ¦   ¦       ¦   ¦   ¦   ¦   ¦--TB                                                                                                        ,soc.prop.abn.xray.tb.dx,pIsolation*cost.prison.cell.isolation + cost.contact.tracing,0,0,pIsolation*cost.prison.cell.isolation + cost.contact.tracing,0,pIsolation*cost.prison.cell.isolation + cost.contact.tracing,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
     ¦   ¦   ¦                       ¦   ¦       ¦   ¦   ¦   ¦   ¦   °--TB outcomes                                                                                           ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦                       ¦   ¦       ¦   ¦   ¦   ¦   ¦       ¦--ATT                                                                                               ,soc.prop.starting.att,pAttending*(cost.nhs.tb.service + cost.prison.escort),0,0,0,pAttending*(cost.nhs.tb.service + cost.prison.escort),pAttending*(cost.prison.escort),pAttending*(cost.nhs.tb.service),0,0,0,0,0,0,0,0,0,1,0,0,0,0,0
     ¦   ¦   ¦                       ¦   ¦       ¦   ¦   ¦   ¦   ¦       ¦   ¦--completed ATT                                                                                 ,soc.prop.completing.att,(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + (1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visit + cost.prison.escort)) + (pDSTB*DurDSTB*cost.dsatt.drugs + (1-pDSTB)*DurMDRTB*cost.mdratt.drugs) + cost.dots*(pDSTB*DurDSTB + (1-pDSTB)*DurMDRTB),0,0,0,(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + (1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visit + cost.prison.escort)) + (pDSTB*DurDSTB*cost.dsatt.drugs + (1-pDSTB)*DurMDRTB*cost.mdratt.drugs) + cost.dots*(pDSTB*DurDSTB + (1-pDSTB)*DurMDRTB),(pDSTB*dstb.visits*(cost.prison.escort) + (1-pDSTB)*mdrtb.visits*(cost.prison.escort)),(pDSTB*dstb.visits*(cost.dstb.opd.visit ) + (1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visit )) + (pDSTB*DurDSTB*cost.dsatt.drugs + (1-pDSTB)*DurMDRTB*cost.mdratt.drugs) + cost.dots*(pDSTB*DurDSTB + (1-pDSTB)*DurMDRTB),0,0,0,0,0,0,0,0,0,0,0,1,0,0,1
     ¦   ¦   ¦                       ¦   ¦       ¦   ¦   ¦   ¦   ¦       ¦   °--did not complete ATT                                                                          ,1-soc.prop.completing.att,IncompDurDSTB/DurDSTB*(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + pDSTB*DurDSTB*(cost.dsatt.drugs + cost.dots))+ IncompDurMDRTB/DurMDRTB*((1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visits + cost.prison.escort)  + (1-pDSTB)*DurMDRTB*(cost.mdratt.drugs + cost.dots)),0,0,0,IncompDurDSTB/DurDSTB*(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + pDSTB*DurDSTB*(cost.dsatt.drugs + cost.dots))+ IncompDurMDRTB/DurMDRTB*((1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visits + cost.prison.escort)  + (1-pDSTB)*DurMDRTB*(cost.mdratt.drugs + cost.dots)),IncompDurDSTB/DurDSTB*pDSTB*dstb.visits*(cost.prison.escort) + IncompDurMDRTB/DurMDRTB*(1-pDSTB)*mdrtb.visits*(cost.prison.escort),IncompDurDSTB/DurDSTB*(pDSTB*dstb.visits*(cost.dstb.opd.visit) + pDSTB*DurDSTB*(cost.dsatt.drugs + cost.dots))+ IncompDurMDRTB/DurMDRTB*((1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visits)  + (1-pDSTB)*DurMDRTB*(cost.mdratt.drugs + cost.dots)),0,0,0,0,0,0,0,0,0,0,0,1,0,0,1
     ¦   ¦   ¦                       ¦   ¦       ¦   ¦   ¦   ¦   ¦       °--no ATT                                                                                            ,1-soc.prop.starting.att,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,1,1
     ¦   ¦   ¦                       ¦   ¦       ¦   ¦   ¦   ¦   °--Not TB                                                                                                    ,1-soc.prop.abn.xray.tb.dx,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦                       ¦   ¦       ¦   ¦   ¦   ¦       ¦--In prison/IRC for >3 months                                                                           ,soc.prop.staying.o3.months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦                       ¦   ¦       ¦   ¦   ¦   ¦       ¦   °--Refer for treatment                                                                               ,tpt.nhs.referral,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,0,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦                       ¦   ¦       ¦   ¦   ¦   ¦       ¦       °--TPT outcomes                                                                                  ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦                       ¦   ¦       ¦   ¦   ¦   ¦       ¦           ¦--gets TPT                                                                                  ,soc.prop.staying.o3.months.tpt,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦                       ¦   ¦       ¦   ¦   ¦   ¦       ¦           ¦   ¦--completed TPT                                                                         ,soc.prop.staying.o3.months.complete.tpt,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,0,durTPT*(cost.dots) + TPT.visits*(cost.prison.escort),durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦   ¦   ¦                       ¦   ¦       ¦   ¦   ¦   ¦       ¦           ¦   °--did not complete TPT                                                                  ,1-soc.prop.staying.o3.months.complete.tpt,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,0,IncompDurTPT*(durTPT*(cost.dots) + TPT.visits*(cost.prison.escort)),IncompDurTPT*(durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit)),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦   ¦   ¦                       ¦   ¦       ¦   ¦   ¦   ¦       ¦           °--does not get TPT                                                                          ,1-soc.prop.staying.o3.months.tpt,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,1
     ¦   ¦   ¦                       ¦   ¦       ¦   ¦   ¦   ¦       °--In prison/IRC for <3 months                                                                           ,1-soc.prop.staying.o3.months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦                       ¦   ¦       ¦   ¦   ¦   ¦           ¦--Remaining in the UK (community or other prison/IRC)                                               ,soc.prop.staying.u3.months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦                       ¦   ¦       ¦   ¦   ¦   ¦           ¦   °--Refer for treatment and forward details to receiving prison/community TB nurse                ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦                       ¦   ¦       ¦   ¦   ¦   ¦           ¦       °--TPT outcomes                                                                              ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦                       ¦   ¦       ¦   ¦   ¦   ¦           ¦           ¦--gets TPT                                                                              ,soc.prop.staying.u3.months.uk.tpt,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦                       ¦   ¦       ¦   ¦   ¦   ¦           ¦           ¦   ¦--completed TPT                                                                     ,soc.prop.staying.u3.months.uk.complete.tpt,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,0,durTPT*(cost.dots) + TPT.visits*(cost.prison.escort),durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦   ¦   ¦                       ¦   ¦       ¦   ¦   ¦   ¦           ¦           ¦   °--did not complete TPT                                                              ,1-soc.prop.staying.u3.months.uk.complete.tpt,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,0,IncompDurTPT*(durTPT*(cost.dots) + TPT.visits*(cost.prison.escort)),IncompDurTPT*(durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit)),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦   ¦   ¦                       ¦   ¦       ¦   ¦   ¦   ¦           ¦           °--does not get TPT                                                                      ,1-soc.prop.staying.u3.months.uk.tpt,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,1
     ¦   ¦   ¦                       ¦   ¦       ¦   ¦   ¦   ¦           °--Early removal scheme or deportation                                                               ,1-soc.prop.staying.u3.months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦                       ¦   ¦       ¦   ¦   ¦   °--did not Attend                                                                                                ,1-soc.prop.abn.xray.nhs.attend.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦                       ¦   ¦       ¦   ¦   °--Not referred to NHS TB service                                                                                    ,1-soc.prop.abn.xray.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦                       ¦   ¦       ¦   °--Normal chest x-ray                                                                                                    ,1-soc.prop.abnormal.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦                       ¦   ¦       ¦       ¦--In prison/IRC for >3 months                                                                                       ,soc.prop.staying.o3.months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦                       ¦   ¦       ¦       ¦   °--Refer for treatment                                                                                           ,tpt.nhs.referral,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,0,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦                       ¦   ¦       ¦       ¦       °--TPT outcomes                                                                                              ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦                       ¦   ¦       ¦       ¦           ¦--gets TPT                                                                                              ,soc.prop.staying.o3.months.tpt,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦                       ¦   ¦       ¦       ¦           ¦   ¦--completed TPT                                                                                     ,soc.prop.staying.o3.months.complete.tpt,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,0,durTPT*(cost.dots) + TPT.visits*(cost.prison.escort),durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦   ¦   ¦                       ¦   ¦       ¦       ¦           ¦   °--did not complete TPT                                                                              ,1-soc.prop.staying.o3.months.complete.tpt,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,0,IncompDurTPT*(durTPT*(cost.dots) + TPT.visits*(cost.prison.escort)),IncompDurTPT*(durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit)),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦   ¦   ¦                       ¦   ¦       ¦       ¦           °--does not get TPT                                                                                      ,1-soc.prop.staying.o3.months.tpt,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,1
     ¦   ¦   ¦                       ¦   ¦       ¦       °--In prison/IRC for <3 months                                                                                       ,1-soc.prop.staying.o3.months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦                       ¦   ¦       ¦           ¦--Remaining in the UK (community or other prison/IRC)                                                           ,soc.prop.staying.u3.months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦                       ¦   ¦       ¦           ¦   °--Refer for treatment and forward details to receiving prison/community TB nurse                            ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦                       ¦   ¦       ¦           ¦       °--TPT outcomes                                                                                          ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦                       ¦   ¦       ¦           ¦           ¦--gets TPT                                                                                          ,soc.prop.staying.u3.months.uk.tpt,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦                       ¦   ¦       ¦           ¦           ¦   ¦--completed TPT                                                                                 ,soc.prop.staying.u3.months.uk.complete.tpt,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,0,durTPT*(cost.dots) + TPT.visits*(cost.prison.escort),durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦   ¦   ¦                       ¦   ¦       ¦           ¦           ¦   °--did not complete TPT                                                                          ,1-soc.prop.staying.u3.months.uk.complete.tpt,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,0,IncompDurTPT*(durTPT*(cost.dots) + TPT.visits*(cost.prison.escort)),IncompDurTPT*(durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit)),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦   ¦   ¦                       ¦   ¦       ¦           ¦           °--does not get TPT                                                                                  ,1-soc.prop.staying.u3.months.uk.tpt,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,1
     ¦   ¦   ¦                       ¦   ¦       ¦           °--Early removal scheme or deportation                                                                           ,1-soc.prop.staying.u3.months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦                       ¦   ¦       °--No chest x-ray                                                                                                            ,1-soc.prop.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦                       ¦   ¦           ¦--Referred to NHS TB service                                                                                            ,soc.prop.no.xray.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦                       ¦   ¦           ¦   ¦--Attended                                                                                                          ,soc.prop.no.xray.nhs.attend.referral,cost.nhs.tb.service + cost.prison.escort + cost.tb.investigations,0,0,cost.nhs.tb.service + cost.prison.escort + cost.tb.investigations,0,cost.prison.escort,cost.nhs.tb.service + cost.tb.investigations,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦                       ¦   ¦           ¦   ¦   ¦--TB                                                                                                            ,soc.prop.no.xray.tb.dx,pIsolation*cost.prison.cell.isolation + cost.contact.tracing,0,0,pIsolation*cost.prison.cell.isolation + cost.contact.tracing,0,pIsolation*cost.prison.cell.isolation + cost.contact.tracing,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
     ¦   ¦   ¦                       ¦   ¦           ¦   ¦   ¦   °--TB outcomes                                                                                               ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦                       ¦   ¦           ¦   ¦   ¦       ¦--ATT                                                                                                   ,soc.prop.starting.att,pAttending*(cost.nhs.tb.service + cost.prison.escort),0,0,0,pAttending*(cost.nhs.tb.service + cost.prison.escort),pAttending*(cost.prison.escort),pAttending*(cost.nhs.tb.service),0,0,0,0,0,0,0,0,0,1,0,0,0,0,0
     ¦   ¦   ¦                       ¦   ¦           ¦   ¦   ¦       ¦   ¦--completed ATT                                                                                     ,soc.prop.completing.att,(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + (1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visit + cost.prison.escort)) + (pDSTB*DurDSTB*cost.dsatt.drugs + (1-pDSTB)*DurMDRTB*cost.mdratt.drugs) + cost.dots*(pDSTB*DurDSTB + (1-pDSTB)*DurMDRTB),0,0,0,(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + (1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visit + cost.prison.escort)) + (pDSTB*DurDSTB*cost.dsatt.drugs + (1-pDSTB)*DurMDRTB*cost.mdratt.drugs) + cost.dots*(pDSTB*DurDSTB + (1-pDSTB)*DurMDRTB),(pDSTB*dstb.visits*(cost.prison.escort) + (1-pDSTB)*mdrtb.visits*(cost.prison.escort)),(pDSTB*dstb.visits*(cost.dstb.opd.visit ) + (1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visit )) + (pDSTB*DurDSTB*cost.dsatt.drugs + (1-pDSTB)*DurMDRTB*cost.mdratt.drugs) + cost.dots*(pDSTB*DurDSTB + (1-pDSTB)*DurMDRTB),0,0,0,0,0,0,0,0,0,0,0,1,0,0,1
     ¦   ¦   ¦                       ¦   ¦           ¦   ¦   ¦       ¦   °--did not complete ATT                                                                              ,1-soc.prop.completing.att,IncompDurDSTB/DurDSTB*(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + pDSTB*DurDSTB*(cost.dsatt.drugs + cost.dots))+ IncompDurMDRTB/DurMDRTB*((1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visits + cost.prison.escort)  + (1-pDSTB)*DurMDRTB*(cost.mdratt.drugs + cost.dots)),0,0,0,IncompDurDSTB/DurDSTB*(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + pDSTB*DurDSTB*(cost.dsatt.drugs + cost.dots))+ IncompDurMDRTB/DurMDRTB*((1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visits + cost.prison.escort)  + (1-pDSTB)*DurMDRTB*(cost.mdratt.drugs + cost.dots)),IncompDurDSTB/DurDSTB*pDSTB*dstb.visits*(cost.prison.escort) + IncompDurMDRTB/DurMDRTB*(1-pDSTB)*mdrtb.visits*(cost.prison.escort),IncompDurDSTB/DurDSTB*(pDSTB*dstb.visits*(cost.dstb.opd.visit) + pDSTB*DurDSTB*(cost.dsatt.drugs + cost.dots))+ IncompDurMDRTB/DurMDRTB*((1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visits)  + (1-pDSTB)*DurMDRTB*(cost.mdratt.drugs + cost.dots)),0,0,0,0,0,0,0,0,0,0,0,1,0,0,1
     ¦   ¦   ¦                       ¦   ¦           ¦   ¦   ¦       °--no ATT                                                                                                ,1-soc.prop.starting.att,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,1,1
     ¦   ¦   ¦                       ¦   ¦           ¦   ¦   °--Not TB                                                                                                        ,1-soc.prop.no.xray.tb.dx,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦                       ¦   ¦           ¦   ¦       ¦--In prison/IRC for >3 months                                                                               ,soc.prop.staying.o3.months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦                       ¦   ¦           ¦   ¦       ¦   °--Refer for treatment                                                                                   ,tpt.nhs.referral,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,0,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦                       ¦   ¦           ¦   ¦       ¦       °--TPT outcomes                                                                                      ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦                       ¦   ¦           ¦   ¦       ¦           ¦--gets TPT                                                                                      ,soc.prop.staying.o3.months.tpt,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦                       ¦   ¦           ¦   ¦       ¦           ¦   ¦--completed TPT                                                                             ,soc.prop.staying.o3.months.complete.tpt,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,0,durTPT*(cost.dots) + TPT.visits*(cost.prison.escort),durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦   ¦   ¦                       ¦   ¦           ¦   ¦       ¦           ¦   °--did not complete TPT                                                                      ,1-soc.prop.staying.o3.months.complete.tpt,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,0,IncompDurTPT*(durTPT*(cost.dots) + TPT.visits*(cost.prison.escort)),IncompDurTPT*(durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit)),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦   ¦   ¦                       ¦   ¦           ¦   ¦       ¦           °--does not get TPT                                                                              ,1-soc.prop.staying.o3.months.tpt,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,1
     ¦   ¦   ¦                       ¦   ¦           ¦   ¦       °--In prison/IRC for <3 months                                                                               ,1-soc.prop.staying.o3.months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦                       ¦   ¦           ¦   ¦           ¦--Remaining in the UK (community or other prison/IRC)                                                   ,soc.prop.staying.u3.months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦                       ¦   ¦           ¦   ¦           ¦   °--Refer for treatment and forward details to receiving prison/community TB nurse                    ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦                       ¦   ¦           ¦   ¦           ¦       °--TPT outcomes                                                                                  ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦                       ¦   ¦           ¦   ¦           ¦           ¦--gets TPT                                                                                  ,soc.prop.staying.u3.months.uk.tpt,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦                       ¦   ¦           ¦   ¦           ¦           ¦   ¦--completed TPT                                                                         ,soc.prop.staying.u3.months.uk.complete.tpt,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,0,durTPT*(cost.dots) + TPT.visits*(cost.prison.escort),durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦   ¦   ¦                       ¦   ¦           ¦   ¦           ¦           ¦   °--did not complete TPT                                                                  ,1-soc.prop.staying.u3.months.uk.complete.tpt,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,0,IncompDurTPT*(durTPT*(cost.dots) + TPT.visits*(cost.prison.escort)),IncompDurTPT*(durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit)),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦   ¦   ¦                       ¦   ¦           ¦   ¦           ¦           °--does not get TPT                                                                          ,1-soc.prop.staying.u3.months.uk.tpt,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,1
     ¦   ¦   ¦                       ¦   ¦           ¦   ¦           °--Early removal scheme or deportation                                                                   ,1-soc.prop.staying.u3.months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦                       ¦   ¦           ¦   °--did not Attend                                                                                                    ,1-soc.prop.no.xray.nhs.attend.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦                       ¦   ¦           °--Not referred to NHS TB service                                                                                        ,1-soc.prop.no.xray.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦                       ¦   °--IGRA test -                                                                                                                       ,1-soc.prop.igra.test.positive,0,0,0,0,0,0,0,0,0,0,1,0,0,1,0,0,0,0,0,0,0,1
     ¦   ¦   ¦                       °--no IGRA test                                                                                                                          ,1-soc.prop.igra.tested,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   °--Did not start TB treatment                                                                                                                                    ,1-soc.prop.prev.tb.dx.started.att,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦       °--Refer to TB services                                                                                                                                      ,1,pIsolation*cost.prison.cell.isolation,0,0,0,0,pIsolation*cost.prison.cell.isolation,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦           ¦--Attended                                                                                                                                              ,soc.prop.prev.tb.dx.notx.referral,cost.nhs.tb.service + cost.prison.escort,0,0,cost.nhs.tb.service + cost.prison.escort + cost.tb.investigations,0,cost.prison.escort,cost.nhs.tb.service + cost.tb.investigations,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦           ¦   ¦--ATT                                                                                                                                               ,soc.prop.starting.att,pAttending*(cost.nhs.tb.service + cost.prison.escort),0,0,0,pAttending*(cost.nhs.tb.service + cost.prison.escort),pAttending*(cost.prison.escort),pAttending*(cost.nhs.tb.service),0,0,0,0,0,0,0,0,0,1,0,0,0,0,0
     ¦   ¦           ¦   ¦   ¦--Completed ATT                                                                                                                                 ,soc.prop.completing.att,(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + (1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visit + cost.prison.escort)) + (pDSTB*DurDSTB*cost.dsatt.drugs + (1-pDSTB)*DurMDRTB*cost.mdratt.drugs) + cost.dots*(pDSTB*DurDSTB + (1-pDSTB)*DurMDRTB),0,0,0,(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + (1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visit + cost.prison.escort)) + (pDSTB*DurDSTB*cost.dsatt.drugs + (1-pDSTB)*DurMDRTB*cost.mdratt.drugs) + cost.dots*(pDSTB*DurDSTB + (1-pDSTB)*DurMDRTB),(pDSTB*dstb.visits*(cost.prison.escort) + (1-pDSTB)*mdrtb.visits*(cost.prison.escort)),(pDSTB*dstb.visits*(cost.dstb.opd.visit ) + (1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visit )) + (pDSTB*DurDSTB*cost.dsatt.drugs + (1-pDSTB)*DurMDRTB*cost.mdratt.drugs) + cost.dots*(pDSTB*DurDSTB + (1-pDSTB)*DurMDRTB),0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦           ¦   ¦   °--did not complete ATT                                                                                                                          ,1-soc.prop.completing.att,IncompDurDSTB/DurDSTB*(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + pDSTB*DurDSTB*(cost.dsatt.drugs + cost.dots))+ IncompDurMDRTB/DurMDRTB*((1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visits + cost.prison.escort)  + (1-pDSTB)*DurMDRTB*(cost.mdratt.drugs + cost.dots)),0,0,0,IncompDurDSTB/DurDSTB*(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + pDSTB*DurDSTB*(cost.dsatt.drugs + cost.dots))+ IncompDurMDRTB/DurMDRTB*((1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visits + cost.prison.escort)  + (1-pDSTB)*DurMDRTB*(cost.mdratt.drugs + cost.dots)),IncompDurDSTB/DurDSTB*pDSTB*dstb.visits*(cost.prison.escort) + IncompDurMDRTB/DurMDRTB*(1-pDSTB)*mdrtb.visits*(cost.prison.escort),IncompDurDSTB/DurDSTB*(pDSTB*dstb.visits*(cost.dstb.opd.visit) + pDSTB*DurDSTB*(cost.dsatt.drugs + cost.dots))+ IncompDurMDRTB/DurMDRTB*((1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visits)  + (1-pDSTB)*DurMDRTB*(cost.mdratt.drugs + cost.dots)),0,0,0,0,0,0,0,0,0,0,0,1,0,0,1
     ¦   ¦           ¦   °--no ATT                                                                                                                                            ,1-soc.prop.starting.att,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,1,1
     ¦   ¦           °--did not Attend                                                                                                                                        ,1-soc.prop.prev.tb.dx.notx.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   °--No previous TB diagnosis                                                                                                                                          ,1-soc.prop.prev.tb.dx,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦--TB symptoms                                                                                                                                                   ,soc.prop.no.prev.tb.dx.symp,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦--Prison GP assessment                                                                                                                                      ,soc.prop.no.prev.tb.dx.symp.gp.assess,pIsolation*cost.prison.cell.isolation + cost.prison.gp.assess + soc.prop.xray*cost.chest.xray,0,0,pIsolation*cost.prison.cell.isolation + cost.prison.gp.assess + soc.prop.xray*cost.chest.xray,0,pIsolation*cost.prison.cell.isolation + cost.prison.gp.assess,soc.prop.xray*cost.chest.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦   ¦--Clinical suspicion of TB                                                                                                                              ,soc.prop.no.prev.tb.dx.symp.tb.suspicion,pIsolation*cost.prison.cell.isolation,0,0,pIsolation*cost.prison.cell.isolation,0,pIsolation*cost.prison.cell.isolation,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦   ¦   °--Urgent referral to local NHS TB service                                                                                                           ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦   ¦       ¦--Attended                                                                                                                                      ,soc.prop.no.prev.tb.dx.symp.nhs.referral,cost.nhs.tb.service + cost.prison.escort + cost.tb.investigations,0,0,cost.nhs.tb.service + cost.prison.escort + cost.tb.investigations,0,cost.prison.escort,cost.nhs.tb.service + cost.tb.investigations,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦   ¦       ¦   ¦--TB                                                                                                                                        ,soc.prop.no.prev.tb.dx.symp.tb.dx,pIsolation*cost.prison.cell.isolation + cost.contact.tracing,0,0,pIsolation*cost.prison.cell.isolation + cost.contact.tracing,0,pIsolation*cost.prison.cell.isolation + cost.contact.tracing,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
     ¦       ¦   ¦   ¦       ¦   ¦   °--TB outcomes                                                                                                                           ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦   ¦       ¦   ¦       ¦--ATT                                                                                                                               ,soc.prop.starting.att,pAttending*(cost.nhs.tb.service + cost.prison.escort),0,0,0,pAttending*(cost.nhs.tb.service + cost.prison.escort),pAttending*(cost.prison.escort),pAttending*(cost.nhs.tb.service),0,0,0,0,0,0,0,0,0,1,0,0,0,0,0
     ¦       ¦   ¦   ¦       ¦   ¦       ¦   ¦--completed ATT                                                                                                                 ,soc.prop.completing.att,(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + (1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visit + cost.prison.escort)) + (pDSTB*DurDSTB*cost.dsatt.drugs + (1-pDSTB)*DurMDRTB*cost.mdratt.drugs) + cost.dots*(pDSTB*DurDSTB + (1-pDSTB)*DurMDRTB),0,0,0,(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + (1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visit + cost.prison.escort)) + (pDSTB*DurDSTB*cost.dsatt.drugs + (1-pDSTB)*DurMDRTB*cost.mdratt.drugs) + cost.dots*(pDSTB*DurDSTB + (1-pDSTB)*DurMDRTB),(pDSTB*dstb.visits*(cost.prison.escort) + (1-pDSTB)*mdrtb.visits*(cost.prison.escort)),(pDSTB*dstb.visits*(cost.dstb.opd.visit ) + (1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visit )) + (pDSTB*DurDSTB*cost.dsatt.drugs + (1-pDSTB)*DurMDRTB*cost.mdratt.drugs) + cost.dots*(pDSTB*DurDSTB + (1-pDSTB)*DurMDRTB),0,0,0,0,0,0,0,0,0,0,0,1,0,0,1
     ¦       ¦   ¦   ¦       ¦   ¦       ¦   °--did not complete ATT                                                                                                          ,1-soc.prop.completing.att,IncompDurDSTB/DurDSTB*(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + pDSTB*DurDSTB*(cost.dsatt.drugs + cost.dots))+ IncompDurMDRTB/DurMDRTB*((1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visits + cost.prison.escort)  + (1-pDSTB)*DurMDRTB*(cost.mdratt.drugs + cost.dots)),0,0,0,IncompDurDSTB/DurDSTB*(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + pDSTB*DurDSTB*(cost.dsatt.drugs + cost.dots))+ IncompDurMDRTB/DurMDRTB*((1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visits + cost.prison.escort)  + (1-pDSTB)*DurMDRTB*(cost.mdratt.drugs + cost.dots)),IncompDurDSTB/DurDSTB*pDSTB*dstb.visits*(cost.prison.escort) + IncompDurMDRTB/DurMDRTB*(1-pDSTB)*mdrtb.visits*(cost.prison.escort),IncompDurDSTB/DurDSTB*(pDSTB*dstb.visits*(cost.dstb.opd.visit) + pDSTB*DurDSTB*(cost.dsatt.drugs + cost.dots))+ IncompDurMDRTB/DurMDRTB*((1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visits)  + (1-pDSTB)*DurMDRTB*(cost.mdratt.drugs + cost.dots)),0,0,0,0,0,0,0,0,0,0,0,1,0,0,1
     ¦       ¦   ¦   ¦       ¦   ¦       °--no ATT                                                                                                                            ,1-soc.prop.starting.att,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,1,1
     ¦       ¦   ¦   ¦       ¦   °--Not TB                                                                                                                                    ,1-soc.prop.no.prev.tb.dx.symp.tb.dx,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦   ¦       ¦       °--LTBI pathway                                                                                                                          ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦   ¦       ¦           ¦--IGRA test                                                                                                                         ,soc.prop.igra.tested,cost.igra.test,0,cost.igra.test,0,0,0,cost.igra.test,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦   ¦       ¦           ¦   ¦--IGRA test +                                                                                                                   ,soc.prop.igra.test.positive,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦--Previous chest x-ray                                                                                                      ,soc.prop.prev.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦   ¦--Abornomal chest x-ray                                                                                                 ,soc.prop.abnormal.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦--Referred to NHS TB service                                                                                        ,soc.prop.abn.xray.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦--Attended                                                                                                      ,soc.prop.abn.xray.nhs.attend.referral,cost.nhs.tb.service + cost.prison.escort + cost.tb.investigations,0,0,cost.nhs.tb.service + cost.prison.escort + cost.tb.investigations,0,cost.prison.escort,cost.nhs.tb.service + cost.tb.investigations,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦   ¦--TB                                                                                                        ,soc.prop.abn.xray.tb.dx,pIsolation*cost.prison.cell.isolation + cost.contact.tracing,0,0,pIsolation*cost.prison.cell.isolation + cost.contact.tracing,0,pIsolation*cost.prison.cell.isolation + cost.contact.tracing,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
     ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦   ¦   °--TB outcomes                                                                                           ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦   ¦       ¦--ATT                                                                                               ,soc.prop.starting.att,pAttending*(cost.nhs.tb.service + cost.prison.escort),0,0,0,pAttending*(cost.nhs.tb.service + cost.prison.escort),pAttending*(cost.prison.escort),pAttending*(cost.nhs.tb.service),0,0,0,0,0,0,0,0,0,1,0,0,0,0,0
     ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦   ¦       ¦   ¦--completed ATT                                                                                 ,soc.prop.completing.att,(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + (1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visit + cost.prison.escort)) + (pDSTB*DurDSTB*cost.dsatt.drugs + (1-pDSTB)*DurMDRTB*cost.mdratt.drugs) + cost.dots*(pDSTB*DurDSTB + (1-pDSTB)*DurMDRTB),0,0,0,(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + (1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visit + cost.prison.escort)) + (pDSTB*DurDSTB*cost.dsatt.drugs + (1-pDSTB)*DurMDRTB*cost.mdratt.drugs) + cost.dots*(pDSTB*DurDSTB + (1-pDSTB)*DurMDRTB),(pDSTB*dstb.visits*(cost.prison.escort) + (1-pDSTB)*mdrtb.visits*(cost.prison.escort)),(pDSTB*dstb.visits*(cost.dstb.opd.visit ) + (1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visit )) + (pDSTB*DurDSTB*cost.dsatt.drugs + (1-pDSTB)*DurMDRTB*cost.mdratt.drugs) + cost.dots*(pDSTB*DurDSTB + (1-pDSTB)*DurMDRTB),0,0,0,0,0,0,0,0,0,0,0,1,0,0,1
     ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦   ¦       ¦   °--did not complete ATT                                                                          ,1-soc.prop.completing.att,IncompDurDSTB/DurDSTB*(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + pDSTB*DurDSTB*(cost.dsatt.drugs + cost.dots))+ IncompDurMDRTB/DurMDRTB*((1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visits + cost.prison.escort)  + (1-pDSTB)*DurMDRTB*(cost.mdratt.drugs + cost.dots)),0,0,0,IncompDurDSTB/DurDSTB*(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + pDSTB*DurDSTB*(cost.dsatt.drugs + cost.dots))+ IncompDurMDRTB/DurMDRTB*((1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visits + cost.prison.escort)  + (1-pDSTB)*DurMDRTB*(cost.mdratt.drugs + cost.dots)),IncompDurDSTB/DurDSTB*pDSTB*dstb.visits*(cost.prison.escort) + IncompDurMDRTB/DurMDRTB*(1-pDSTB)*mdrtb.visits*(cost.prison.escort),IncompDurDSTB/DurDSTB*(pDSTB*dstb.visits*(cost.dstb.opd.visit) + pDSTB*DurDSTB*(cost.dsatt.drugs + cost.dots))+ IncompDurMDRTB/DurMDRTB*((1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visits)  + (1-pDSTB)*DurMDRTB*(cost.mdratt.drugs + cost.dots)),0,0,0,0,0,0,0,0,0,0,0,1,0,0,1
     ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦   ¦       °--no ATT                                                                                            ,1-soc.prop.starting.att,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,1,1
     ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦   °--Not TB                                                                                                    ,1-soc.prop.abn.xray.tb.dx,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦       ¦--In prison/IRC for >3 months                                                                           ,soc.prop.staying.o3.months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦       ¦   °--Refer for treatment                                                                               ,tpt.nhs.referral,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,0,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦       ¦       °--TPT outcomes                                                                                  ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦       ¦           ¦--gets TPT                                                                                  ,soc.prop.staying.o3.months.tpt,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦       ¦           ¦   ¦--completed TPT                                                                         ,soc.prop.staying.o3.months.complete.tpt,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,0,durTPT*(cost.dots) + TPT.visits*(cost.prison.escort),durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦       ¦           ¦   °--did not complete TPT                                                                  ,1-soc.prop.staying.o3.months.complete.tpt,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,0,IncompDurTPT*(durTPT*(cost.dots) + TPT.visits*(cost.prison.escort)),IncompDurTPT*(durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit)),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦       ¦           °--does not get TPT                                                                          ,1-soc.prop.staying.o3.months.tpt,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,1
     ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦       °--In prison/IRC for <3 months                                                                           ,1-soc.prop.staying.o3.months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦           ¦--Remaining in the UK (community or other prison/IRC)                                               ,soc.prop.staying.u3.months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦           ¦   °--Refer for treatment and forward details to receiving prison/community TB nurse                ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦           ¦       °--TPT outcomes                                                                              ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦           ¦           ¦--gets TPT                                                                              ,soc.prop.staying.u3.months.uk.tpt,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦           ¦           ¦   ¦--completed TPT                                                                     ,soc.prop.staying.u3.months.uk.complete.tpt,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,0,durTPT*(cost.dots) + TPT.visits*(cost.prison.escort),durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦           ¦           ¦   °--did not complete TPT                                                              ,1-soc.prop.staying.u3.months.uk.complete.tpt,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,0,IncompDurTPT*(durTPT*(cost.dots) + TPT.visits*(cost.prison.escort)),IncompDurTPT*(durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit)),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦           ¦           °--does not get TPT                                                                      ,1-soc.prop.staying.u3.months.uk.tpt,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,1
     ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦           °--Early removal scheme or deportation                                                               ,1-soc.prop.staying.u3.months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   °--did not Attend                                                                                                ,1-soc.prop.abn.xray.nhs.attend.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦   ¦   °--Not referred to NHS TB service                                                                                    ,1-soc.prop.abn.xray.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦   °--Normal chest x-ray                                                                                                    ,1-soc.prop.abnormal.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦       ¦--In prison/IRC for >3 months                                                                                       ,soc.prop.staying.o3.months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦       ¦   °--Refer for treatment                                                                                           ,tpt.nhs.referral,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,0,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦       ¦       °--TPT outcomes                                                                                              ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦       ¦           ¦--gets TPT                                                                                              ,soc.prop.staying.o3.months.tpt,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦       ¦           ¦   ¦--completed TPT                                                                                     ,soc.prop.staying.o3.months.complete.tpt,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,0,durTPT*(cost.dots) + TPT.visits*(cost.prison.escort),durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦       ¦           ¦   °--did not complete TPT                                                                              ,1-soc.prop.staying.o3.months.complete.tpt,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,0,IncompDurTPT*(durTPT*(cost.dots) + TPT.visits*(cost.prison.escort)),IncompDurTPT*(durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit)),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦       ¦           °--does not get TPT                                                                                      ,1-soc.prop.staying.o3.months.tpt,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,1
     ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦       °--In prison/IRC for <3 months                                                                                       ,1-soc.prop.staying.o3.months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦           ¦--Remaining in the UK (community or other prison/IRC)                                                           ,soc.prop.staying.u3.months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦           ¦   °--Refer for treatment and forward details to receiving prison/community TB nurse                            ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦           ¦       °--TPT outcomes                                                                                          ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦           ¦           ¦--gets TPT                                                                                          ,soc.prop.staying.u3.months.uk.tpt,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦           ¦           ¦   ¦--completed TPT                                                                                 ,soc.prop.staying.u3.months.uk.complete.tpt,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,0,durTPT*(cost.dots) + TPT.visits*(cost.prison.escort),durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦           ¦           ¦   °--did not complete TPT                                                                          ,1-soc.prop.staying.u3.months.uk.complete.tpt,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,0,IncompDurTPT*(durTPT*(cost.dots) + TPT.visits*(cost.prison.escort)),IncompDurTPT*(durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit)),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦           ¦           °--does not get TPT                                                                                  ,1-soc.prop.staying.u3.months.uk.tpt,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,1
     ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦           °--Early removal scheme or deportation                                                                           ,1-soc.prop.staying.u3.months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦       ¦   ¦   ¦       ¦           ¦   ¦   °--No previous chest x-ray                                                                                                   ,1-soc.prop.prev.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦--Chest x-ray                                                                                                           ,soc.prop.xray,cost.chest.xray,0,0,cost.chest.xray,0,0,cost.chest.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦   ¦--Abornomal chest x-ray                                                                                             ,soc.prop.abnormal.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦--Referred to NHS TB service                                                                                    ,soc.prop.abn.xray.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦--Attended                                                                                                  ,soc.prop.abn.xray.nhs.attend.referral,cost.nhs.tb.service + cost.prison.escort + cost.tb.investigations,0,0,cost.nhs.tb.service + cost.prison.escort + cost.tb.investigations,0,cost.prison.escort,cost.nhs.tb.service + cost.tb.investigations,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦   ¦--TB                                                                                                    ,soc.prop.abn.xray.tb.dx,pIsolation*cost.prison.cell.isolation + cost.contact.tracing,0,0,pIsolation*cost.prison.cell.isolation + cost.contact.tracing,0,pIsolation*cost.prison.cell.isolation + cost.contact.tracing,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
     ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦   ¦   °--TB outcomes                                                                                       ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦   ¦       ¦--ATT                                                                                           ,soc.prop.starting.att,pAttending*(cost.nhs.tb.service + cost.prison.escort),0,0,0,pAttending*(cost.nhs.tb.service + cost.prison.escort),pAttending*(cost.prison.escort),pAttending*(cost.nhs.tb.service),0,0,0,0,0,0,0,0,0,1,0,0,0,0,0
     ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦   ¦       ¦   ¦--completed ATT                                                                             ,soc.prop.completing.att,(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + (1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visit + cost.prison.escort)) + (pDSTB*DurDSTB*cost.dsatt.drugs + (1-pDSTB)*DurMDRTB*cost.mdratt.drugs) + cost.dots*(pDSTB*DurDSTB + (1-pDSTB)*DurMDRTB),0,0,0,(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + (1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visit + cost.prison.escort)) + (pDSTB*DurDSTB*cost.dsatt.drugs + (1-pDSTB)*DurMDRTB*cost.mdratt.drugs) + cost.dots*(pDSTB*DurDSTB + (1-pDSTB)*DurMDRTB),(pDSTB*dstb.visits*(cost.prison.escort) + (1-pDSTB)*mdrtb.visits*(cost.prison.escort)),(pDSTB*dstb.visits*(cost.dstb.opd.visit ) + (1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visit )) + (pDSTB*DurDSTB*cost.dsatt.drugs + (1-pDSTB)*DurMDRTB*cost.mdratt.drugs) + cost.dots*(pDSTB*DurDSTB + (1-pDSTB)*DurMDRTB),0,0,0,0,0,0,0,0,0,0,0,1,0,0,1
     ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦   ¦       ¦   °--did not complete ATT                                                                      ,1-soc.prop.completing.att,IncompDurDSTB/DurDSTB*(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + pDSTB*DurDSTB*(cost.dsatt.drugs + cost.dots))+ IncompDurMDRTB/DurMDRTB*((1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visits + cost.prison.escort)  + (1-pDSTB)*DurMDRTB*(cost.mdratt.drugs + cost.dots)),0,0,0,IncompDurDSTB/DurDSTB*(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + pDSTB*DurDSTB*(cost.dsatt.drugs + cost.dots))+ IncompDurMDRTB/DurMDRTB*((1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visits + cost.prison.escort)  + (1-pDSTB)*DurMDRTB*(cost.mdratt.drugs + cost.dots)),IncompDurDSTB/DurDSTB*pDSTB*dstb.visits*(cost.prison.escort) + IncompDurMDRTB/DurMDRTB*(1-pDSTB)*mdrtb.visits*(cost.prison.escort),IncompDurDSTB/DurDSTB*(pDSTB*dstb.visits*(cost.dstb.opd.visit) + pDSTB*DurDSTB*(cost.dsatt.drugs + cost.dots))+ IncompDurMDRTB/DurMDRTB*((1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visits)  + (1-pDSTB)*DurMDRTB*(cost.mdratt.drugs + cost.dots)),0,0,0,0,0,0,0,0,0,0,0,1,0,0,1
     ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦   ¦       °--no ATT                                                                                        ,1-soc.prop.starting.att,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,1,1
     ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦   °--Not TB                                                                                                ,1-soc.prop.abn.xray.tb.dx,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦       ¦--In prison/IRC for >3 months                                                                       ,soc.prop.staying.o3.months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦       ¦   °--Refer for treatment                                                                           ,tpt.nhs.referral,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,0,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦       ¦       °--TPT outcomes                                                                              ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦       ¦           ¦--gets TPT                                                                              ,soc.prop.staying.o3.months.tpt,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦       ¦           ¦   ¦--completed TPT                                                                     ,soc.prop.staying.o3.months.complete.tpt,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,0,durTPT*(cost.dots) + TPT.visits*(cost.prison.escort),durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦       ¦           ¦   °--did not complete TPT                                                              ,1-soc.prop.staying.o3.months.complete.tpt,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,0,IncompDurTPT*(durTPT*(cost.dots) + TPT.visits*(cost.prison.escort)),IncompDurTPT*(durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit)),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦       ¦           °--does not get TPT                                                                      ,1-soc.prop.staying.o3.months.tpt,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,1
     ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦       °--In prison/IRC for <3 months                                                                       ,1-soc.prop.staying.o3.months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦           ¦--Remaining in the UK (community or other prison/IRC)                                           ,soc.prop.staying.u3.months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦           ¦   °--Refer for treatment and forward details to receiving prison/community TB nurse            ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦           ¦       °--TPT outcomes                                                                          ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦           ¦           ¦--gets TPT                                                                          ,soc.prop.staying.u3.months.uk.tpt,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦           ¦           ¦   ¦--completed TPT                                                                 ,soc.prop.staying.u3.months.uk.complete.tpt,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,0,durTPT*(cost.dots) + TPT.visits*(cost.prison.escort),durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦           ¦           ¦   °--did not complete TPT                                                          ,1-soc.prop.staying.u3.months.uk.complete.tpt,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,0,IncompDurTPT*(durTPT*(cost.dots) + TPT.visits*(cost.prison.escort)),IncompDurTPT*(durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit)),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦           ¦           °--does not get TPT                                                                  ,1-soc.prop.staying.u3.months.uk.tpt,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,1
     ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦           °--Early removal scheme or deportation                                                           ,1-soc.prop.staying.u3.months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   °--did not Attend                                                                                            ,1-soc.prop.abn.xray.nhs.attend.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦   ¦   °--Not referred to NHS TB service                                                                                ,1-soc.prop.abn.xray.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦   °--Normal chest x-ray                                                                                                ,1-soc.prop.abnormal.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦       ¦--In prison/IRC for >3 months                                                                                   ,soc.prop.staying.o3.months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦       ¦   °--Refer for treatment                                                                                       ,tpt.nhs.referral,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,0,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦       ¦       °--TPT outcomes                                                                                          ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦       ¦           ¦--gets TPT                                                                                          ,soc.prop.staying.o3.months.tpt,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦       ¦           ¦   ¦--completed TPT                                                                                 ,soc.prop.staying.o3.months.complete.tpt,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,0,durTPT*(cost.dots) + TPT.visits*(cost.prison.escort),durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦       ¦           ¦   °--did not complete TPT                                                                          ,1-soc.prop.staying.o3.months.complete.tpt,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,0,IncompDurTPT*(durTPT*(cost.dots) + TPT.visits*(cost.prison.escort)),IncompDurTPT*(durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit)),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦       ¦           °--does not get TPT                                                                                  ,1-soc.prop.staying.o3.months.tpt,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,1
     ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦       °--In prison/IRC for <3 months                                                                                   ,1-soc.prop.staying.o3.months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦           ¦--Remaining in the UK (community or other prison/IRC)                                                       ,soc.prop.staying.u3.months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦           ¦   °--Refer for treatment and forward details to receiving prison/community TB nurse                        ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦           ¦       °--TPT outcomes                                                                                      ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦           ¦           ¦--gets TPT                                                                                      ,soc.prop.staying.u3.months.uk.tpt,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦           ¦           ¦   ¦--completed TPT                                                                             ,soc.prop.staying.u3.months.uk.complete.tpt,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,0,durTPT*(cost.dots) + TPT.visits*(cost.prison.escort),durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦           ¦           ¦   °--did not complete TPT                                                                      ,1-soc.prop.staying.u3.months.uk.complete.tpt,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,0,IncompDurTPT*(durTPT*(cost.dots) + TPT.visits*(cost.prison.escort)),IncompDurTPT*(durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit)),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦           ¦           °--does not get TPT                                                                              ,1-soc.prop.staying.u3.months.uk.tpt,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,1
     ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦           °--Early removal scheme or deportation                                                                       ,1-soc.prop.staying.u3.months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦       ¦   ¦   ¦       ¦           ¦   ¦       °--No chest x-ray                                                                                                        ,1-soc.prop.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦   ¦       ¦           ¦   ¦           ¦--Referred to NHS TB service                                                                                        ,soc.prop.no.xray.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦   ¦       ¦           ¦   ¦           ¦   ¦--Attended                                                                                                      ,soc.prop.no.xray.nhs.attend.referral,cost.nhs.tb.service + cost.prison.escort + cost.tb.investigations,0,0,cost.nhs.tb.service + cost.prison.escort + cost.tb.investigations,0,cost.prison.escort,cost.nhs.tb.service + cost.tb.investigations,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦   ¦       ¦           ¦   ¦           ¦   ¦   ¦--TB                                                                                                        ,soc.prop.no.xray.tb.dx,pIsolation*cost.prison.cell.isolation + cost.contact.tracing,0,0,pIsolation*cost.prison.cell.isolation + cost.contact.tracing,0,pIsolation*cost.prison.cell.isolation + cost.contact.tracing,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
     ¦       ¦   ¦   ¦       ¦           ¦   ¦           ¦   ¦   ¦   °--TB outcomes                                                                                           ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦   ¦       ¦           ¦   ¦           ¦   ¦   ¦       ¦--ATT                                                                                               ,soc.prop.starting.att,pAttending*(cost.nhs.tb.service + cost.prison.escort),0,0,0,pAttending*(cost.nhs.tb.service + cost.prison.escort),pAttending*(cost.prison.escort),pAttending*(cost.nhs.tb.service),0,0,0,0,0,0,0,0,0,1,0,0,0,0,0
     ¦       ¦   ¦   ¦       ¦           ¦   ¦           ¦   ¦   ¦       ¦   ¦--completed ATT                                                                                 ,soc.prop.completing.att,(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + (1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visit + cost.prison.escort)) + (pDSTB*DurDSTB*cost.dsatt.drugs + (1-pDSTB)*DurMDRTB*cost.mdratt.drugs) + cost.dots*(pDSTB*DurDSTB + (1-pDSTB)*DurMDRTB),0,0,0,(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + (1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visit + cost.prison.escort)) + (pDSTB*DurDSTB*cost.dsatt.drugs + (1-pDSTB)*DurMDRTB*cost.mdratt.drugs) + cost.dots*(pDSTB*DurDSTB + (1-pDSTB)*DurMDRTB),(pDSTB*dstb.visits*(cost.prison.escort) + (1-pDSTB)*mdrtb.visits*(cost.prison.escort)),(pDSTB*dstb.visits*(cost.dstb.opd.visit ) + (1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visit )) + (pDSTB*DurDSTB*cost.dsatt.drugs + (1-pDSTB)*DurMDRTB*cost.mdratt.drugs) + cost.dots*(pDSTB*DurDSTB + (1-pDSTB)*DurMDRTB),0,0,0,0,0,0,0,0,0,0,0,1,0,0,1
     ¦       ¦   ¦   ¦       ¦           ¦   ¦           ¦   ¦   ¦       ¦   °--did not complete ATT                                                                          ,1-soc.prop.completing.att,IncompDurDSTB/DurDSTB*(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + pDSTB*DurDSTB*(cost.dsatt.drugs + cost.dots))+ IncompDurMDRTB/DurMDRTB*((1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visits + cost.prison.escort)  + (1-pDSTB)*DurMDRTB*(cost.mdratt.drugs + cost.dots)),0,0,0,IncompDurDSTB/DurDSTB*(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + pDSTB*DurDSTB*(cost.dsatt.drugs + cost.dots))+ IncompDurMDRTB/DurMDRTB*((1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visits + cost.prison.escort)  + (1-pDSTB)*DurMDRTB*(cost.mdratt.drugs + cost.dots)),IncompDurDSTB/DurDSTB*pDSTB*dstb.visits*(cost.prison.escort) + IncompDurMDRTB/DurMDRTB*(1-pDSTB)*mdrtb.visits*(cost.prison.escort),IncompDurDSTB/DurDSTB*(pDSTB*dstb.visits*(cost.dstb.opd.visit) + pDSTB*DurDSTB*(cost.dsatt.drugs + cost.dots))+ IncompDurMDRTB/DurMDRTB*((1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visits)  + (1-pDSTB)*DurMDRTB*(cost.mdratt.drugs + cost.dots)),0,0,0,0,0,0,0,0,0,0,0,1,0,0,1
     ¦       ¦   ¦   ¦       ¦           ¦   ¦           ¦   ¦   ¦       °--no ATT                                                                                            ,1-soc.prop.starting.att,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,1,1
     ¦       ¦   ¦   ¦       ¦           ¦   ¦           ¦   ¦   °--Not TB                                                                                                    ,1-soc.prop.no.xray.tb.dx,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦   ¦       ¦           ¦   ¦           ¦   ¦       ¦--In prison/IRC for >3 months                                                                           ,soc.prop.staying.o3.months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦   ¦       ¦           ¦   ¦           ¦   ¦       ¦   °--Refer for treatment                                                                               ,tpt.nhs.referral,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,0,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦   ¦       ¦           ¦   ¦           ¦   ¦       ¦       °--TPT outcomes                                                                                  ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦   ¦       ¦           ¦   ¦           ¦   ¦       ¦           ¦--gets TPT                                                                                  ,soc.prop.staying.o3.months.tpt,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦   ¦       ¦           ¦   ¦           ¦   ¦       ¦           ¦   ¦--completed TPT                                                                         ,soc.prop.staying.o3.months.complete.tpt,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,0,durTPT*(cost.dots) + TPT.visits*(cost.prison.escort),durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦       ¦   ¦   ¦       ¦           ¦   ¦           ¦   ¦       ¦           ¦   °--did not complete TPT                                                                  ,1-soc.prop.staying.o3.months.complete.tpt,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,0,IncompDurTPT*(durTPT*(cost.dots) + TPT.visits*(cost.prison.escort)),IncompDurTPT*(durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit)),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦       ¦   ¦   ¦       ¦           ¦   ¦           ¦   ¦       ¦           °--does not get TPT                                                                          ,1-soc.prop.staying.o3.months.tpt,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,1
     ¦       ¦   ¦   ¦       ¦           ¦   ¦           ¦   ¦       °--In prison/IRC for <3 months                                                                           ,1-soc.prop.staying.o3.months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦   ¦       ¦           ¦   ¦           ¦   ¦           ¦--Remaining in the UK (community or other prison/IRC)                                               ,soc.prop.staying.u3.months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦   ¦       ¦           ¦   ¦           ¦   ¦           ¦   °--Refer for treatment and forward details to receiving prison/community TB nurse                ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦   ¦       ¦           ¦   ¦           ¦   ¦           ¦       °--TPT outcomes                                                                              ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦   ¦       ¦           ¦   ¦           ¦   ¦           ¦           ¦--gets TPT                                                                              ,soc.prop.staying.u3.months.uk.tpt,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦   ¦       ¦           ¦   ¦           ¦   ¦           ¦           ¦   ¦--completed TPT                                                                     ,soc.prop.staying.u3.months.uk.complete.tpt,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,0,durTPT*(cost.dots) + TPT.visits*(cost.prison.escort),durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦       ¦   ¦   ¦       ¦           ¦   ¦           ¦   ¦           ¦           ¦   °--did not complete TPT                                                              ,1-soc.prop.staying.u3.months.uk.complete.tpt,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,0,IncompDurTPT*(durTPT*(cost.dots) + TPT.visits*(cost.prison.escort)),IncompDurTPT*(durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit)),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦       ¦   ¦   ¦       ¦           ¦   ¦           ¦   ¦           ¦           °--does not get TPT                                                                      ,1-soc.prop.staying.u3.months.uk.tpt,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,1
     ¦       ¦   ¦   ¦       ¦           ¦   ¦           ¦   ¦           °--Early removal scheme or deportation                                                               ,1-soc.prop.staying.u3.months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦       ¦   ¦   ¦       ¦           ¦   ¦           ¦   °--did not Attend                                                                                                ,1-soc.prop.no.xray.nhs.attend.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦       ¦   ¦   ¦       ¦           ¦   ¦           °--Not referred to NHS TB service                                                                                    ,1-soc.prop.no.xray.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦       ¦   ¦   ¦       ¦           ¦   °--IGRA test -                                                                                                                   ,1-soc.prop.igra.test.positive,0,0,0,0,0,0,0,0,0,0,1,0,0,1,0,0,0,0,0,0,0,1
     ¦       ¦   ¦   ¦       ¦           °--no IGRA test                                                                                                                      ,1-soc.prop.igra.tested,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦       ¦   ¦   ¦       °--did not attend                                                                                                                                ,1-soc.prop.no.prev.tb.dx.symp.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦       ¦   ¦   °--No clinical suspicion of TB                                                                                                                           ,1-soc.prop.no.prev.tb.dx.symp.tb.suspicion,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦       °--LTBI pathway                                                                                                                                      ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦           ¦--IGRA test                                                                                                                                     ,soc.prop.igra.tested,cost.igra.test,0,cost.igra.test,0,0,0,cost.igra.test,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦           ¦   ¦--IGRA test +                                                                                                                               ,soc.prop.igra.test.positive,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦           ¦   ¦   ¦--Previous chest x-ray                                                                                                                  ,soc.prop.prev.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦           ¦   ¦   ¦   ¦--Abornomal chest x-ray                                                                                                             ,soc.prop.abnormal.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦           ¦   ¦   ¦   ¦   ¦--Referred to NHS TB service                                                                                                    ,soc.prop.abn.xray.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦           ¦   ¦   ¦   ¦   ¦   ¦--Attended                                                                                                                  ,soc.prop.abn.xray.nhs.attend.referral,cost.nhs.tb.service + cost.prison.escort + cost.tb.investigations,0,0,cost.nhs.tb.service + cost.prison.escort + cost.tb.investigations,0,cost.prison.escort,cost.nhs.tb.service + cost.tb.investigations,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦           ¦   ¦   ¦   ¦   ¦   ¦   ¦--TB                                                                                                                    ,soc.prop.abn.xray.tb.dx,pIsolation*cost.prison.cell.isolation + cost.contact.tracing,0,0,pIsolation*cost.prison.cell.isolation + cost.contact.tracing,0,pIsolation*cost.prison.cell.isolation + cost.contact.tracing,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
     ¦       ¦   ¦           ¦   ¦   ¦   ¦   ¦   ¦   ¦   °--TB outcomes                                                                                                       ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦           ¦   ¦   ¦   ¦   ¦   ¦   ¦       ¦--ATT                                                                                                           ,soc.prop.starting.att,pAttending*(cost.nhs.tb.service + cost.prison.escort),0,0,0,pAttending*(cost.nhs.tb.service + cost.prison.escort),pAttending*(cost.prison.escort),pAttending*(cost.nhs.tb.service),0,0,0,0,0,0,0,0,0,1,0,0,0,0,0
     ¦       ¦   ¦           ¦   ¦   ¦   ¦   ¦   ¦   ¦       ¦   ¦--completed ATT                                                                                             ,soc.prop.completing.att,(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + (1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visit + cost.prison.escort)) + (pDSTB*DurDSTB*cost.dsatt.drugs + (1-pDSTB)*DurMDRTB*cost.mdratt.drugs) + cost.dots*(pDSTB*DurDSTB + (1-pDSTB)*DurMDRTB),0,0,0,(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + (1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visit + cost.prison.escort)) + (pDSTB*DurDSTB*cost.dsatt.drugs + (1-pDSTB)*DurMDRTB*cost.mdratt.drugs) + cost.dots*(pDSTB*DurDSTB + (1-pDSTB)*DurMDRTB),(pDSTB*dstb.visits*(cost.prison.escort) + (1-pDSTB)*mdrtb.visits*(cost.prison.escort)),(pDSTB*dstb.visits*(cost.dstb.opd.visit ) + (1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visit )) + (pDSTB*DurDSTB*cost.dsatt.drugs + (1-pDSTB)*DurMDRTB*cost.mdratt.drugs) + cost.dots*(pDSTB*DurDSTB + (1-pDSTB)*DurMDRTB),0,0,0,0,0,0,0,0,0,0,0,1,0,0,1
     ¦       ¦   ¦           ¦   ¦   ¦   ¦   ¦   ¦   ¦       ¦   °--did not complete ATT                                                                                      ,1-soc.prop.completing.att,IncompDurDSTB/DurDSTB*(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + pDSTB*DurDSTB*(cost.dsatt.drugs + cost.dots))+ IncompDurMDRTB/DurMDRTB*((1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visits + cost.prison.escort)  + (1-pDSTB)*DurMDRTB*(cost.mdratt.drugs + cost.dots)),0,0,0,IncompDurDSTB/DurDSTB*(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + pDSTB*DurDSTB*(cost.dsatt.drugs + cost.dots))+ IncompDurMDRTB/DurMDRTB*((1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visits + cost.prison.escort)  + (1-pDSTB)*DurMDRTB*(cost.mdratt.drugs + cost.dots)),IncompDurDSTB/DurDSTB*pDSTB*dstb.visits*(cost.prison.escort) + IncompDurMDRTB/DurMDRTB*(1-pDSTB)*mdrtb.visits*(cost.prison.escort),IncompDurDSTB/DurDSTB*(pDSTB*dstb.visits*(cost.dstb.opd.visit) + pDSTB*DurDSTB*(cost.dsatt.drugs + cost.dots))+ IncompDurMDRTB/DurMDRTB*((1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visits)  + (1-pDSTB)*DurMDRTB*(cost.mdratt.drugs + cost.dots)),0,0,0,0,0,0,0,0,0,0,0,1,0,0,1
     ¦       ¦   ¦           ¦   ¦   ¦   ¦   ¦   ¦   ¦       °--no ATT                                                                                                        ,1-soc.prop.starting.att,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,1,1
     ¦       ¦   ¦           ¦   ¦   ¦   ¦   ¦   ¦   °--Not TB                                                                                                                ,1-soc.prop.abn.xray.tb.dx,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦           ¦   ¦   ¦   ¦   ¦   ¦       ¦--In prison/IRC for >3 months                                                                                       ,soc.prop.staying.o3.months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦           ¦   ¦   ¦   ¦   ¦   ¦       ¦   °--Refer for treatment                                                                                           ,tpt.nhs.referral,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,0,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦           ¦   ¦   ¦   ¦   ¦   ¦       ¦       °--TPT outcomes                                                                                              ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦           ¦   ¦   ¦   ¦   ¦   ¦       ¦           ¦--gets TPT                                                                                              ,soc.prop.staying.o3.months.tpt,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦           ¦   ¦   ¦   ¦   ¦   ¦       ¦           ¦   ¦--completed TPT                                                                                     ,soc.prop.staying.o3.months.complete.tpt,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,0,durTPT*(cost.dots) + TPT.visits*(cost.prison.escort),durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦       ¦   ¦           ¦   ¦   ¦   ¦   ¦   ¦       ¦           ¦   °--did not complete TPT                                                                              ,1-soc.prop.staying.o3.months.complete.tpt,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,0,IncompDurTPT*(durTPT*(cost.dots) + TPT.visits*(cost.prison.escort)),IncompDurTPT*(durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit)),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦       ¦   ¦           ¦   ¦   ¦   ¦   ¦   ¦       ¦           °--does not get TPT                                                                                      ,1-soc.prop.staying.o3.months.tpt,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,1
     ¦       ¦   ¦           ¦   ¦   ¦   ¦   ¦   ¦       °--In prison/IRC for <3 months                                                                                       ,1-soc.prop.staying.o3.months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦           ¦   ¦   ¦   ¦   ¦   ¦           ¦--Remaining in the UK (community or other prison/IRC)                                                           ,soc.prop.staying.u3.months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦           ¦   ¦   ¦   ¦   ¦   ¦           ¦   °--Refer for treatment and forward details to receiving prison/community TB nurse                            ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦           ¦   ¦   ¦   ¦   ¦   ¦           ¦       °--TPT outcomes                                                                                          ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦           ¦   ¦   ¦   ¦   ¦   ¦           ¦           ¦--gets TPT                                                                                          ,soc.prop.staying.u3.months.uk.tpt,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦           ¦   ¦   ¦   ¦   ¦   ¦           ¦           ¦   ¦--completed TPT                                                                                 ,soc.prop.staying.u3.months.uk.complete.tpt,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,0,durTPT*(cost.dots) + TPT.visits*(cost.prison.escort),durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦       ¦   ¦           ¦   ¦   ¦   ¦   ¦   ¦           ¦           ¦   °--did not complete TPT                                                                          ,1-soc.prop.staying.u3.months.uk.complete.tpt,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,0,IncompDurTPT*(durTPT*(cost.dots) + TPT.visits*(cost.prison.escort)),IncompDurTPT*(durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit)),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦       ¦   ¦           ¦   ¦   ¦   ¦   ¦   ¦           ¦           °--does not get TPT                                                                                  ,1-soc.prop.staying.u3.months.uk.tpt,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,1
     ¦       ¦   ¦           ¦   ¦   ¦   ¦   ¦   ¦           °--Early removal scheme or deportation                                                                           ,1-soc.prop.staying.u3.months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦       ¦   ¦           ¦   ¦   ¦   ¦   ¦   °--did not Attend                                                                                                            ,1-soc.prop.abn.xray.nhs.attend.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦       ¦   ¦           ¦   ¦   ¦   ¦   °--Not referred to NHS TB service                                                                                                ,1-soc.prop.abn.xray.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦       ¦   ¦           ¦   ¦   ¦   °--Normal chest x-ray                                                                                                                ,1-soc.prop.abnormal.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦           ¦   ¦   ¦       ¦--In prison/IRC for >3 months                                                                                                   ,soc.prop.staying.o3.months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦           ¦   ¦   ¦       ¦   °--Refer for treatment                                                                                                       ,tpt.nhs.referral,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,0,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦           ¦   ¦   ¦       ¦       °--TPT outcomes                                                                                                          ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦           ¦   ¦   ¦       ¦           ¦--gets TPT                                                                                                          ,soc.prop.staying.o3.months.tpt,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦           ¦   ¦   ¦       ¦           ¦   ¦--completed TPT                                                                                                 ,soc.prop.staying.o3.months.complete.tpt,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,0,durTPT*(cost.dots) + TPT.visits*(cost.prison.escort),durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦       ¦   ¦           ¦   ¦   ¦       ¦           ¦   °--did not complete TPT                                                                                          ,1-soc.prop.staying.o3.months.complete.tpt,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,0,IncompDurTPT*(durTPT*(cost.dots) + TPT.visits*(cost.prison.escort)),IncompDurTPT*(durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit)),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦       ¦   ¦           ¦   ¦   ¦       ¦           °--does not get TPT                                                                                                  ,1-soc.prop.staying.o3.months.tpt,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,1
     ¦       ¦   ¦           ¦   ¦   ¦       °--In prison/IRC for <3 months                                                                                                   ,1-soc.prop.staying.o3.months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦           ¦   ¦   ¦           ¦--Remaining in the UK (community or other prison/IRC)                                                                       ,soc.prop.staying.u3.months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦           ¦   ¦   ¦           ¦   °--Refer for treatment and forward details to receiving prison/community TB nurse                                        ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦           ¦   ¦   ¦           ¦       °--TPT outcomes                                                                                                      ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦           ¦   ¦   ¦           ¦           ¦--gets TPT                                                                                                      ,soc.prop.staying.u3.months.uk.tpt,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦           ¦   ¦   ¦           ¦           ¦   ¦--completed TPT                                                                                             ,soc.prop.staying.u3.months.uk.complete.tpt,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,0,durTPT*(cost.dots) + TPT.visits*(cost.prison.escort),durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦       ¦   ¦           ¦   ¦   ¦           ¦           ¦   °--did not complete TPT                                                                                      ,1-soc.prop.staying.u3.months.uk.complete.tpt,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,0,IncompDurTPT*(durTPT*(cost.dots) + TPT.visits*(cost.prison.escort)),IncompDurTPT*(durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit)),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦       ¦   ¦           ¦   ¦   ¦           ¦           °--does not get TPT                                                                                              ,1-soc.prop.staying.u3.months.uk.tpt,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,1
     ¦       ¦   ¦           ¦   ¦   ¦           °--Early removal scheme or deportation                                                                                       ,1-soc.prop.staying.u3.months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦       ¦   ¦           ¦   ¦   °--No previous chest x-ray                                                                                                               ,1-soc.prop.prev.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦           ¦   ¦       ¦--Chest x-ray                                                                                                                       ,soc.prop.xray,cost.chest.xray,0,0,cost.chest.xray,0,0,cost.chest.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦           ¦   ¦       ¦   ¦--Abornomal chest x-ray                                                                                                         ,soc.prop.abnormal.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦           ¦   ¦       ¦   ¦   ¦--Referred to NHS TB service                                                                                                ,soc.prop.abn.xray.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦           ¦   ¦       ¦   ¦   ¦   ¦--Attended                                                                                                              ,soc.prop.abn.xray.nhs.attend.referral,cost.nhs.tb.service + cost.prison.escort + cost.tb.investigations,0,0,cost.nhs.tb.service + cost.prison.escort + cost.tb.investigations,0,cost.prison.escort,cost.nhs.tb.service + cost.tb.investigations,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦           ¦   ¦       ¦   ¦   ¦   ¦   ¦--TB                                                                                                                ,soc.prop.abn.xray.tb.dx,pIsolation*cost.prison.cell.isolation + cost.contact.tracing,0,0,pIsolation*cost.prison.cell.isolation + cost.contact.tracing,0,pIsolation*cost.prison.cell.isolation + cost.contact.tracing,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
     ¦       ¦   ¦           ¦   ¦       ¦   ¦   ¦   ¦   ¦   °--TB outcomes                                                                                                   ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦           ¦   ¦       ¦   ¦   ¦   ¦   ¦       ¦--ATT                                                                                                       ,soc.prop.starting.att,pAttending*(cost.nhs.tb.service + cost.prison.escort),0,0,0,pAttending*(cost.nhs.tb.service + cost.prison.escort),pAttending*(cost.prison.escort),pAttending*(cost.nhs.tb.service),0,0,0,0,0,0,0,0,0,1,0,0,0,0,0
     ¦       ¦   ¦           ¦   ¦       ¦   ¦   ¦   ¦   ¦       ¦   ¦--completed ATT                                                                                         ,soc.prop.completing.att,(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + (1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visit + cost.prison.escort)) + (pDSTB*DurDSTB*cost.dsatt.drugs + (1-pDSTB)*DurMDRTB*cost.mdratt.drugs) + cost.dots*(pDSTB*DurDSTB + (1-pDSTB)*DurMDRTB),0,0,0,(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + (1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visit + cost.prison.escort)) + (pDSTB*DurDSTB*cost.dsatt.drugs + (1-pDSTB)*DurMDRTB*cost.mdratt.drugs) + cost.dots*(pDSTB*DurDSTB + (1-pDSTB)*DurMDRTB),(pDSTB*dstb.visits*(cost.prison.escort) + (1-pDSTB)*mdrtb.visits*(cost.prison.escort)),(pDSTB*dstb.visits*(cost.dstb.opd.visit ) + (1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visit )) + (pDSTB*DurDSTB*cost.dsatt.drugs + (1-pDSTB)*DurMDRTB*cost.mdratt.drugs) + cost.dots*(pDSTB*DurDSTB + (1-pDSTB)*DurMDRTB),0,0,0,0,0,0,0,0,0,0,0,1,0,0,1
     ¦       ¦   ¦           ¦   ¦       ¦   ¦   ¦   ¦   ¦       ¦   °--did not complete ATT                                                                                  ,1-soc.prop.completing.att,IncompDurDSTB/DurDSTB*(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + pDSTB*DurDSTB*(cost.dsatt.drugs + cost.dots))+ IncompDurMDRTB/DurMDRTB*((1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visits + cost.prison.escort)  + (1-pDSTB)*DurMDRTB*(cost.mdratt.drugs + cost.dots)),0,0,0,IncompDurDSTB/DurDSTB*(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + pDSTB*DurDSTB*(cost.dsatt.drugs + cost.dots))+ IncompDurMDRTB/DurMDRTB*((1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visits + cost.prison.escort)  + (1-pDSTB)*DurMDRTB*(cost.mdratt.drugs + cost.dots)),IncompDurDSTB/DurDSTB*pDSTB*dstb.visits*(cost.prison.escort) + IncompDurMDRTB/DurMDRTB*(1-pDSTB)*mdrtb.visits*(cost.prison.escort),IncompDurDSTB/DurDSTB*(pDSTB*dstb.visits*(cost.dstb.opd.visit) + pDSTB*DurDSTB*(cost.dsatt.drugs + cost.dots))+ IncompDurMDRTB/DurMDRTB*((1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visits)  + (1-pDSTB)*DurMDRTB*(cost.mdratt.drugs + cost.dots)),0,0,0,0,0,0,0,0,0,0,0,1,0,0,1
     ¦       ¦   ¦           ¦   ¦       ¦   ¦   ¦   ¦   ¦       °--no ATT                                                                                                    ,1-soc.prop.starting.att,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,1,1
     ¦       ¦   ¦           ¦   ¦       ¦   ¦   ¦   ¦   °--Not TB                                                                                                            ,1-soc.prop.abn.xray.tb.dx,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦           ¦   ¦       ¦   ¦   ¦   ¦       ¦--In prison/IRC for >3 months                                                                                   ,soc.prop.staying.o3.months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦           ¦   ¦       ¦   ¦   ¦   ¦       ¦   °--Refer for treatment                                                                                       ,tpt.nhs.referral,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,0,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦           ¦   ¦       ¦   ¦   ¦   ¦       ¦       °--TPT outcomes                                                                                          ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦           ¦   ¦       ¦   ¦   ¦   ¦       ¦           ¦--gets TPT                                                                                          ,soc.prop.staying.o3.months.tpt,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦           ¦   ¦       ¦   ¦   ¦   ¦       ¦           ¦   ¦--completed TPT                                                                                 ,soc.prop.staying.o3.months.complete.tpt,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,0,durTPT*(cost.dots) + TPT.visits*(cost.prison.escort),durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦       ¦   ¦           ¦   ¦       ¦   ¦   ¦   ¦       ¦           ¦   °--did not complete TPT                                                                          ,1-soc.prop.staying.o3.months.complete.tpt,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,0,IncompDurTPT*(durTPT*(cost.dots) + TPT.visits*(cost.prison.escort)),IncompDurTPT*(durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit)),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦       ¦   ¦           ¦   ¦       ¦   ¦   ¦   ¦       ¦           °--does not get TPT                                                                                  ,1-soc.prop.staying.o3.months.tpt,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,1
     ¦       ¦   ¦           ¦   ¦       ¦   ¦   ¦   ¦       °--In prison/IRC for <3 months                                                                                   ,1-soc.prop.staying.o3.months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦           ¦   ¦       ¦   ¦   ¦   ¦           ¦--Remaining in the UK (community or other prison/IRC)                                                       ,soc.prop.staying.u3.months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦           ¦   ¦       ¦   ¦   ¦   ¦           ¦   °--Refer for treatment and forward details to receiving prison/community TB nurse                        ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦           ¦   ¦       ¦   ¦   ¦   ¦           ¦       °--TPT outcomes                                                                                      ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦           ¦   ¦       ¦   ¦   ¦   ¦           ¦           ¦--gets TPT                                                                                      ,soc.prop.staying.u3.months.uk.tpt,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦           ¦   ¦       ¦   ¦   ¦   ¦           ¦           ¦   ¦--completed TPT                                                                             ,soc.prop.staying.u3.months.uk.complete.tpt,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,0,durTPT*(cost.dots) + TPT.visits*(cost.prison.escort),durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦       ¦   ¦           ¦   ¦       ¦   ¦   ¦   ¦           ¦           ¦   °--did not complete TPT                                                                      ,1-soc.prop.staying.u3.months.uk.complete.tpt,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,0,IncompDurTPT*(durTPT*(cost.dots) + TPT.visits*(cost.prison.escort)),IncompDurTPT*(durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit)),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦       ¦   ¦           ¦   ¦       ¦   ¦   ¦   ¦           ¦           °--does not get TPT                                                                              ,1-soc.prop.staying.u3.months.uk.tpt,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,1
     ¦       ¦   ¦           ¦   ¦       ¦   ¦   ¦   ¦           °--Early removal scheme or deportation                                                                       ,1-soc.prop.staying.u3.months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦       ¦   ¦           ¦   ¦       ¦   ¦   ¦   °--did not Attend                                                                                                        ,1-soc.prop.abn.xray.nhs.attend.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦       ¦   ¦           ¦   ¦       ¦   ¦   °--Not referred to NHS TB service                                                                                            ,1-soc.prop.abn.xray.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦       ¦   ¦           ¦   ¦       ¦   °--Normal chest x-ray                                                                                                            ,1-soc.prop.abnormal.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦           ¦   ¦       ¦       ¦--In prison/IRC for >3 months                                                                                               ,soc.prop.staying.o3.months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦           ¦   ¦       ¦       ¦   °--Refer for treatment                                                                                                   ,tpt.nhs.referral,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,0,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦           ¦   ¦       ¦       ¦       °--TPT outcomes                                                                                                      ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦           ¦   ¦       ¦       ¦           ¦--gets TPT                                                                                                      ,soc.prop.staying.o3.months.tpt,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦           ¦   ¦       ¦       ¦           ¦   ¦--completed TPT                                                                                             ,soc.prop.staying.o3.months.complete.tpt,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,0,durTPT*(cost.dots) + TPT.visits*(cost.prison.escort),durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦       ¦   ¦           ¦   ¦       ¦       ¦           ¦   °--did not complete TPT                                                                                      ,1-soc.prop.staying.o3.months.complete.tpt,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,0,IncompDurTPT*(durTPT*(cost.dots) + TPT.visits*(cost.prison.escort)),IncompDurTPT*(durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit)),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦       ¦   ¦           ¦   ¦       ¦       ¦           °--does not get TPT                                                                                              ,1-soc.prop.staying.o3.months.tpt,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,1
     ¦       ¦   ¦           ¦   ¦       ¦       °--In prison/IRC for <3 months                                                                                               ,1-soc.prop.staying.o3.months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦           ¦   ¦       ¦           ¦--Remaining in the UK (community or other prison/IRC)                                                                   ,soc.prop.staying.u3.months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦           ¦   ¦       ¦           ¦   °--Refer for treatment and forward details to receiving prison/community TB nurse                                    ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦           ¦   ¦       ¦           ¦       °--TPT outcomes                                                                                                  ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦           ¦   ¦       ¦           ¦           ¦--gets TPT                                                                                                  ,soc.prop.staying.u3.months.uk.tpt,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦           ¦   ¦       ¦           ¦           ¦   ¦--completed TPT                                                                                         ,soc.prop.staying.u3.months.uk.complete.tpt,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,0,durTPT*(cost.dots) + TPT.visits*(cost.prison.escort),durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦       ¦   ¦           ¦   ¦       ¦           ¦           ¦   °--did not complete TPT                                                                                  ,1-soc.prop.staying.u3.months.uk.complete.tpt,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,0,IncompDurTPT*(durTPT*(cost.dots) + TPT.visits*(cost.prison.escort)),IncompDurTPT*(durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit)),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦       ¦   ¦           ¦   ¦       ¦           ¦           °--does not get TPT                                                                                          ,1-soc.prop.staying.u3.months.uk.tpt,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,1
     ¦       ¦   ¦           ¦   ¦       ¦           °--Early removal scheme or deportation                                                                                   ,1-soc.prop.staying.u3.months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦       ¦   ¦           ¦   ¦       °--No chest x-ray                                                                                                                    ,1-soc.prop.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦           ¦   ¦           ¦--Referred to NHS TB service                                                                                                    ,soc.prop.no.xray.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦           ¦   ¦           ¦   ¦--Attended                                                                                                                  ,soc.prop.no.xray.nhs.attend.referral,cost.nhs.tb.service + cost.prison.escort + cost.tb.investigations,0,0,cost.nhs.tb.service + cost.prison.escort + cost.tb.investigations,0,cost.prison.escort,cost.nhs.tb.service + cost.tb.investigations,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦           ¦   ¦           ¦   ¦   ¦--TB                                                                                                                    ,soc.prop.no.xray.tb.dx,pIsolation*cost.prison.cell.isolation + cost.contact.tracing,0,0,pIsolation*cost.prison.cell.isolation + cost.contact.tracing,0,pIsolation*cost.prison.cell.isolation + cost.contact.tracing,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
     ¦       ¦   ¦           ¦   ¦           ¦   ¦   ¦   °--TB outcomes                                                                                                       ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦           ¦   ¦           ¦   ¦   ¦       ¦--ATT                                                                                                           ,soc.prop.starting.att,pAttending*(cost.nhs.tb.service + cost.prison.escort),0,0,0,pAttending*(cost.nhs.tb.service + cost.prison.escort),pAttending*(cost.prison.escort),pAttending*(cost.nhs.tb.service),0,0,0,0,0,0,0,0,0,1,0,0,0,0,0
     ¦       ¦   ¦           ¦   ¦           ¦   ¦   ¦       ¦   ¦--completed ATT                                                                                             ,soc.prop.completing.att,(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + (1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visit + cost.prison.escort)) + (pDSTB*DurDSTB*cost.dsatt.drugs + (1-pDSTB)*DurMDRTB*cost.mdratt.drugs) + cost.dots*(pDSTB*DurDSTB + (1-pDSTB)*DurMDRTB),0,0,0,(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + (1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visit + cost.prison.escort)) + (pDSTB*DurDSTB*cost.dsatt.drugs + (1-pDSTB)*DurMDRTB*cost.mdratt.drugs) + cost.dots*(pDSTB*DurDSTB + (1-pDSTB)*DurMDRTB),(pDSTB*dstb.visits*(cost.prison.escort) + (1-pDSTB)*mdrtb.visits*(cost.prison.escort)),(pDSTB*dstb.visits*(cost.dstb.opd.visit ) + (1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visit )) + (pDSTB*DurDSTB*cost.dsatt.drugs + (1-pDSTB)*DurMDRTB*cost.mdratt.drugs) + cost.dots*(pDSTB*DurDSTB + (1-pDSTB)*DurMDRTB),0,0,0,0,0,0,0,0,0,0,0,1,0,0,1
     ¦       ¦   ¦           ¦   ¦           ¦   ¦   ¦       ¦   °--did not complete ATT                                                                                      ,1-soc.prop.completing.att,IncompDurDSTB/DurDSTB*(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + pDSTB*DurDSTB*(cost.dsatt.drugs + cost.dots))+ IncompDurMDRTB/DurMDRTB*((1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visits + cost.prison.escort)  + (1-pDSTB)*DurMDRTB*(cost.mdratt.drugs + cost.dots)),0,0,0,IncompDurDSTB/DurDSTB*(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + pDSTB*DurDSTB*(cost.dsatt.drugs + cost.dots))+ IncompDurMDRTB/DurMDRTB*((1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visits + cost.prison.escort)  + (1-pDSTB)*DurMDRTB*(cost.mdratt.drugs + cost.dots)),IncompDurDSTB/DurDSTB*pDSTB*dstb.visits*(cost.prison.escort) + IncompDurMDRTB/DurMDRTB*(1-pDSTB)*mdrtb.visits*(cost.prison.escort),IncompDurDSTB/DurDSTB*(pDSTB*dstb.visits*(cost.dstb.opd.visit) + pDSTB*DurDSTB*(cost.dsatt.drugs + cost.dots))+ IncompDurMDRTB/DurMDRTB*((1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visits)  + (1-pDSTB)*DurMDRTB*(cost.mdratt.drugs + cost.dots)),0,0,0,0,0,0,0,0,0,0,0,1,0,0,1
     ¦       ¦   ¦           ¦   ¦           ¦   ¦   ¦       °--no ATT                                                                                                        ,1-soc.prop.starting.att,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,1,1
     ¦       ¦   ¦           ¦   ¦           ¦   ¦   °--Not TB                                                                                                                ,1-soc.prop.no.xray.tb.dx,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦           ¦   ¦           ¦   ¦       ¦--In prison/IRC for >3 months                                                                                       ,soc.prop.staying.o3.months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦           ¦   ¦           ¦   ¦       ¦   °--Refer for treatment                                                                                           ,tpt.nhs.referral,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,0,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦           ¦   ¦           ¦   ¦       ¦       °--TPT outcomes                                                                                              ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦           ¦   ¦           ¦   ¦       ¦           ¦--gets TPT                                                                                              ,soc.prop.staying.o3.months.tpt,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦           ¦   ¦           ¦   ¦       ¦           ¦   ¦--completed TPT                                                                                     ,soc.prop.staying.o3.months.complete.tpt,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,0,durTPT*(cost.dots) + TPT.visits*(cost.prison.escort),durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦       ¦   ¦           ¦   ¦           ¦   ¦       ¦           ¦   °--did not complete TPT                                                                              ,1-soc.prop.staying.o3.months.complete.tpt,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,0,IncompDurTPT*(durTPT*(cost.dots) + TPT.visits*(cost.prison.escort)),IncompDurTPT*(durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit)),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦       ¦   ¦           ¦   ¦           ¦   ¦       ¦           °--does not get TPT                                                                                      ,1-soc.prop.staying.o3.months.tpt,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,1
     ¦       ¦   ¦           ¦   ¦           ¦   ¦       °--In prison/IRC for <3 months                                                                                       ,1-soc.prop.staying.o3.months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦           ¦   ¦           ¦   ¦           ¦--Remaining in the UK (community or other prison/IRC)                                                           ,soc.prop.staying.u3.months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦           ¦   ¦           ¦   ¦           ¦   °--Refer for treatment and forward details to receiving prison/community TB nurse                            ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦           ¦   ¦           ¦   ¦           ¦       °--TPT outcomes                                                                                          ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦           ¦   ¦           ¦   ¦           ¦           ¦--gets TPT                                                                                          ,soc.prop.staying.u3.months.uk.tpt,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦           ¦   ¦           ¦   ¦           ¦           ¦   ¦--completed TPT                                                                                 ,soc.prop.staying.u3.months.uk.complete.tpt,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,0,durTPT*(cost.dots) + TPT.visits*(cost.prison.escort),durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦       ¦   ¦           ¦   ¦           ¦   ¦           ¦           ¦   °--did not complete TPT                                                                          ,1-soc.prop.staying.u3.months.uk.complete.tpt,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,0,IncompDurTPT*(durTPT*(cost.dots) + TPT.visits*(cost.prison.escort)),IncompDurTPT*(durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit)),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦       ¦   ¦           ¦   ¦           ¦   ¦           ¦           °--does not get TPT                                                                                  ,1-soc.prop.staying.u3.months.uk.tpt,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,1
     ¦       ¦   ¦           ¦   ¦           ¦   ¦           °--Early removal scheme or deportation                                                                           ,1-soc.prop.staying.u3.months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦       ¦   ¦           ¦   ¦           ¦   °--did not Attend                                                                                                            ,1-soc.prop.no.xray.nhs.attend.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦       ¦   ¦           ¦   ¦           °--Not referred to NHS TB service                                                                                                ,1-soc.prop.no.xray.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦       ¦   ¦           ¦   °--IGRA test -                                                                                                                               ,1-soc.prop.igra.test.positive,0,0,0,0,0,0,0,0,0,0,1,0,0,1,0,0,0,0,0,0,0,1
     ¦       ¦   ¦           °--no IGRA test                                                                                                                                  ,1-soc.prop.igra.tested,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦       ¦   °--No prison GP assessment                                                                                                                                   ,1-soc.prop.no.prev.tb.dx.symp.gp.assess,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦       °--No TB symptoms                                                                                                                                                ,1-soc.prop.no.prev.tb.dx.symp,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦--Chest x-ray < 6 months                                                                                                                                    ,soc.prop.prev.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦   ¦--Abornomal chest x-ray                                                                                                                                 ,soc.prop.abnormal.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦   ¦   °--Urgent referral to local NHS TB service                                                                                                           ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦   ¦       ¦--Attended                                                                                                                                      ,soc.prop.abn.xray.nhs.attend.referral,cost.nhs.tb.service + cost.prison.escort + cost.tb.investigations,0,0,cost.nhs.tb.service + cost.prison.escort + cost.tb.investigations,0,cost.prison.escort,cost.nhs.tb.service + cost.tb.investigations,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦   ¦       ¦   ¦--TB                                                                                                                                        ,soc.prop.abn.xray.tb.dx,pIsolation*cost.prison.cell.isolation + cost.contact.tracing,0,0,pIsolation*cost.prison.cell.isolation + cost.contact.tracing,0,pIsolation*cost.prison.cell.isolation + cost.contact.tracing,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
     ¦           ¦   ¦       ¦   ¦   °--TB outcomes                                                                                                                           ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦   ¦       ¦   ¦       ¦--ATT                                                                                                                               ,soc.prop.starting.att,pAttending*(cost.nhs.tb.service + cost.prison.escort),0,0,0,pAttending*(cost.nhs.tb.service + cost.prison.escort),pAttending*(cost.prison.escort),pAttending*(cost.nhs.tb.service),0,0,0,0,0,0,0,0,0,1,0,0,0,0,0
     ¦           ¦   ¦       ¦   ¦       ¦   ¦--completed ATT                                                                                                                 ,soc.prop.completing.att,(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + (1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visit + cost.prison.escort)) + (pDSTB*DurDSTB*cost.dsatt.drugs + (1-pDSTB)*DurMDRTB*cost.mdratt.drugs) + cost.dots*(pDSTB*DurDSTB + (1-pDSTB)*DurMDRTB),0,0,0,(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + (1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visit + cost.prison.escort)) + (pDSTB*DurDSTB*cost.dsatt.drugs + (1-pDSTB)*DurMDRTB*cost.mdratt.drugs) + cost.dots*(pDSTB*DurDSTB + (1-pDSTB)*DurMDRTB),(pDSTB*dstb.visits*(cost.prison.escort) + (1-pDSTB)*mdrtb.visits*(cost.prison.escort)),(pDSTB*dstb.visits*(cost.dstb.opd.visit ) + (1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visit )) + (pDSTB*DurDSTB*cost.dsatt.drugs + (1-pDSTB)*DurMDRTB*cost.mdratt.drugs) + cost.dots*(pDSTB*DurDSTB + (1-pDSTB)*DurMDRTB),0,0,0,0,0,0,0,0,0,0,0,1,0,0,1
     ¦           ¦   ¦       ¦   ¦       ¦   °--did not complete ATT                                                                                                          ,1-soc.prop.completing.att,IncompDurDSTB/DurDSTB*(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + pDSTB*DurDSTB*(cost.dsatt.drugs + cost.dots))+ IncompDurMDRTB/DurMDRTB*((1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visits + cost.prison.escort)  + (1-pDSTB)*DurMDRTB*(cost.mdratt.drugs + cost.dots)),0,0,0,IncompDurDSTB/DurDSTB*(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + pDSTB*DurDSTB*(cost.dsatt.drugs + cost.dots))+ IncompDurMDRTB/DurMDRTB*((1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visits + cost.prison.escort)  + (1-pDSTB)*DurMDRTB*(cost.mdratt.drugs + cost.dots)),IncompDurDSTB/DurDSTB*pDSTB*dstb.visits*(cost.prison.escort) + IncompDurMDRTB/DurMDRTB*(1-pDSTB)*mdrtb.visits*(cost.prison.escort),IncompDurDSTB/DurDSTB*(pDSTB*dstb.visits*(cost.dstb.opd.visit) + pDSTB*DurDSTB*(cost.dsatt.drugs + cost.dots))+ IncompDurMDRTB/DurMDRTB*((1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visits)  + (1-pDSTB)*DurMDRTB*(cost.mdratt.drugs + cost.dots)),0,0,0,0,0,0,0,0,0,0,0,1,0,0,1
     ¦           ¦   ¦       ¦   ¦       °--no ATT                                                                                                                            ,1-soc.prop.starting.att,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,1,1
     ¦           ¦   ¦       ¦   °--Not TB                                                                                                                                    ,1-soc.prop.abn.xray.tb.dx,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦   ¦       ¦       °--LTBI pathway                                                                                                                          ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦   ¦       ¦           ¦--IGRA test                                                                                                                         ,soc.prop.igra.tested,cost.igra.test,0,cost.igra.test,0,0,0,cost.igra.test,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦   ¦       ¦           ¦   ¦--IGRA test +                                                                                                                   ,soc.prop.igra.test.positive,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦   ¦       ¦           ¦   ¦   ¦--Previous chest x-ray                                                                                                      ,soc.prop.prev.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦   ¦       ¦           ¦   ¦   ¦   ¦--Abornomal chest x-ray                                                                                                 ,soc.prop.abnormal.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦--Referred to NHS TB service                                                                                        ,soc.prop.abn.xray.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦--Attended                                                                                                      ,soc.prop.abn.xray.nhs.attend.referral,cost.nhs.tb.service + cost.prison.escort + cost.tb.investigations,0,0,cost.nhs.tb.service + cost.prison.escort + cost.tb.investigations,0,cost.prison.escort,cost.nhs.tb.service + cost.tb.investigations,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦   ¦--TB                                                                                                        ,soc.prop.abn.xray.tb.dx,pIsolation*cost.prison.cell.isolation + cost.contact.tracing,0,0,pIsolation*cost.prison.cell.isolation + cost.contact.tracing,0,pIsolation*cost.prison.cell.isolation + cost.contact.tracing,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
     ¦           ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦   ¦   °--TB outcomes                                                                                           ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦   ¦       ¦--ATT                                                                                               ,soc.prop.starting.att,pAttending*(cost.nhs.tb.service + cost.prison.escort),0,0,0,pAttending*(cost.nhs.tb.service + cost.prison.escort),pAttending*(cost.prison.escort),pAttending*(cost.nhs.tb.service),0,0,0,0,0,0,0,0,0,1,0,0,0,0,0
     ¦           ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦   ¦       ¦   ¦--completed ATT                                                                                 ,soc.prop.completing.att,(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + (1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visit + cost.prison.escort)) + (pDSTB*DurDSTB*cost.dsatt.drugs + (1-pDSTB)*DurMDRTB*cost.mdratt.drugs) + cost.dots*(pDSTB*DurDSTB + (1-pDSTB)*DurMDRTB),0,0,0,(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + (1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visit + cost.prison.escort)) + (pDSTB*DurDSTB*cost.dsatt.drugs + (1-pDSTB)*DurMDRTB*cost.mdratt.drugs) + cost.dots*(pDSTB*DurDSTB + (1-pDSTB)*DurMDRTB),(pDSTB*dstb.visits*(cost.prison.escort) + (1-pDSTB)*mdrtb.visits*(cost.prison.escort)),(pDSTB*dstb.visits*(cost.dstb.opd.visit ) + (1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visit )) + (pDSTB*DurDSTB*cost.dsatt.drugs + (1-pDSTB)*DurMDRTB*cost.mdratt.drugs) + cost.dots*(pDSTB*DurDSTB + (1-pDSTB)*DurMDRTB),0,0,0,0,0,0,0,0,0,0,0,1,0,0,1
     ¦           ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦   ¦       ¦   °--did not complete ATT                                                                          ,1-soc.prop.completing.att,IncompDurDSTB/DurDSTB*(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + pDSTB*DurDSTB*(cost.dsatt.drugs + cost.dots))+ IncompDurMDRTB/DurMDRTB*((1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visits + cost.prison.escort)  + (1-pDSTB)*DurMDRTB*(cost.mdratt.drugs + cost.dots)),0,0,0,IncompDurDSTB/DurDSTB*(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + pDSTB*DurDSTB*(cost.dsatt.drugs + cost.dots))+ IncompDurMDRTB/DurMDRTB*((1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visits + cost.prison.escort)  + (1-pDSTB)*DurMDRTB*(cost.mdratt.drugs + cost.dots)),IncompDurDSTB/DurDSTB*pDSTB*dstb.visits*(cost.prison.escort) + IncompDurMDRTB/DurMDRTB*(1-pDSTB)*mdrtb.visits*(cost.prison.escort),IncompDurDSTB/DurDSTB*(pDSTB*dstb.visits*(cost.dstb.opd.visit) + pDSTB*DurDSTB*(cost.dsatt.drugs + cost.dots))+ IncompDurMDRTB/DurMDRTB*((1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visits)  + (1-pDSTB)*DurMDRTB*(cost.mdratt.drugs + cost.dots)),0,0,0,0,0,0,0,0,0,0,0,1,0,0,1
     ¦           ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦   ¦       °--no ATT                                                                                            ,1-soc.prop.starting.att,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,1,1
     ¦           ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦   °--Not TB                                                                                                    ,1-soc.prop.abn.xray.tb.dx,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦       ¦--In prison/IRC for >3 months                                                                           ,soc.prop.staying.o3.months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦       ¦   °--Refer for treatment                                                                               ,tpt.nhs.referral,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,0,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦       ¦       °--TPT outcomes                                                                                  ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦       ¦           ¦--gets TPT                                                                                  ,soc.prop.staying.o3.months.tpt,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0
     ¦           ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦       ¦           ¦   ¦--completed TPT                                                                         ,soc.prop.staying.o3.months.complete.tpt,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,0,durTPT*(cost.dots) + TPT.visits*(cost.prison.escort),durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦           ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦       ¦           ¦   °--did not complete TPT                                                                  ,1-soc.prop.staying.o3.months.complete.tpt,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,0,IncompDurTPT*(durTPT*(cost.dots) + TPT.visits*(cost.prison.escort)),IncompDurTPT*(durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit)),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦           ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦       ¦           °--does not get TPT                                                                          ,1-soc.prop.staying.o3.months.tpt,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,1
     ¦           ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦       °--In prison/IRC for <3 months                                                                           ,1-soc.prop.staying.o3.months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦           ¦--Remaining in the UK (community or other prison/IRC)                                               ,soc.prop.staying.u3.months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦           ¦   °--Refer for treatment and forward details to receiving prison/community TB nurse                ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦           ¦       °--TPT outcomes                                                                              ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦           ¦           ¦--gets TPT                                                                              ,soc.prop.staying.u3.months.uk.tpt,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0
     ¦           ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦           ¦           ¦   ¦--completed TPT                                                                     ,soc.prop.staying.u3.months.uk.complete.tpt,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,0,durTPT*(cost.dots) + TPT.visits*(cost.prison.escort),durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦           ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦           ¦           ¦   °--did not complete TPT                                                              ,1-soc.prop.staying.u3.months.uk.complete.tpt,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,0,IncompDurTPT*(durTPT*(cost.dots) + TPT.visits*(cost.prison.escort)),IncompDurTPT*(durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit)),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦           ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦           ¦           °--does not get TPT                                                                      ,1-soc.prop.staying.u3.months.uk.tpt,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,1
     ¦           ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦           °--Early removal scheme or deportation                                                               ,1-soc.prop.staying.u3.months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦           ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   °--did not Attend                                                                                                ,1-soc.prop.abn.xray.nhs.attend.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦           ¦   ¦       ¦           ¦   ¦   ¦   ¦   °--Not referred to NHS TB service                                                                                    ,1-soc.prop.abn.xray.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦           ¦   ¦       ¦           ¦   ¦   ¦   °--Normal chest x-ray                                                                                                    ,1-soc.prop.abnormal.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦   ¦       ¦           ¦   ¦   ¦       ¦--In prison/IRC for >3 months                                                                                       ,soc.prop.staying.o3.months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦   ¦       ¦           ¦   ¦   ¦       ¦   °--Refer for treatment                                                                                           ,tpt.nhs.referral,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,0,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦   ¦       ¦           ¦   ¦   ¦       ¦       °--TPT outcomes                                                                                              ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦   ¦       ¦           ¦   ¦   ¦       ¦           ¦--gets TPT                                                                                              ,soc.prop.staying.o3.months.tpt,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0
     ¦           ¦   ¦       ¦           ¦   ¦   ¦       ¦           ¦   ¦--completed TPT                                                                                     ,soc.prop.staying.o3.months.complete.tpt,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,0,durTPT*(cost.dots) + TPT.visits*(cost.prison.escort),durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦           ¦   ¦       ¦           ¦   ¦   ¦       ¦           ¦   °--did not complete TPT                                                                              ,1-soc.prop.staying.o3.months.complete.tpt,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,0,IncompDurTPT*(durTPT*(cost.dots) + TPT.visits*(cost.prison.escort)),IncompDurTPT*(durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit)),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦           ¦   ¦       ¦           ¦   ¦   ¦       ¦           °--does not get TPT                                                                                      ,1-soc.prop.staying.o3.months.tpt,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,1
     ¦           ¦   ¦       ¦           ¦   ¦   ¦       °--In prison/IRC for <3 months                                                                                       ,1-soc.prop.staying.o3.months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦   ¦       ¦           ¦   ¦   ¦           ¦--Remaining in the UK (community or other prison/IRC)                                                           ,soc.prop.staying.u3.months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦   ¦       ¦           ¦   ¦   ¦           ¦   °--Refer for treatment and forward details to receiving prison/community TB nurse                            ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦   ¦       ¦           ¦   ¦   ¦           ¦       °--TPT outcomes                                                                                          ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦   ¦       ¦           ¦   ¦   ¦           ¦           ¦--gets TPT                                                                                          ,soc.prop.staying.u3.months.uk.tpt,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0
     ¦           ¦   ¦       ¦           ¦   ¦   ¦           ¦           ¦   ¦--completed TPT                                                                                 ,soc.prop.staying.u3.months.uk.complete.tpt,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,0,durTPT*(cost.dots) + TPT.visits*(cost.prison.escort),durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦           ¦   ¦       ¦           ¦   ¦   ¦           ¦           ¦   °--did not complete TPT                                                                          ,1-soc.prop.staying.u3.months.uk.complete.tpt,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,0,IncompDurTPT*(durTPT*(cost.dots) + TPT.visits*(cost.prison.escort)),IncompDurTPT*(durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit)),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦           ¦   ¦       ¦           ¦   ¦   ¦           ¦           °--does not get TPT                                                                                  ,1-soc.prop.staying.u3.months.uk.tpt,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,1
     ¦           ¦   ¦       ¦           ¦   ¦   ¦           °--Early removal scheme or deportation                                                                           ,1-soc.prop.staying.u3.months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦           ¦   ¦       ¦           ¦   ¦   °--No previous chest x-ray                                                                                                   ,1-soc.prop.prev.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦   ¦       ¦           ¦   ¦       ¦--Chest x-ray                                                                                                           ,soc.prop.xray,cost.chest.xray,0,0,cost.chest.xray,0,0,cost.chest.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦   ¦       ¦           ¦   ¦       ¦   ¦--Abornomal chest x-ray                                                                                             ,soc.prop.abnormal.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦--Referred to NHS TB service                                                                                    ,soc.prop.abn.xray.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦--Attended                                                                                                  ,soc.prop.abn.xray.nhs.attend.referral,cost.nhs.tb.service + cost.prison.escort + cost.tb.investigations,0,0,cost.nhs.tb.service + cost.prison.escort + cost.tb.investigations,0,cost.prison.escort,cost.nhs.tb.service + cost.tb.investigations,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦   ¦--TB                                                                                                    ,soc.prop.abn.xray.tb.dx,pIsolation*cost.prison.cell.isolation + cost.contact.tracing,0,0,pIsolation*cost.prison.cell.isolation + cost.contact.tracing,0,pIsolation*cost.prison.cell.isolation + cost.contact.tracing,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
     ¦           ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦   ¦   °--TB outcomes                                                                                       ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦   ¦       ¦--ATT                                                                                           ,soc.prop.starting.att,pAttending*(cost.nhs.tb.service + cost.prison.escort),0,0,0,pAttending*(cost.nhs.tb.service + cost.prison.escort),pAttending*(cost.prison.escort),pAttending*(cost.nhs.tb.service),0,0,0,0,0,0,0,0,0,1,0,0,0,0,0
     ¦           ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦   ¦       ¦   ¦--completed ATT                                                                             ,soc.prop.completing.att,(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + (1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visit + cost.prison.escort)) + (pDSTB*DurDSTB*cost.dsatt.drugs + (1-pDSTB)*DurMDRTB*cost.mdratt.drugs) + cost.dots*(pDSTB*DurDSTB + (1-pDSTB)*DurMDRTB),0,0,0,(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + (1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visit + cost.prison.escort)) + (pDSTB*DurDSTB*cost.dsatt.drugs + (1-pDSTB)*DurMDRTB*cost.mdratt.drugs) + cost.dots*(pDSTB*DurDSTB + (1-pDSTB)*DurMDRTB),(pDSTB*dstb.visits*(cost.prison.escort) + (1-pDSTB)*mdrtb.visits*(cost.prison.escort)),(pDSTB*dstb.visits*(cost.dstb.opd.visit ) + (1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visit )) + (pDSTB*DurDSTB*cost.dsatt.drugs + (1-pDSTB)*DurMDRTB*cost.mdratt.drugs) + cost.dots*(pDSTB*DurDSTB + (1-pDSTB)*DurMDRTB),0,0,0,0,0,0,0,0,0,0,0,1,0,0,1
     ¦           ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦   ¦       ¦   °--did not complete ATT                                                                      ,1-soc.prop.completing.att,IncompDurDSTB/DurDSTB*(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + pDSTB*DurDSTB*(cost.dsatt.drugs + cost.dots))+ IncompDurMDRTB/DurMDRTB*((1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visits + cost.prison.escort)  + (1-pDSTB)*DurMDRTB*(cost.mdratt.drugs + cost.dots)),0,0,0,IncompDurDSTB/DurDSTB*(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + pDSTB*DurDSTB*(cost.dsatt.drugs + cost.dots))+ IncompDurMDRTB/DurMDRTB*((1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visits + cost.prison.escort)  + (1-pDSTB)*DurMDRTB*(cost.mdratt.drugs + cost.dots)),IncompDurDSTB/DurDSTB*pDSTB*dstb.visits*(cost.prison.escort) + IncompDurMDRTB/DurMDRTB*(1-pDSTB)*mdrtb.visits*(cost.prison.escort),IncompDurDSTB/DurDSTB*(pDSTB*dstb.visits*(cost.dstb.opd.visit) + pDSTB*DurDSTB*(cost.dsatt.drugs + cost.dots))+ IncompDurMDRTB/DurMDRTB*((1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visits)  + (1-pDSTB)*DurMDRTB*(cost.mdratt.drugs + cost.dots)),0,0,0,0,0,0,0,0,0,0,0,1,0,0,1
     ¦           ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦   ¦       °--no ATT                                                                                        ,1-soc.prop.starting.att,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,1,1
     ¦           ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦   °--Not TB                                                                                                ,1-soc.prop.abn.xray.tb.dx,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦       ¦--In prison/IRC for >3 months                                                                       ,soc.prop.staying.o3.months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦       ¦   °--Refer for treatment                                                                           ,tpt.nhs.referral,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,0,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦       ¦       °--TPT outcomes                                                                              ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦       ¦           ¦--gets TPT                                                                              ,soc.prop.staying.o3.months.tpt,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0
     ¦           ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦       ¦           ¦   ¦--completed TPT                                                                     ,soc.prop.staying.o3.months.complete.tpt,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,0,durTPT*(cost.dots) + TPT.visits*(cost.prison.escort),durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦           ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦       ¦           ¦   °--did not complete TPT                                                              ,1-soc.prop.staying.o3.months.complete.tpt,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,0,IncompDurTPT*(durTPT*(cost.dots) + TPT.visits*(cost.prison.escort)),IncompDurTPT*(durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit)),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦           ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦       ¦           °--does not get TPT                                                                      ,1-soc.prop.staying.o3.months.tpt,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,1
     ¦           ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦       °--In prison/IRC for <3 months                                                                       ,1-soc.prop.staying.o3.months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦           ¦--Remaining in the UK (community or other prison/IRC)                                           ,soc.prop.staying.u3.months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦           ¦   °--Refer for treatment and forward details to receiving prison/community TB nurse            ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦           ¦       °--TPT outcomes                                                                          ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦           ¦           ¦--gets TPT                                                                          ,soc.prop.staying.u3.months.uk.tpt,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0
     ¦           ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦           ¦           ¦   ¦--completed TPT                                                                 ,soc.prop.staying.u3.months.uk.complete.tpt,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,0,durTPT*(cost.dots) + TPT.visits*(cost.prison.escort),durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦           ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦           ¦           ¦   °--did not complete TPT                                                          ,1-soc.prop.staying.u3.months.uk.complete.tpt,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,0,IncompDurTPT*(durTPT*(cost.dots) + TPT.visits*(cost.prison.escort)),IncompDurTPT*(durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit)),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦           ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦           ¦           °--does not get TPT                                                                  ,1-soc.prop.staying.u3.months.uk.tpt,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,1
     ¦           ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦           °--Early removal scheme or deportation                                                           ,1-soc.prop.staying.u3.months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦           ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   °--did not Attend                                                                                            ,1-soc.prop.abn.xray.nhs.attend.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦           ¦   ¦       ¦           ¦   ¦       ¦   ¦   °--Not referred to NHS TB service                                                                                ,1-soc.prop.abn.xray.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦           ¦   ¦       ¦           ¦   ¦       ¦   °--Normal chest x-ray                                                                                                ,1-soc.prop.abnormal.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦   ¦       ¦           ¦   ¦       ¦       ¦--In prison/IRC for >3 months                                                                                   ,soc.prop.staying.o3.months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦   ¦       ¦           ¦   ¦       ¦       ¦   °--Refer for treatment                                                                                       ,tpt.nhs.referral,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,0,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦   ¦       ¦           ¦   ¦       ¦       ¦       °--TPT outcomes                                                                                          ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦   ¦       ¦           ¦   ¦       ¦       ¦           ¦--gets TPT                                                                                          ,soc.prop.staying.o3.months.tpt,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0
     ¦           ¦   ¦       ¦           ¦   ¦       ¦       ¦           ¦   ¦--completed TPT                                                                                 ,soc.prop.staying.o3.months.complete.tpt,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,0,durTPT*(cost.dots) + TPT.visits*(cost.prison.escort),durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦           ¦   ¦       ¦           ¦   ¦       ¦       ¦           ¦   °--did not complete TPT                                                                          ,1-soc.prop.staying.o3.months.complete.tpt,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,0,IncompDurTPT*(durTPT*(cost.dots) + TPT.visits*(cost.prison.escort)),IncompDurTPT*(durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit)),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦           ¦   ¦       ¦           ¦   ¦       ¦       ¦           °--does not get TPT                                                                                  ,1-soc.prop.staying.o3.months.tpt,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,1
     ¦           ¦   ¦       ¦           ¦   ¦       ¦       °--In prison/IRC for <3 months                                                                                   ,1-soc.prop.staying.o3.months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦   ¦       ¦           ¦   ¦       ¦           ¦--Remaining in the UK (community or other prison/IRC)                                                       ,soc.prop.staying.u3.months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦   ¦       ¦           ¦   ¦       ¦           ¦   °--Refer for treatment and forward details to receiving prison/community TB nurse                        ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦   ¦       ¦           ¦   ¦       ¦           ¦       °--TPT outcomes                                                                                      ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦   ¦       ¦           ¦   ¦       ¦           ¦           ¦--gets TPT                                                                                      ,soc.prop.staying.u3.months.uk.tpt,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0
     ¦           ¦   ¦       ¦           ¦   ¦       ¦           ¦           ¦   ¦--completed TPT                                                                             ,soc.prop.staying.u3.months.uk.complete.tpt,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,0,durTPT*(cost.dots) + TPT.visits*(cost.prison.escort),durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦           ¦   ¦       ¦           ¦   ¦       ¦           ¦           ¦   °--did not complete TPT                                                                      ,1-soc.prop.staying.u3.months.uk.complete.tpt,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,0,IncompDurTPT*(durTPT*(cost.dots) + TPT.visits*(cost.prison.escort)),IncompDurTPT*(durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit)),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦           ¦   ¦       ¦           ¦   ¦       ¦           ¦           °--does not get TPT                                                                              ,1-soc.prop.staying.u3.months.uk.tpt,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,1
     ¦           ¦   ¦       ¦           ¦   ¦       ¦           °--Early removal scheme or deportation                                                                       ,1-soc.prop.staying.u3.months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦           ¦   ¦       ¦           ¦   ¦       °--No chest x-ray                                                                                                        ,1-soc.prop.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦   ¦       ¦           ¦   ¦           ¦--Referred to NHS TB service                                                                                        ,soc.prop.no.xray.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦   ¦       ¦           ¦   ¦           ¦   ¦--Attended                                                                                                      ,soc.prop.no.xray.nhs.attend.referral,cost.nhs.tb.service + cost.prison.escort + cost.tb.investigations,0,0,cost.nhs.tb.service + cost.prison.escort + cost.tb.investigations,0,cost.prison.escort,cost.nhs.tb.service + cost.tb.investigations,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦   ¦       ¦           ¦   ¦           ¦   ¦   ¦--TB                                                                                                        ,soc.prop.no.xray.tb.dx,pIsolation*cost.prison.cell.isolation + cost.contact.tracing,0,0,pIsolation*cost.prison.cell.isolation + cost.contact.tracing,0,pIsolation*cost.prison.cell.isolation + cost.contact.tracing,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
     ¦           ¦   ¦       ¦           ¦   ¦           ¦   ¦   ¦   °--TB outcomes                                                                                           ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦   ¦       ¦           ¦   ¦           ¦   ¦   ¦       ¦--ATT                                                                                               ,soc.prop.starting.att,pAttending*(cost.nhs.tb.service + cost.prison.escort),0,0,0,pAttending*(cost.nhs.tb.service + cost.prison.escort),pAttending*(cost.prison.escort),pAttending*(cost.nhs.tb.service),0,0,0,0,0,0,0,0,0,1,0,0,0,0,0
     ¦           ¦   ¦       ¦           ¦   ¦           ¦   ¦   ¦       ¦   ¦--completed ATT                                                                                 ,soc.prop.completing.att,(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + (1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visit + cost.prison.escort)) + (pDSTB*DurDSTB*cost.dsatt.drugs + (1-pDSTB)*DurMDRTB*cost.mdratt.drugs) + cost.dots*(pDSTB*DurDSTB + (1-pDSTB)*DurMDRTB),0,0,0,(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + (1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visit + cost.prison.escort)) + (pDSTB*DurDSTB*cost.dsatt.drugs + (1-pDSTB)*DurMDRTB*cost.mdratt.drugs) + cost.dots*(pDSTB*DurDSTB + (1-pDSTB)*DurMDRTB),(pDSTB*dstb.visits*(cost.prison.escort) + (1-pDSTB)*mdrtb.visits*(cost.prison.escort)),(pDSTB*dstb.visits*(cost.dstb.opd.visit ) + (1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visit )) + (pDSTB*DurDSTB*cost.dsatt.drugs + (1-pDSTB)*DurMDRTB*cost.mdratt.drugs) + cost.dots*(pDSTB*DurDSTB + (1-pDSTB)*DurMDRTB),0,0,0,0,0,0,0,0,0,0,0,1,0,0,1
     ¦           ¦   ¦       ¦           ¦   ¦           ¦   ¦   ¦       ¦   °--did not complete ATT                                                                          ,1-soc.prop.completing.att,IncompDurDSTB/DurDSTB*(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + pDSTB*DurDSTB*(cost.dsatt.drugs + cost.dots))+ IncompDurMDRTB/DurMDRTB*((1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visits + cost.prison.escort)  + (1-pDSTB)*DurMDRTB*(cost.mdratt.drugs + cost.dots)),0,0,0,IncompDurDSTB/DurDSTB*(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + pDSTB*DurDSTB*(cost.dsatt.drugs + cost.dots))+ IncompDurMDRTB/DurMDRTB*((1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visits + cost.prison.escort)  + (1-pDSTB)*DurMDRTB*(cost.mdratt.drugs + cost.dots)),IncompDurDSTB/DurDSTB*pDSTB*dstb.visits*(cost.prison.escort) + IncompDurMDRTB/DurMDRTB*(1-pDSTB)*mdrtb.visits*(cost.prison.escort),IncompDurDSTB/DurDSTB*(pDSTB*dstb.visits*(cost.dstb.opd.visit) + pDSTB*DurDSTB*(cost.dsatt.drugs + cost.dots))+ IncompDurMDRTB/DurMDRTB*((1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visits)  + (1-pDSTB)*DurMDRTB*(cost.mdratt.drugs + cost.dots)),0,0,0,0,0,0,0,0,0,0,0,1,0,0,1
     ¦           ¦   ¦       ¦           ¦   ¦           ¦   ¦   ¦       °--no ATT                                                                                            ,1-soc.prop.starting.att,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,1,1
     ¦           ¦   ¦       ¦           ¦   ¦           ¦   ¦   °--Not TB                                                                                                    ,1-soc.prop.no.xray.tb.dx,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦   ¦       ¦           ¦   ¦           ¦   ¦       ¦--In prison/IRC for >3 months                                                                           ,soc.prop.staying.o3.months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦   ¦       ¦           ¦   ¦           ¦   ¦       ¦   °--Refer for treatment                                                                               ,tpt.nhs.referral,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,0,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦   ¦       ¦           ¦   ¦           ¦   ¦       ¦       °--TPT outcomes                                                                                  ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦   ¦       ¦           ¦   ¦           ¦   ¦       ¦           ¦--gets TPT                                                                                  ,soc.prop.staying.o3.months.tpt,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0
     ¦           ¦   ¦       ¦           ¦   ¦           ¦   ¦       ¦           ¦   ¦--completed TPT                                                                         ,soc.prop.staying.o3.months.complete.tpt,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,0,durTPT*(cost.dots) + TPT.visits*(cost.prison.escort),durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦           ¦   ¦       ¦           ¦   ¦           ¦   ¦       ¦           ¦   °--did not complete TPT                                                                  ,1-soc.prop.staying.o3.months.complete.tpt,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,0,IncompDurTPT*(durTPT*(cost.dots) + TPT.visits*(cost.prison.escort)),IncompDurTPT*(durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit)),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦           ¦   ¦       ¦           ¦   ¦           ¦   ¦       ¦           °--does not get TPT                                                                          ,1-soc.prop.staying.o3.months.tpt,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,1
     ¦           ¦   ¦       ¦           ¦   ¦           ¦   ¦       °--In prison/IRC for <3 months                                                                           ,1-soc.prop.staying.o3.months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦   ¦       ¦           ¦   ¦           ¦   ¦           ¦--Remaining in the UK (community or other prison/IRC)                                               ,soc.prop.staying.u3.months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦   ¦       ¦           ¦   ¦           ¦   ¦           ¦   °--Refer for treatment and forward details to receiving prison/community TB nurse                ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦   ¦       ¦           ¦   ¦           ¦   ¦           ¦       °--TPT outcomes                                                                              ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦   ¦       ¦           ¦   ¦           ¦   ¦           ¦           ¦--gets TPT                                                                              ,soc.prop.staying.u3.months.uk.tpt,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0
     ¦           ¦   ¦       ¦           ¦   ¦           ¦   ¦           ¦           ¦   ¦--completed TPT                                                                     ,soc.prop.staying.u3.months.uk.complete.tpt,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,0,durTPT*(cost.dots) + TPT.visits*(cost.prison.escort),durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦           ¦   ¦       ¦           ¦   ¦           ¦   ¦           ¦           ¦   °--did not complete TPT                                                              ,1-soc.prop.staying.u3.months.uk.complete.tpt,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,0,IncompDurTPT*(durTPT*(cost.dots) + TPT.visits*(cost.prison.escort)),IncompDurTPT*(durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit)),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦           ¦   ¦       ¦           ¦   ¦           ¦   ¦           ¦           °--does not get TPT                                                                      ,1-soc.prop.staying.u3.months.uk.tpt,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,1
     ¦           ¦   ¦       ¦           ¦   ¦           ¦   ¦           °--Early removal scheme or deportation                                                               ,1-soc.prop.staying.u3.months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦           ¦   ¦       ¦           ¦   ¦           ¦   °--did not Attend                                                                                                ,1-soc.prop.no.xray.nhs.attend.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦           ¦   ¦       ¦           ¦   ¦           °--Not referred to NHS TB service                                                                                    ,1-soc.prop.no.xray.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦           ¦   ¦       ¦           ¦   °--IGRA test -                                                                                                                   ,1-soc.prop.igra.test.positive,0,0,0,0,0,0,0,0,0,0,1,0,0,1,0,0,0,0,0,0,0,1
     ¦           ¦   ¦       ¦           °--no IGRA test                                                                                                                      ,1-soc.prop.igra.tested,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦           ¦   ¦       °--did not Attend                                                                                                                                ,1-soc.prop.abn.xray.nhs.attend.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦           ¦   °--Normal chest x-ray                                                                                                                                    ,1-soc.prop.abnormal.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦       °--LTBI pathway                                                                                                                                      ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦           ¦--IGRA test                                                                                                                                     ,soc.prop.igra.tested,cost.igra.test,0,cost.igra.test,0,0,0,cost.igra.test,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦           ¦   ¦--IGRA test +                                                                                                                               ,soc.prop.igra.test.positive,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦           ¦   ¦   ¦--Previous chest x-ray                                                                                                                  ,soc.prop.prev.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦           ¦   ¦   ¦   ¦--Abornomal chest x-ray                                                                                                             ,soc.prop.abnormal.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦           ¦   ¦   ¦   ¦   ¦--Referred to NHS TB service                                                                                                    ,soc.prop.abn.xray.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦           ¦   ¦   ¦   ¦   ¦   ¦--Attended                                                                                                                  ,soc.prop.abn.xray.nhs.attend.referral,cost.nhs.tb.service + cost.prison.escort + cost.tb.investigations,0,0,cost.nhs.tb.service + cost.prison.escort + cost.tb.investigations,0,cost.prison.escort,cost.nhs.tb.service + cost.tb.investigations,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦           ¦   ¦   ¦   ¦   ¦   ¦   ¦--TB                                                                                                                    ,soc.prop.abn.xray.tb.dx,pIsolation*cost.prison.cell.isolation + cost.contact.tracing,0,0,pIsolation*cost.prison.cell.isolation + cost.contact.tracing,0,pIsolation*cost.prison.cell.isolation + cost.contact.tracing,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
     ¦           ¦           ¦   ¦   ¦   ¦   ¦   ¦   ¦   °--TB outcomes                                                                                                       ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦           ¦   ¦   ¦   ¦   ¦   ¦   ¦       ¦--ATT                                                                                                           ,soc.prop.starting.att,pAttending*(cost.nhs.tb.service + cost.prison.escort),0,0,0,pAttending*(cost.nhs.tb.service + cost.prison.escort),pAttending*(cost.prison.escort),pAttending*(cost.nhs.tb.service),0,0,0,0,0,0,0,0,0,1,0,0,0,0,0
     ¦           ¦           ¦   ¦   ¦   ¦   ¦   ¦   ¦       ¦   ¦--completed ATT                                                                                             ,soc.prop.completing.att,(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + (1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visit + cost.prison.escort)) + (pDSTB*DurDSTB*cost.dsatt.drugs + (1-pDSTB)*DurMDRTB*cost.mdratt.drugs) + cost.dots*(pDSTB*DurDSTB + (1-pDSTB)*DurMDRTB),0,0,0,(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + (1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visit + cost.prison.escort)) + (pDSTB*DurDSTB*cost.dsatt.drugs + (1-pDSTB)*DurMDRTB*cost.mdratt.drugs) + cost.dots*(pDSTB*DurDSTB + (1-pDSTB)*DurMDRTB),(pDSTB*dstb.visits*(cost.prison.escort) + (1-pDSTB)*mdrtb.visits*(cost.prison.escort)),(pDSTB*dstb.visits*(cost.dstb.opd.visit ) + (1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visit )) + (pDSTB*DurDSTB*cost.dsatt.drugs + (1-pDSTB)*DurMDRTB*cost.mdratt.drugs) + cost.dots*(pDSTB*DurDSTB + (1-pDSTB)*DurMDRTB),0,0,0,0,0,0,0,0,0,0,0,1,0,0,1
     ¦           ¦           ¦   ¦   ¦   ¦   ¦   ¦   ¦       ¦   °--did not complete ATT                                                                                      ,1-soc.prop.completing.att,IncompDurDSTB/DurDSTB*(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + pDSTB*DurDSTB*(cost.dsatt.drugs + cost.dots))+ IncompDurMDRTB/DurMDRTB*((1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visits + cost.prison.escort)  + (1-pDSTB)*DurMDRTB*(cost.mdratt.drugs + cost.dots)),0,0,0,IncompDurDSTB/DurDSTB*(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + pDSTB*DurDSTB*(cost.dsatt.drugs + cost.dots))+ IncompDurMDRTB/DurMDRTB*((1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visits + cost.prison.escort)  + (1-pDSTB)*DurMDRTB*(cost.mdratt.drugs + cost.dots)),IncompDurDSTB/DurDSTB*pDSTB*dstb.visits*(cost.prison.escort) + IncompDurMDRTB/DurMDRTB*(1-pDSTB)*mdrtb.visits*(cost.prison.escort),IncompDurDSTB/DurDSTB*(pDSTB*dstb.visits*(cost.dstb.opd.visit) + pDSTB*DurDSTB*(cost.dsatt.drugs + cost.dots))+ IncompDurMDRTB/DurMDRTB*((1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visits)  + (1-pDSTB)*DurMDRTB*(cost.mdratt.drugs + cost.dots)),0,0,0,0,0,0,0,0,0,0,0,1,0,0,1
     ¦           ¦           ¦   ¦   ¦   ¦   ¦   ¦   ¦       °--no ATT                                                                                                        ,1-soc.prop.starting.att,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,1,1
     ¦           ¦           ¦   ¦   ¦   ¦   ¦   ¦   °--Not TB                                                                                                                ,1-soc.prop.abn.xray.tb.dx,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦           ¦   ¦   ¦   ¦   ¦   ¦       ¦--In prison/IRC for >3 months                                                                                       ,soc.prop.staying.o3.months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦           ¦   ¦   ¦   ¦   ¦   ¦       ¦   °--Refer for treatment                                                                                           ,tpt.nhs.referral,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,0,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦           ¦   ¦   ¦   ¦   ¦   ¦       ¦       °--TPT outcomes                                                                                              ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦           ¦   ¦   ¦   ¦   ¦   ¦       ¦           ¦--gets TPT                                                                                              ,soc.prop.staying.o3.months.tpt,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0
     ¦           ¦           ¦   ¦   ¦   ¦   ¦   ¦       ¦           ¦   ¦--completed TPT                                                                                     ,soc.prop.staying.o3.months.complete.tpt,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,0,durTPT*(cost.dots) + TPT.visits*(cost.prison.escort),durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦           ¦           ¦   ¦   ¦   ¦   ¦   ¦       ¦           ¦   °--did not complete TPT                                                                              ,1-soc.prop.staying.o3.months.complete.tpt,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,0,IncompDurTPT*(durTPT*(cost.dots) + TPT.visits*(cost.prison.escort)),IncompDurTPT*(durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit)),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦           ¦           ¦   ¦   ¦   ¦   ¦   ¦       ¦           °--does not get TPT                                                                                      ,1-soc.prop.staying.o3.months.tpt,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,1
     ¦           ¦           ¦   ¦   ¦   ¦   ¦   ¦       °--In prison/IRC for <3 months                                                                                       ,1-soc.prop.staying.o3.months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦           ¦   ¦   ¦   ¦   ¦   ¦           ¦--Remaining in the UK (community or other prison/IRC)                                                           ,soc.prop.staying.u3.months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦           ¦   ¦   ¦   ¦   ¦   ¦           ¦   °--Refer for treatment and forward details to receiving prison/community TB nurse                            ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦           ¦   ¦   ¦   ¦   ¦   ¦           ¦       °--TPT outcomes                                                                                          ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦           ¦   ¦   ¦   ¦   ¦   ¦           ¦           ¦--gets TPT                                                                                          ,soc.prop.staying.u3.months.uk.tpt,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0
     ¦           ¦           ¦   ¦   ¦   ¦   ¦   ¦           ¦           ¦   ¦--completed TPT                                                                                 ,soc.prop.staying.u3.months.uk.complete.tpt,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,0,durTPT*(cost.dots) + TPT.visits*(cost.prison.escort),durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦           ¦           ¦   ¦   ¦   ¦   ¦   ¦           ¦           ¦   °--did not complete TPT                                                                          ,1-soc.prop.staying.u3.months.uk.complete.tpt,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,0,IncompDurTPT*(durTPT*(cost.dots) + TPT.visits*(cost.prison.escort)),IncompDurTPT*(durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit)),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦           ¦           ¦   ¦   ¦   ¦   ¦   ¦           ¦           °--does not get TPT                                                                                  ,1-soc.prop.staying.u3.months.uk.tpt,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,1
     ¦           ¦           ¦   ¦   ¦   ¦   ¦   ¦           °--Early removal scheme or deportation                                                                           ,1-soc.prop.staying.u3.months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦           ¦           ¦   ¦   ¦   ¦   ¦   °--did not Attend                                                                                                            ,1-soc.prop.abn.xray.nhs.attend.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦           ¦           ¦   ¦   ¦   ¦   °--Not referred to NHS TB service                                                                                                ,1-soc.prop.abn.xray.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦           ¦           ¦   ¦   ¦   °--Normal chest x-ray                                                                                                                ,1-soc.prop.abnormal.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦           ¦   ¦   ¦       ¦--In prison/IRC for >3 months                                                                                                   ,soc.prop.staying.o3.months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦           ¦   ¦   ¦       ¦   °--Refer for treatment                                                                                                       ,tpt.nhs.referral,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,0,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦           ¦   ¦   ¦       ¦       °--TPT outcomes                                                                                                          ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦           ¦   ¦   ¦       ¦           ¦--gets TPT                                                                                                          ,soc.prop.staying.o3.months.tpt,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0
     ¦           ¦           ¦   ¦   ¦       ¦           ¦   ¦--completed TPT                                                                                                 ,soc.prop.staying.o3.months.complete.tpt,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,0,durTPT*(cost.dots) + TPT.visits*(cost.prison.escort),durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦           ¦           ¦   ¦   ¦       ¦           ¦   °--did not complete TPT                                                                                          ,1-soc.prop.staying.o3.months.complete.tpt,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,0,IncompDurTPT*(durTPT*(cost.dots) + TPT.visits*(cost.prison.escort)),IncompDurTPT*(durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit)),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦           ¦           ¦   ¦   ¦       ¦           °--does not get TPT                                                                                                  ,1-soc.prop.staying.o3.months.tpt,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,1
     ¦           ¦           ¦   ¦   ¦       °--In prison/IRC for <3 months                                                                                                   ,1-soc.prop.staying.o3.months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦           ¦   ¦   ¦           ¦--Remaining in the UK (community or other prison/IRC)                                                                       ,soc.prop.staying.u3.months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦           ¦   ¦   ¦           ¦   °--Refer for treatment and forward details to receiving prison/community TB nurse                                        ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦           ¦   ¦   ¦           ¦       °--TPT outcomes                                                                                                      ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦           ¦   ¦   ¦           ¦           ¦--gets TPT                                                                                                      ,soc.prop.staying.u3.months.uk.tpt,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0
     ¦           ¦           ¦   ¦   ¦           ¦           ¦   ¦--completed TPT                                                                                             ,soc.prop.staying.u3.months.uk.complete.tpt,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,0,durTPT*(cost.dots) + TPT.visits*(cost.prison.escort),durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦           ¦           ¦   ¦   ¦           ¦           ¦   °--did not complete TPT                                                                                      ,1-soc.prop.staying.u3.months.uk.complete.tpt,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,0,IncompDurTPT*(durTPT*(cost.dots) + TPT.visits*(cost.prison.escort)),IncompDurTPT*(durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit)),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦           ¦           ¦   ¦   ¦           ¦           °--does not get TPT                                                                                              ,1-soc.prop.staying.u3.months.uk.tpt,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,1
     ¦           ¦           ¦   ¦   ¦           °--Early removal scheme or deportation                                                                                       ,1-soc.prop.staying.u3.months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦           ¦           ¦   ¦   °--No previous chest x-ray                                                                                                               ,1-soc.prop.prev.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦           ¦   ¦       ¦--Chest x-ray                                                                                                                       ,soc.prop.xray,cost.chest.xray,0,0,cost.chest.xray,0,0,cost.chest.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦           ¦   ¦       ¦   ¦--Abornomal chest x-ray                                                                                                         ,soc.prop.abnormal.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦           ¦   ¦       ¦   ¦   ¦--Referred to NHS TB service                                                                                                ,soc.prop.abn.xray.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦           ¦   ¦       ¦   ¦   ¦   ¦--Attended                                                                                                              ,soc.prop.abn.xray.nhs.attend.referral,cost.nhs.tb.service + cost.prison.escort + cost.tb.investigations,0,0,cost.nhs.tb.service + cost.prison.escort + cost.tb.investigations,0,cost.prison.escort,cost.nhs.tb.service + cost.tb.investigations,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦           ¦   ¦       ¦   ¦   ¦   ¦   ¦--TB                                                                                                                ,soc.prop.abn.xray.tb.dx,pIsolation*cost.prison.cell.isolation + cost.contact.tracing,0,0,pIsolation*cost.prison.cell.isolation + cost.contact.tracing,0,pIsolation*cost.prison.cell.isolation + cost.contact.tracing,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
     ¦           ¦           ¦   ¦       ¦   ¦   ¦   ¦   ¦   °--TB outcomes                                                                                                   ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦           ¦   ¦       ¦   ¦   ¦   ¦   ¦       ¦--ATT                                                                                                       ,soc.prop.starting.att,pAttending*(cost.nhs.tb.service + cost.prison.escort),0,0,0,pAttending*(cost.nhs.tb.service + cost.prison.escort),pAttending*(cost.prison.escort),pAttending*(cost.nhs.tb.service),0,0,0,0,0,0,0,0,0,1,0,0,0,0,0
     ¦           ¦           ¦   ¦       ¦   ¦   ¦   ¦   ¦       ¦   ¦--completed ATT                                                                                         ,soc.prop.completing.att,(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + (1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visit + cost.prison.escort)) + (pDSTB*DurDSTB*cost.dsatt.drugs + (1-pDSTB)*DurMDRTB*cost.mdratt.drugs) + cost.dots*(pDSTB*DurDSTB + (1-pDSTB)*DurMDRTB),0,0,0,(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + (1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visit + cost.prison.escort)) + (pDSTB*DurDSTB*cost.dsatt.drugs + (1-pDSTB)*DurMDRTB*cost.mdratt.drugs) + cost.dots*(pDSTB*DurDSTB + (1-pDSTB)*DurMDRTB),(pDSTB*dstb.visits*(cost.prison.escort) + (1-pDSTB)*mdrtb.visits*(cost.prison.escort)),(pDSTB*dstb.visits*(cost.dstb.opd.visit ) + (1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visit )) + (pDSTB*DurDSTB*cost.dsatt.drugs + (1-pDSTB)*DurMDRTB*cost.mdratt.drugs) + cost.dots*(pDSTB*DurDSTB + (1-pDSTB)*DurMDRTB),0,0,0,0,0,0,0,0,0,0,0,1,0,0,1
     ¦           ¦           ¦   ¦       ¦   ¦   ¦   ¦   ¦       ¦   °--did not complete ATT                                                                                  ,1-soc.prop.completing.att,IncompDurDSTB/DurDSTB*(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + pDSTB*DurDSTB*(cost.dsatt.drugs + cost.dots))+ IncompDurMDRTB/DurMDRTB*((1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visits + cost.prison.escort)  + (1-pDSTB)*DurMDRTB*(cost.mdratt.drugs + cost.dots)),0,0,0,IncompDurDSTB/DurDSTB*(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + pDSTB*DurDSTB*(cost.dsatt.drugs + cost.dots))+ IncompDurMDRTB/DurMDRTB*((1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visits + cost.prison.escort)  + (1-pDSTB)*DurMDRTB*(cost.mdratt.drugs + cost.dots)),IncompDurDSTB/DurDSTB*pDSTB*dstb.visits*(cost.prison.escort) + IncompDurMDRTB/DurMDRTB*(1-pDSTB)*mdrtb.visits*(cost.prison.escort),IncompDurDSTB/DurDSTB*(pDSTB*dstb.visits*(cost.dstb.opd.visit) + pDSTB*DurDSTB*(cost.dsatt.drugs + cost.dots))+ IncompDurMDRTB/DurMDRTB*((1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visits)  + (1-pDSTB)*DurMDRTB*(cost.mdratt.drugs + cost.dots)),0,0,0,0,0,0,0,0,0,0,0,1,0,0,1
     ¦           ¦           ¦   ¦       ¦   ¦   ¦   ¦   ¦       °--no ATT                                                                                                    ,1-soc.prop.starting.att,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,1,1
     ¦           ¦           ¦   ¦       ¦   ¦   ¦   ¦   °--Not TB                                                                                                            ,1-soc.prop.abn.xray.tb.dx,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦           ¦   ¦       ¦   ¦   ¦   ¦       ¦--In prison/IRC for >3 months                                                                                   ,soc.prop.staying.o3.months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦           ¦   ¦       ¦   ¦   ¦   ¦       ¦   °--Refer for treatment                                                                                       ,tpt.nhs.referral,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,0,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦           ¦   ¦       ¦   ¦   ¦   ¦       ¦       °--TPT outcomes                                                                                          ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦           ¦   ¦       ¦   ¦   ¦   ¦       ¦           ¦--gets TPT                                                                                          ,soc.prop.staying.o3.months.tpt,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0
     ¦           ¦           ¦   ¦       ¦   ¦   ¦   ¦       ¦           ¦   ¦--completed TPT                                                                                 ,soc.prop.staying.o3.months.complete.tpt,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,0,durTPT*(cost.dots) + TPT.visits*(cost.prison.escort),durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦           ¦           ¦   ¦       ¦   ¦   ¦   ¦       ¦           ¦   °--did not complete TPT                                                                          ,1-soc.prop.staying.o3.months.complete.tpt,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,0,IncompDurTPT*(durTPT*(cost.dots) + TPT.visits*(cost.prison.escort)),IncompDurTPT*(durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit)),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦           ¦           ¦   ¦       ¦   ¦   ¦   ¦       ¦           °--does not get TPT                                                                                  ,1-soc.prop.staying.o3.months.tpt,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,1
     ¦           ¦           ¦   ¦       ¦   ¦   ¦   ¦       °--In prison/IRC for <3 months                                                                                   ,1-soc.prop.staying.o3.months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦           ¦   ¦       ¦   ¦   ¦   ¦           ¦--Remaining in the UK (community or other prison/IRC)                                                       ,soc.prop.staying.u3.months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦           ¦   ¦       ¦   ¦   ¦   ¦           ¦   °--Refer for treatment and forward details to receiving prison/community TB nurse                        ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦           ¦   ¦       ¦   ¦   ¦   ¦           ¦       °--TPT outcomes                                                                                      ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦           ¦   ¦       ¦   ¦   ¦   ¦           ¦           ¦--gets TPT                                                                                      ,soc.prop.staying.u3.months.uk.tpt,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0
     ¦           ¦           ¦   ¦       ¦   ¦   ¦   ¦           ¦           ¦   ¦--completed TPT                                                                             ,soc.prop.staying.u3.months.uk.complete.tpt,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,0,durTPT*(cost.dots) + TPT.visits*(cost.prison.escort),durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦           ¦           ¦   ¦       ¦   ¦   ¦   ¦           ¦           ¦   °--did not complete TPT                                                                      ,1-soc.prop.staying.u3.months.uk.complete.tpt,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,0,IncompDurTPT*(durTPT*(cost.dots) + TPT.visits*(cost.prison.escort)),IncompDurTPT*(durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit)),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦           ¦           ¦   ¦       ¦   ¦   ¦   ¦           ¦           °--does not get TPT                                                                              ,1-soc.prop.staying.u3.months.uk.tpt,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,1
     ¦           ¦           ¦   ¦       ¦   ¦   ¦   ¦           °--Early removal scheme or deportation                                                                       ,1-soc.prop.staying.u3.months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦           ¦           ¦   ¦       ¦   ¦   ¦   °--did not Attend                                                                                                        ,1-soc.prop.abn.xray.nhs.attend.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦           ¦           ¦   ¦       ¦   ¦   °--Not referred to NHS TB service                                                                                            ,1-soc.prop.abn.xray.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦           ¦           ¦   ¦       ¦   °--Normal chest x-ray                                                                                                            ,1-soc.prop.abnormal.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦           ¦   ¦       ¦       ¦--In prison/IRC for >3 months                                                                                               ,soc.prop.staying.o3.months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦           ¦   ¦       ¦       ¦   °--Refer for treatment                                                                                                   ,tpt.nhs.referral,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,0,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦           ¦   ¦       ¦       ¦       °--TPT outcomes                                                                                                      ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦           ¦   ¦       ¦       ¦           ¦--gets TPT                                                                                                      ,soc.prop.staying.o3.months.tpt,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0
     ¦           ¦           ¦   ¦       ¦       ¦           ¦   ¦--completed TPT                                                                                             ,soc.prop.staying.o3.months.complete.tpt,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,0,durTPT*(cost.dots) + TPT.visits*(cost.prison.escort),durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦           ¦           ¦   ¦       ¦       ¦           ¦   °--did not complete TPT                                                                                      ,1-soc.prop.staying.o3.months.complete.tpt,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,0,IncompDurTPT*(durTPT*(cost.dots) + TPT.visits*(cost.prison.escort)),IncompDurTPT*(durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit)),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦           ¦           ¦   ¦       ¦       ¦           °--does not get TPT                                                                                              ,1-soc.prop.staying.o3.months.tpt,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,1
     ¦           ¦           ¦   ¦       ¦       °--In prison/IRC for <3 months                                                                                               ,1-soc.prop.staying.o3.months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦           ¦   ¦       ¦           ¦--Remaining in the UK (community or other prison/IRC)                                                                   ,soc.prop.staying.u3.months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦           ¦   ¦       ¦           ¦   °--Refer for treatment and forward details to receiving prison/community TB nurse                                    ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦           ¦   ¦       ¦           ¦       °--TPT outcomes                                                                                                  ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦           ¦   ¦       ¦           ¦           ¦--gets TPT                                                                                                  ,soc.prop.staying.u3.months.uk.tpt,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0
     ¦           ¦           ¦   ¦       ¦           ¦           ¦   ¦--completed TPT                                                                                         ,soc.prop.staying.u3.months.uk.complete.tpt,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,0,durTPT*(cost.dots) + TPT.visits*(cost.prison.escort),durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦           ¦           ¦   ¦       ¦           ¦           ¦   °--did not complete TPT                                                                                  ,1-soc.prop.staying.u3.months.uk.complete.tpt,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,0,IncompDurTPT*(durTPT*(cost.dots) + TPT.visits*(cost.prison.escort)),IncompDurTPT*(durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit)),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦           ¦           ¦   ¦       ¦           ¦           °--does not get TPT                                                                                          ,1-soc.prop.staying.u3.months.uk.tpt,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,1
     ¦           ¦           ¦   ¦       ¦           °--Early removal scheme or deportation                                                                                   ,1-soc.prop.staying.u3.months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦           ¦           ¦   ¦       °--No chest x-ray                                                                                                                    ,1-soc.prop.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦           ¦   ¦           ¦--Referred to NHS TB service                                                                                                    ,soc.prop.no.xray.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦           ¦   ¦           ¦   ¦--Attended                                                                                                                  ,soc.prop.no.xray.nhs.attend.referral,cost.nhs.tb.service + cost.prison.escort + cost.tb.investigations,0,0,cost.nhs.tb.service + cost.prison.escort + cost.tb.investigations,0,cost.prison.escort,cost.nhs.tb.service + cost.tb.investigations,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦           ¦   ¦           ¦   ¦   ¦--TB                                                                                                                    ,soc.prop.no.xray.tb.dx,pIsolation*cost.prison.cell.isolation + cost.contact.tracing,0,0,pIsolation*cost.prison.cell.isolation + cost.contact.tracing,0,pIsolation*cost.prison.cell.isolation + cost.contact.tracing,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
     ¦           ¦           ¦   ¦           ¦   ¦   ¦   °--TB outcomes                                                                                                       ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦           ¦   ¦           ¦   ¦   ¦       ¦--ATT                                                                                                           ,soc.prop.starting.att,pAttending*(cost.nhs.tb.service + cost.prison.escort),0,0,0,pAttending*(cost.nhs.tb.service + cost.prison.escort),pAttending*(cost.prison.escort),pAttending*(cost.nhs.tb.service),0,0,0,0,0,0,0,0,0,1,0,0,0,0,0
     ¦           ¦           ¦   ¦           ¦   ¦   ¦       ¦   ¦--completed ATT                                                                                             ,soc.prop.completing.att,(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + (1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visit + cost.prison.escort)) + (pDSTB*DurDSTB*cost.dsatt.drugs + (1-pDSTB)*DurMDRTB*cost.mdratt.drugs) + cost.dots*(pDSTB*DurDSTB + (1-pDSTB)*DurMDRTB),0,0,0,(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + (1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visit + cost.prison.escort)) + (pDSTB*DurDSTB*cost.dsatt.drugs + (1-pDSTB)*DurMDRTB*cost.mdratt.drugs) + cost.dots*(pDSTB*DurDSTB + (1-pDSTB)*DurMDRTB),(pDSTB*dstb.visits*(cost.prison.escort) + (1-pDSTB)*mdrtb.visits*(cost.prison.escort)),(pDSTB*dstb.visits*(cost.dstb.opd.visit ) + (1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visit )) + (pDSTB*DurDSTB*cost.dsatt.drugs + (1-pDSTB)*DurMDRTB*cost.mdratt.drugs) + cost.dots*(pDSTB*DurDSTB + (1-pDSTB)*DurMDRTB),0,0,0,0,0,0,0,0,0,0,0,1,0,0,1
     ¦           ¦           ¦   ¦           ¦   ¦   ¦       ¦   °--did not complete ATT                                                                                      ,1-soc.prop.completing.att,IncompDurDSTB/DurDSTB*(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + pDSTB*DurDSTB*(cost.dsatt.drugs + cost.dots))+ IncompDurMDRTB/DurMDRTB*((1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visits + cost.prison.escort)  + (1-pDSTB)*DurMDRTB*(cost.mdratt.drugs + cost.dots)),0,0,0,IncompDurDSTB/DurDSTB*(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + pDSTB*DurDSTB*(cost.dsatt.drugs + cost.dots))+ IncompDurMDRTB/DurMDRTB*((1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visits + cost.prison.escort)  + (1-pDSTB)*DurMDRTB*(cost.mdratt.drugs + cost.dots)),IncompDurDSTB/DurDSTB*pDSTB*dstb.visits*(cost.prison.escort) + IncompDurMDRTB/DurMDRTB*(1-pDSTB)*mdrtb.visits*(cost.prison.escort),IncompDurDSTB/DurDSTB*(pDSTB*dstb.visits*(cost.dstb.opd.visit) + pDSTB*DurDSTB*(cost.dsatt.drugs + cost.dots))+ IncompDurMDRTB/DurMDRTB*((1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visits)  + (1-pDSTB)*DurMDRTB*(cost.mdratt.drugs + cost.dots)),0,0,0,0,0,0,0,0,0,0,0,1,0,0,1
     ¦           ¦           ¦   ¦           ¦   ¦   ¦       °--no ATT                                                                                                        ,1-soc.prop.starting.att,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,1,1
     ¦           ¦           ¦   ¦           ¦   ¦   °--Not TB                                                                                                                ,1-soc.prop.no.xray.tb.dx,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦           ¦   ¦           ¦   ¦       ¦--In prison/IRC for >3 months                                                                                       ,soc.prop.staying.o3.months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦           ¦   ¦           ¦   ¦       ¦   °--Refer for treatment                                                                                           ,tpt.nhs.referral,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,0,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦           ¦   ¦           ¦   ¦       ¦       °--TPT outcomes                                                                                              ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦           ¦   ¦           ¦   ¦       ¦           ¦--gets TPT                                                                                              ,soc.prop.staying.o3.months.tpt,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0
     ¦           ¦           ¦   ¦           ¦   ¦       ¦           ¦   ¦--completed TPT                                                                                     ,soc.prop.staying.o3.months.complete.tpt,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,0,durTPT*(cost.dots) + TPT.visits*(cost.prison.escort),durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦           ¦           ¦   ¦           ¦   ¦       ¦           ¦   °--did not complete TPT                                                                              ,1-soc.prop.staying.o3.months.complete.tpt,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,0,IncompDurTPT*(durTPT*(cost.dots) + TPT.visits*(cost.prison.escort)),IncompDurTPT*(durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit)),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦           ¦           ¦   ¦           ¦   ¦       ¦           °--does not get TPT                                                                                      ,1-soc.prop.staying.o3.months.tpt,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,1
     ¦           ¦           ¦   ¦           ¦   ¦       °--In prison/IRC for <3 months                                                                                       ,1-soc.prop.staying.o3.months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦           ¦   ¦           ¦   ¦           ¦--Remaining in the UK (community or other prison/IRC)                                                           ,soc.prop.staying.u3.months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦           ¦   ¦           ¦   ¦           ¦   °--Refer for treatment and forward details to receiving prison/community TB nurse                            ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦           ¦   ¦           ¦   ¦           ¦       °--TPT outcomes                                                                                          ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦           ¦   ¦           ¦   ¦           ¦           ¦--gets TPT                                                                                          ,soc.prop.staying.u3.months.uk.tpt,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0
     ¦           ¦           ¦   ¦           ¦   ¦           ¦           ¦   ¦--completed TPT                                                                                 ,soc.prop.staying.u3.months.uk.complete.tpt,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,0,durTPT*(cost.dots) + TPT.visits*(cost.prison.escort),durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦           ¦           ¦   ¦           ¦   ¦           ¦           ¦   °--did not complete TPT                                                                          ,1-soc.prop.staying.u3.months.uk.complete.tpt,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,0,IncompDurTPT*(durTPT*(cost.dots) + TPT.visits*(cost.prison.escort)),IncompDurTPT*(durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit)),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦           ¦           ¦   ¦           ¦   ¦           ¦           °--does not get TPT                                                                                  ,1-soc.prop.staying.u3.months.uk.tpt,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,1
     ¦           ¦           ¦   ¦           ¦   ¦           °--Early removal scheme or deportation                                                                           ,1-soc.prop.staying.u3.months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦           ¦           ¦   ¦           ¦   °--did not Attend                                                                                                            ,1-soc.prop.no.xray.nhs.attend.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦           ¦           ¦   ¦           °--Not referred to NHS TB service                                                                                                ,1-soc.prop.no.xray.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦           ¦           ¦   °--IGRA test -                                                                                                                               ,1-soc.prop.igra.test.positive,0,0,0,0,0,0,0,0,0,0,1,0,0,1,0,0,0,0,0,0,0,1
     ¦           ¦           °--no IGRA test                                                                                                                                  ,1-soc.prop.igra.tested,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦           °--No chest x-ray < 6 months                                                                                                                                 ,1-soc.prop.prev.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦--Chest x-ray                                                                                                                                           ,soc.prop.xray,cost.chest.xray,0,0,cost.chest.xray,0,0,cost.chest.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦   ¦--Abornomal chest x-ray                                                                                                                             ,soc.prop.abnormal.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦   ¦   °--Urgent referral to local NHS TB service                                                                                                       ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦   ¦       ¦--Attended                                                                                                                                  ,soc.prop.abn.xray.nhs.attend.referral,cost.nhs.tb.service + cost.prison.escort + cost.tb.investigations,0,0,cost.nhs.tb.service + cost.prison.escort + cost.tb.investigations,0,cost.prison.escort,cost.nhs.tb.service + cost.tb.investigations,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦   ¦       ¦   ¦--TB                                                                                                                                    ,soc.prop.abn.xray.tb.dx,pIsolation*cost.prison.cell.isolation + cost.contact.tracing,0,0,pIsolation*cost.prison.cell.isolation + cost.contact.tracing,0,pIsolation*cost.prison.cell.isolation + cost.contact.tracing,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
     ¦               ¦   ¦       ¦   ¦   °--TB outcomes                                                                                                                       ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦   ¦       ¦   ¦       ¦--ATT                                                                                                                           ,soc.prop.starting.att,pAttending*(cost.nhs.tb.service + cost.prison.escort),0,0,0,pAttending*(cost.nhs.tb.service + cost.prison.escort),pAttending*(cost.prison.escort),pAttending*(cost.nhs.tb.service),0,0,0,0,0,0,0,0,0,1,0,0,0,0,0
     ¦               ¦   ¦       ¦   ¦       ¦   ¦--completed ATT                                                                                                             ,soc.prop.completing.att,(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + (1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visit + cost.prison.escort)) + (pDSTB*DurDSTB*cost.dsatt.drugs + (1-pDSTB)*DurMDRTB*cost.mdratt.drugs) + cost.dots*(pDSTB*DurDSTB + (1-pDSTB)*DurMDRTB),0,0,0,(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + (1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visit + cost.prison.escort)) + (pDSTB*DurDSTB*cost.dsatt.drugs + (1-pDSTB)*DurMDRTB*cost.mdratt.drugs) + cost.dots*(pDSTB*DurDSTB + (1-pDSTB)*DurMDRTB),(pDSTB*dstb.visits*(cost.prison.escort) + (1-pDSTB)*mdrtb.visits*(cost.prison.escort)),(pDSTB*dstb.visits*(cost.dstb.opd.visit ) + (1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visit )) + (pDSTB*DurDSTB*cost.dsatt.drugs + (1-pDSTB)*DurMDRTB*cost.mdratt.drugs) + cost.dots*(pDSTB*DurDSTB + (1-pDSTB)*DurMDRTB),0,0,0,0,0,0,0,0,0,0,0,1,0,0,1
     ¦               ¦   ¦       ¦   ¦       ¦   °--did not complete ATT                                                                                                      ,1-soc.prop.completing.att,IncompDurDSTB/DurDSTB*(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + pDSTB*DurDSTB*(cost.dsatt.drugs + cost.dots))+ IncompDurMDRTB/DurMDRTB*((1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visits + cost.prison.escort)  + (1-pDSTB)*DurMDRTB*(cost.mdratt.drugs + cost.dots)),0,0,0,IncompDurDSTB/DurDSTB*(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + pDSTB*DurDSTB*(cost.dsatt.drugs + cost.dots))+ IncompDurMDRTB/DurMDRTB*((1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visits + cost.prison.escort)  + (1-pDSTB)*DurMDRTB*(cost.mdratt.drugs + cost.dots)),IncompDurDSTB/DurDSTB*pDSTB*dstb.visits*(cost.prison.escort) + IncompDurMDRTB/DurMDRTB*(1-pDSTB)*mdrtb.visits*(cost.prison.escort),IncompDurDSTB/DurDSTB*(pDSTB*dstb.visits*(cost.dstb.opd.visit) + pDSTB*DurDSTB*(cost.dsatt.drugs + cost.dots))+ IncompDurMDRTB/DurMDRTB*((1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visits)  + (1-pDSTB)*DurMDRTB*(cost.mdratt.drugs + cost.dots)),0,0,0,0,0,0,0,0,0,0,0,1,0,0,1
     ¦               ¦   ¦       ¦   ¦       °--no ATT                                                                                                                        ,1-soc.prop.starting.att,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,1,1
     ¦               ¦   ¦       ¦   °--Not TB                                                                                                                                ,1-soc.prop.abn.xray.tb.dx,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦   ¦       ¦       °--LTBI pathway                                                                                                                      ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦   ¦       ¦           ¦--IGRA test                                                                                                                     ,soc.prop.igra.tested,cost.igra.test,0,cost.igra.test,0,0,0,cost.igra.test,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦   ¦       ¦           ¦   ¦--IGRA test +                                                                                                               ,soc.prop.igra.test.positive,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦   ¦       ¦           ¦   ¦   ¦--Previous chest x-ray                                                                                                  ,soc.prop.prev.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦   ¦       ¦           ¦   ¦   ¦   ¦--Abornomal chest x-ray                                                                                             ,soc.prop.abnormal.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦--Referred to NHS TB service                                                                                    ,soc.prop.abn.xray.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦--Attended                                                                                                  ,soc.prop.abn.xray.nhs.attend.referral,cost.nhs.tb.service + cost.prison.escort + cost.tb.investigations,0,0,cost.nhs.tb.service + cost.prison.escort + cost.tb.investigations,0,cost.prison.escort,cost.nhs.tb.service + cost.tb.investigations,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦   ¦--TB                                                                                                    ,soc.prop.abn.xray.tb.dx,pIsolation*cost.prison.cell.isolation + cost.contact.tracing,0,0,pIsolation*cost.prison.cell.isolation + cost.contact.tracing,0,pIsolation*cost.prison.cell.isolation + cost.contact.tracing,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
     ¦               ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦   ¦   °--TB outcomes                                                                                       ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦   ¦       ¦--ATT                                                                                           ,soc.prop.starting.att,pAttending*(cost.nhs.tb.service + cost.prison.escort),0,0,0,pAttending*(cost.nhs.tb.service + cost.prison.escort),pAttending*(cost.prison.escort),pAttending*(cost.nhs.tb.service),0,0,0,0,0,0,0,0,0,1,0,0,0,0,0
     ¦               ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦   ¦       ¦   ¦--completed ATT                                                                             ,soc.prop.completing.att,(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + (1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visit + cost.prison.escort)) + (pDSTB*DurDSTB*cost.dsatt.drugs + (1-pDSTB)*DurMDRTB*cost.mdratt.drugs) + cost.dots*(pDSTB*DurDSTB + (1-pDSTB)*DurMDRTB),0,0,0,(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + (1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visit + cost.prison.escort)) + (pDSTB*DurDSTB*cost.dsatt.drugs + (1-pDSTB)*DurMDRTB*cost.mdratt.drugs) + cost.dots*(pDSTB*DurDSTB + (1-pDSTB)*DurMDRTB),(pDSTB*dstb.visits*(cost.prison.escort) + (1-pDSTB)*mdrtb.visits*(cost.prison.escort)),(pDSTB*dstb.visits*(cost.dstb.opd.visit ) + (1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visit )) + (pDSTB*DurDSTB*cost.dsatt.drugs + (1-pDSTB)*DurMDRTB*cost.mdratt.drugs) + cost.dots*(pDSTB*DurDSTB + (1-pDSTB)*DurMDRTB),0,0,0,0,0,0,0,0,0,0,0,1,0,0,1
     ¦               ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦   ¦       ¦   °--did not complete ATT                                                                      ,1-soc.prop.completing.att,IncompDurDSTB/DurDSTB*(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + pDSTB*DurDSTB*(cost.dsatt.drugs + cost.dots))+ IncompDurMDRTB/DurMDRTB*((1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visits + cost.prison.escort)  + (1-pDSTB)*DurMDRTB*(cost.mdratt.drugs + cost.dots)),0,0,0,IncompDurDSTB/DurDSTB*(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + pDSTB*DurDSTB*(cost.dsatt.drugs + cost.dots))+ IncompDurMDRTB/DurMDRTB*((1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visits + cost.prison.escort)  + (1-pDSTB)*DurMDRTB*(cost.mdratt.drugs + cost.dots)),IncompDurDSTB/DurDSTB*pDSTB*dstb.visits*(cost.prison.escort) + IncompDurMDRTB/DurMDRTB*(1-pDSTB)*mdrtb.visits*(cost.prison.escort),IncompDurDSTB/DurDSTB*(pDSTB*dstb.visits*(cost.dstb.opd.visit) + pDSTB*DurDSTB*(cost.dsatt.drugs + cost.dots))+ IncompDurMDRTB/DurMDRTB*((1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visits)  + (1-pDSTB)*DurMDRTB*(cost.mdratt.drugs + cost.dots)),0,0,0,0,0,0,0,0,0,0,0,1,0,0,1
     ¦               ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦   ¦       °--no ATT                                                                                        ,1-soc.prop.starting.att,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,1,1
     ¦               ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦   °--Not TB                                                                                                ,1-soc.prop.abn.xray.tb.dx,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦       ¦--In prison/IRC for >3 months                                                                       ,soc.prop.staying.o3.months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦       ¦   °--Refer for treatment                                                                           ,tpt.nhs.referral,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,0,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦       ¦       °--TPT outcomes                                                                              ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦       ¦           ¦--gets TPT                                                                              ,soc.prop.staying.o3.months.tpt,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0
     ¦               ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦       ¦           ¦   ¦--completed TPT                                                                     ,soc.prop.staying.o3.months.complete.tpt,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,0,durTPT*(cost.dots) + TPT.visits*(cost.prison.escort),durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦               ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦       ¦           ¦   °--did not complete TPT                                                              ,1-soc.prop.staying.o3.months.complete.tpt,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,0,IncompDurTPT*(durTPT*(cost.dots) + TPT.visits*(cost.prison.escort)),IncompDurTPT*(durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit)),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦               ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦       ¦           °--does not get TPT                                                                      ,1-soc.prop.staying.o3.months.tpt,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,1
     ¦               ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦       °--In prison/IRC for <3 months                                                                       ,1-soc.prop.staying.o3.months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦           ¦--Remaining in the UK (community or other prison/IRC)                                           ,soc.prop.staying.u3.months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦           ¦   °--Refer for treatment and forward details to receiving prison/community TB nurse            ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦           ¦       °--TPT outcomes                                                                          ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦           ¦           ¦--gets TPT                                                                          ,soc.prop.staying.u3.months.uk.tpt,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0
     ¦               ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦           ¦           ¦   ¦--completed TPT                                                                 ,soc.prop.staying.u3.months.uk.complete.tpt,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,0,durTPT*(cost.dots) + TPT.visits*(cost.prison.escort),durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦               ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦           ¦           ¦   °--did not complete TPT                                                          ,1-soc.prop.staying.u3.months.uk.complete.tpt,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,0,IncompDurTPT*(durTPT*(cost.dots) + TPT.visits*(cost.prison.escort)),IncompDurTPT*(durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit)),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦               ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦           ¦           °--does not get TPT                                                                  ,1-soc.prop.staying.u3.months.uk.tpt,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,1
     ¦               ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦           °--Early removal scheme or deportation                                                           ,1-soc.prop.staying.u3.months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦               ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   °--did not Attend                                                                                            ,1-soc.prop.abn.xray.nhs.attend.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦               ¦   ¦       ¦           ¦   ¦   ¦   ¦   °--Not referred to NHS TB service                                                                                ,1-soc.prop.abn.xray.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦               ¦   ¦       ¦           ¦   ¦   ¦   °--Normal chest x-ray                                                                                                ,1-soc.prop.abnormal.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦   ¦       ¦           ¦   ¦   ¦       ¦--In prison/IRC for >3 months                                                                                   ,soc.prop.staying.o3.months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦   ¦       ¦           ¦   ¦   ¦       ¦   °--Refer for treatment                                                                                       ,tpt.nhs.referral,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,0,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦   ¦       ¦           ¦   ¦   ¦       ¦       °--TPT outcomes                                                                                          ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦   ¦       ¦           ¦   ¦   ¦       ¦           ¦--gets TPT                                                                                          ,soc.prop.staying.o3.months.tpt,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0
     ¦               ¦   ¦       ¦           ¦   ¦   ¦       ¦           ¦   ¦--completed TPT                                                                                 ,soc.prop.staying.o3.months.complete.tpt,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,0,durTPT*(cost.dots) + TPT.visits*(cost.prison.escort),durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦               ¦   ¦       ¦           ¦   ¦   ¦       ¦           ¦   °--did not complete TPT                                                                          ,1-soc.prop.staying.o3.months.complete.tpt,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,0,IncompDurTPT*(durTPT*(cost.dots) + TPT.visits*(cost.prison.escort)),IncompDurTPT*(durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit)),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦               ¦   ¦       ¦           ¦   ¦   ¦       ¦           °--does not get TPT                                                                                  ,1-soc.prop.staying.o3.months.tpt,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,1
     ¦               ¦   ¦       ¦           ¦   ¦   ¦       °--In prison/IRC for <3 months                                                                                   ,1-soc.prop.staying.o3.months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦   ¦       ¦           ¦   ¦   ¦           ¦--Remaining in the UK (community or other prison/IRC)                                                       ,soc.prop.staying.u3.months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦   ¦       ¦           ¦   ¦   ¦           ¦   °--Refer for treatment and forward details to receiving prison/community TB nurse                        ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦   ¦       ¦           ¦   ¦   ¦           ¦       °--TPT outcomes                                                                                      ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦   ¦       ¦           ¦   ¦   ¦           ¦           ¦--gets TPT                                                                                      ,soc.prop.staying.u3.months.uk.tpt,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0
     ¦               ¦   ¦       ¦           ¦   ¦   ¦           ¦           ¦   ¦--completed TPT                                                                             ,soc.prop.staying.u3.months.uk.complete.tpt,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,0,durTPT*(cost.dots) + TPT.visits*(cost.prison.escort),durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦               ¦   ¦       ¦           ¦   ¦   ¦           ¦           ¦   °--did not complete TPT                                                                      ,1-soc.prop.staying.u3.months.uk.complete.tpt,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,0,IncompDurTPT*(durTPT*(cost.dots) + TPT.visits*(cost.prison.escort)),IncompDurTPT*(durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit)),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦               ¦   ¦       ¦           ¦   ¦   ¦           ¦           °--does not get TPT                                                                              ,1-soc.prop.staying.u3.months.uk.tpt,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,1
     ¦               ¦   ¦       ¦           ¦   ¦   ¦           °--Early removal scheme or deportation                                                                       ,1-soc.prop.staying.u3.months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦               ¦   ¦       ¦           ¦   ¦   °--No previous chest x-ray                                                                                               ,1-soc.prop.prev.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦   ¦       ¦           ¦   ¦       ¦--Chest x-ray                                                                                                       ,soc.prop.xray,cost.chest.xray,0,0,cost.chest.xray,0,0,cost.chest.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦   ¦       ¦           ¦   ¦       ¦   ¦--Abornomal chest x-ray                                                                                         ,soc.prop.abnormal.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦--Referred to NHS TB service                                                                                ,soc.prop.abn.xray.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦--Attended                                                                                              ,soc.prop.abn.xray.nhs.attend.referral,cost.nhs.tb.service + cost.prison.escort + cost.tb.investigations,0,0,cost.nhs.tb.service + cost.prison.escort + cost.tb.investigations,0,cost.prison.escort,cost.nhs.tb.service + cost.tb.investigations,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦   ¦--TB                                                                                                ,soc.prop.abn.xray.tb.dx,pIsolation*cost.prison.cell.isolation + cost.contact.tracing,0,0,pIsolation*cost.prison.cell.isolation + cost.contact.tracing,0,pIsolation*cost.prison.cell.isolation + cost.contact.tracing,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
     ¦               ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦   ¦   °--TB outcomes                                                                                   ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦   ¦       ¦--ATT                                                                                       ,soc.prop.starting.att,pAttending*(cost.nhs.tb.service + cost.prison.escort),0,0,0,pAttending*(cost.nhs.tb.service + cost.prison.escort),pAttending*(cost.prison.escort),pAttending*(cost.nhs.tb.service),0,0,0,0,0,0,0,0,0,1,0,0,0,0,0
     ¦               ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦   ¦       ¦   ¦--completed ATT                                                                         ,soc.prop.completing.att,(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + (1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visit + cost.prison.escort)) + (pDSTB*DurDSTB*cost.dsatt.drugs + (1-pDSTB)*DurMDRTB*cost.mdratt.drugs) + cost.dots*(pDSTB*DurDSTB + (1-pDSTB)*DurMDRTB),0,0,0,(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + (1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visit + cost.prison.escort)) + (pDSTB*DurDSTB*cost.dsatt.drugs + (1-pDSTB)*DurMDRTB*cost.mdratt.drugs) + cost.dots*(pDSTB*DurDSTB + (1-pDSTB)*DurMDRTB),(pDSTB*dstb.visits*(cost.prison.escort) + (1-pDSTB)*mdrtb.visits*(cost.prison.escort)),(pDSTB*dstb.visits*(cost.dstb.opd.visit ) + (1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visit )) + (pDSTB*DurDSTB*cost.dsatt.drugs + (1-pDSTB)*DurMDRTB*cost.mdratt.drugs) + cost.dots*(pDSTB*DurDSTB + (1-pDSTB)*DurMDRTB),0,0,0,0,0,0,0,0,0,0,0,1,0,0,1
     ¦               ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦   ¦       ¦   °--did not complete ATT                                                                  ,1-soc.prop.completing.att,IncompDurDSTB/DurDSTB*(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + pDSTB*DurDSTB*(cost.dsatt.drugs + cost.dots))+ IncompDurMDRTB/DurMDRTB*((1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visits + cost.prison.escort)  + (1-pDSTB)*DurMDRTB*(cost.mdratt.drugs + cost.dots)),0,0,0,IncompDurDSTB/DurDSTB*(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + pDSTB*DurDSTB*(cost.dsatt.drugs + cost.dots))+ IncompDurMDRTB/DurMDRTB*((1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visits + cost.prison.escort)  + (1-pDSTB)*DurMDRTB*(cost.mdratt.drugs + cost.dots)),IncompDurDSTB/DurDSTB*pDSTB*dstb.visits*(cost.prison.escort) + IncompDurMDRTB/DurMDRTB*(1-pDSTB)*mdrtb.visits*(cost.prison.escort),IncompDurDSTB/DurDSTB*(pDSTB*dstb.visits*(cost.dstb.opd.visit) + pDSTB*DurDSTB*(cost.dsatt.drugs + cost.dots))+ IncompDurMDRTB/DurMDRTB*((1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visits)  + (1-pDSTB)*DurMDRTB*(cost.mdratt.drugs + cost.dots)),0,0,0,0,0,0,0,0,0,0,0,1,0,0,1
     ¦               ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦   ¦       °--no ATT                                                                                    ,1-soc.prop.starting.att,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,1,1
     ¦               ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦   °--Not TB                                                                                            ,1-soc.prop.abn.xray.tb.dx,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦       ¦--In prison/IRC for >3 months                                                                   ,soc.prop.staying.o3.months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦       ¦   °--Refer for treatment                                                                       ,tpt.nhs.referral,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,0,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦       ¦       °--TPT outcomes                                                                          ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦       ¦           ¦--gets TPT                                                                          ,soc.prop.staying.o3.months.tpt,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0
     ¦               ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦       ¦           ¦   ¦--completed TPT                                                                 ,soc.prop.staying.o3.months.complete.tpt,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,0,durTPT*(cost.dots) + TPT.visits*(cost.prison.escort),durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦               ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦       ¦           ¦   °--did not complete TPT                                                          ,1-soc.prop.staying.o3.months.complete.tpt,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,0,IncompDurTPT*(durTPT*(cost.dots) + TPT.visits*(cost.prison.escort)),IncompDurTPT*(durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit)),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦               ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦       ¦           °--does not get TPT                                                                  ,1-soc.prop.staying.o3.months.tpt,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,1
     ¦               ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦       °--In prison/IRC for <3 months                                                                   ,1-soc.prop.staying.o3.months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦           ¦--Remaining in the UK (community or other prison/IRC)                                       ,soc.prop.staying.u3.months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦           ¦   °--Refer for treatment and forward details to receiving prison/community TB nurse        ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦           ¦       °--TPT outcomes                                                                      ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦           ¦           ¦--gets TPT                                                                      ,soc.prop.staying.u3.months.uk.tpt,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0
     ¦               ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦           ¦           ¦   ¦--completed TPT                                                             ,soc.prop.staying.u3.months.uk.complete.tpt,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,0,durTPT*(cost.dots) + TPT.visits*(cost.prison.escort),durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦               ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦           ¦           ¦   °--did not complete TPT                                                      ,1-soc.prop.staying.u3.months.uk.complete.tpt,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,0,IncompDurTPT*(durTPT*(cost.dots) + TPT.visits*(cost.prison.escort)),IncompDurTPT*(durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit)),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦               ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦           ¦           °--does not get TPT                                                              ,1-soc.prop.staying.u3.months.uk.tpt,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,1
     ¦               ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦           °--Early removal scheme or deportation                                                       ,1-soc.prop.staying.u3.months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦               ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   °--did not Attend                                                                                        ,1-soc.prop.abn.xray.nhs.attend.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦               ¦   ¦       ¦           ¦   ¦       ¦   ¦   °--Not referred to NHS TB service                                                                            ,1-soc.prop.abn.xray.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦               ¦   ¦       ¦           ¦   ¦       ¦   °--Normal chest x-ray                                                                                            ,1-soc.prop.abnormal.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦   ¦       ¦           ¦   ¦       ¦       ¦--In prison/IRC for >3 months                                                                               ,soc.prop.staying.o3.months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦   ¦       ¦           ¦   ¦       ¦       ¦   °--Refer for treatment                                                                                   ,tpt.nhs.referral,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,0,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦   ¦       ¦           ¦   ¦       ¦       ¦       °--TPT outcomes                                                                                      ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦   ¦       ¦           ¦   ¦       ¦       ¦           ¦--gets TPT                                                                                      ,soc.prop.staying.o3.months.tpt,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0
     ¦               ¦   ¦       ¦           ¦   ¦       ¦       ¦           ¦   ¦--completed TPT                                                                             ,soc.prop.staying.o3.months.complete.tpt,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,0,durTPT*(cost.dots) + TPT.visits*(cost.prison.escort),durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦               ¦   ¦       ¦           ¦   ¦       ¦       ¦           ¦   °--did not complete TPT                                                                      ,1-soc.prop.staying.o3.months.complete.tpt,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,0,IncompDurTPT*(durTPT*(cost.dots) + TPT.visits*(cost.prison.escort)),IncompDurTPT*(durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit)),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦               ¦   ¦       ¦           ¦   ¦       ¦       ¦           °--does not get TPT                                                                              ,1-soc.prop.staying.o3.months.tpt,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,1
     ¦               ¦   ¦       ¦           ¦   ¦       ¦       °--In prison/IRC for <3 months                                                                               ,1-soc.prop.staying.o3.months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦   ¦       ¦           ¦   ¦       ¦           ¦--Remaining in the UK (community or other prison/IRC)                                                   ,soc.prop.staying.u3.months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦   ¦       ¦           ¦   ¦       ¦           ¦   °--Refer for treatment and forward details to receiving prison/community TB nurse                    ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦   ¦       ¦           ¦   ¦       ¦           ¦       °--TPT outcomes                                                                                  ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦   ¦       ¦           ¦   ¦       ¦           ¦           ¦--gets TPT                                                                                  ,soc.prop.staying.u3.months.uk.tpt,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0
     ¦               ¦   ¦       ¦           ¦   ¦       ¦           ¦           ¦   ¦--completed TPT                                                                         ,soc.prop.staying.u3.months.uk.complete.tpt,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,0,durTPT*(cost.dots) + TPT.visits*(cost.prison.escort),durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦               ¦   ¦       ¦           ¦   ¦       ¦           ¦           ¦   °--did not complete TPT                                                                  ,1-soc.prop.staying.u3.months.uk.complete.tpt,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,0,IncompDurTPT*(durTPT*(cost.dots) + TPT.visits*(cost.prison.escort)),IncompDurTPT*(durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit)),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦               ¦   ¦       ¦           ¦   ¦       ¦           ¦           °--does not get TPT                                                                          ,1-soc.prop.staying.u3.months.uk.tpt,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,1
     ¦               ¦   ¦       ¦           ¦   ¦       ¦           °--Early removal scheme or deportation                                                                   ,1-soc.prop.staying.u3.months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦               ¦   ¦       ¦           ¦   ¦       °--No chest x-ray                                                                                                    ,1-soc.prop.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦   ¦       ¦           ¦   ¦           ¦--Referred to NHS TB service                                                                                    ,soc.prop.no.xray.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦   ¦       ¦           ¦   ¦           ¦   ¦--Attended                                                                                                  ,soc.prop.no.xray.nhs.attend.referral,cost.nhs.tb.service + cost.prison.escort + cost.tb.investigations,0,0,cost.nhs.tb.service + cost.prison.escort + cost.tb.investigations,0,cost.prison.escort,cost.nhs.tb.service + cost.tb.investigations,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦   ¦       ¦           ¦   ¦           ¦   ¦   ¦--TB                                                                                                    ,soc.prop.no.xray.tb.dx,pIsolation*cost.prison.cell.isolation + cost.contact.tracing,0,0,pIsolation*cost.prison.cell.isolation + cost.contact.tracing,0,pIsolation*cost.prison.cell.isolation + cost.contact.tracing,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
     ¦               ¦   ¦       ¦           ¦   ¦           ¦   ¦   ¦   °--TB outcomes                                                                                       ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦   ¦       ¦           ¦   ¦           ¦   ¦   ¦       ¦--ATT                                                                                           ,soc.prop.starting.att,pAttending*(cost.nhs.tb.service + cost.prison.escort),0,0,0,pAttending*(cost.nhs.tb.service + cost.prison.escort),pAttending*(cost.prison.escort),pAttending*(cost.nhs.tb.service),0,0,0,0,0,0,0,0,0,1,0,0,0,0,0
     ¦               ¦   ¦       ¦           ¦   ¦           ¦   ¦   ¦       ¦   ¦--completed ATT                                                                             ,soc.prop.completing.att,(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + (1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visit + cost.prison.escort)) + (pDSTB*DurDSTB*cost.dsatt.drugs + (1-pDSTB)*DurMDRTB*cost.mdratt.drugs) + cost.dots*(pDSTB*DurDSTB + (1-pDSTB)*DurMDRTB),0,0,0,(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + (1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visit + cost.prison.escort)) + (pDSTB*DurDSTB*cost.dsatt.drugs + (1-pDSTB)*DurMDRTB*cost.mdratt.drugs) + cost.dots*(pDSTB*DurDSTB + (1-pDSTB)*DurMDRTB),(pDSTB*dstb.visits*(cost.prison.escort) + (1-pDSTB)*mdrtb.visits*(cost.prison.escort)),(pDSTB*dstb.visits*(cost.dstb.opd.visit ) + (1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visit )) + (pDSTB*DurDSTB*cost.dsatt.drugs + (1-pDSTB)*DurMDRTB*cost.mdratt.drugs) + cost.dots*(pDSTB*DurDSTB + (1-pDSTB)*DurMDRTB),0,0,0,0,0,0,0,0,0,0,0,1,0,0,1
     ¦               ¦   ¦       ¦           ¦   ¦           ¦   ¦   ¦       ¦   °--did not complete ATT                                                                      ,1-soc.prop.completing.att,IncompDurDSTB/DurDSTB*(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + pDSTB*DurDSTB*(cost.dsatt.drugs + cost.dots))+ IncompDurMDRTB/DurMDRTB*((1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visits + cost.prison.escort)  + (1-pDSTB)*DurMDRTB*(cost.mdratt.drugs + cost.dots)),0,0,0,IncompDurDSTB/DurDSTB*(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + pDSTB*DurDSTB*(cost.dsatt.drugs + cost.dots))+ IncompDurMDRTB/DurMDRTB*((1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visits + cost.prison.escort)  + (1-pDSTB)*DurMDRTB*(cost.mdratt.drugs + cost.dots)),IncompDurDSTB/DurDSTB*pDSTB*dstb.visits*(cost.prison.escort) + IncompDurMDRTB/DurMDRTB*(1-pDSTB)*mdrtb.visits*(cost.prison.escort),IncompDurDSTB/DurDSTB*(pDSTB*dstb.visits*(cost.dstb.opd.visit) + pDSTB*DurDSTB*(cost.dsatt.drugs + cost.dots))+ IncompDurMDRTB/DurMDRTB*((1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visits)  + (1-pDSTB)*DurMDRTB*(cost.mdratt.drugs + cost.dots)),0,0,0,0,0,0,0,0,0,0,0,1,0,0,1
     ¦               ¦   ¦       ¦           ¦   ¦           ¦   ¦   ¦       °--no ATT                                                                                        ,1-soc.prop.starting.att,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,1,1
     ¦               ¦   ¦       ¦           ¦   ¦           ¦   ¦   °--Not TB                                                                                                ,1-soc.prop.no.xray.tb.dx,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦   ¦       ¦           ¦   ¦           ¦   ¦       ¦--In prison/IRC for >3 months                                                                       ,soc.prop.staying.o3.months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦   ¦       ¦           ¦   ¦           ¦   ¦       ¦   °--Refer for treatment                                                                           ,tpt.nhs.referral,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,0,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦   ¦       ¦           ¦   ¦           ¦   ¦       ¦       °--TPT outcomes                                                                              ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦   ¦       ¦           ¦   ¦           ¦   ¦       ¦           ¦--gets TPT                                                                              ,soc.prop.staying.o3.months.tpt,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0
     ¦               ¦   ¦       ¦           ¦   ¦           ¦   ¦       ¦           ¦   ¦--completed TPT                                                                     ,soc.prop.staying.o3.months.complete.tpt,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,0,durTPT*(cost.dots) + TPT.visits*(cost.prison.escort),durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦               ¦   ¦       ¦           ¦   ¦           ¦   ¦       ¦           ¦   °--did not complete TPT                                                              ,1-soc.prop.staying.o3.months.complete.tpt,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,0,IncompDurTPT*(durTPT*(cost.dots) + TPT.visits*(cost.prison.escort)),IncompDurTPT*(durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit)),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦               ¦   ¦       ¦           ¦   ¦           ¦   ¦       ¦           °--does not get TPT                                                                      ,1-soc.prop.staying.o3.months.tpt,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,1
     ¦               ¦   ¦       ¦           ¦   ¦           ¦   ¦       °--In prison/IRC for <3 months                                                                       ,1-soc.prop.staying.o3.months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦   ¦       ¦           ¦   ¦           ¦   ¦           ¦--Remaining in the UK (community or other prison/IRC)                                           ,soc.prop.staying.u3.months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦   ¦       ¦           ¦   ¦           ¦   ¦           ¦   °--Refer for treatment and forward details to receiving prison/community TB nurse            ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦   ¦       ¦           ¦   ¦           ¦   ¦           ¦       °--TPT outcomes                                                                          ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦   ¦       ¦           ¦   ¦           ¦   ¦           ¦           ¦--gets TPT                                                                          ,soc.prop.staying.u3.months.uk.tpt,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0
     ¦               ¦   ¦       ¦           ¦   ¦           ¦   ¦           ¦           ¦   ¦--completed TPT                                                                 ,soc.prop.staying.u3.months.uk.complete.tpt,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,0,durTPT*(cost.dots) + TPT.visits*(cost.prison.escort),durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦               ¦   ¦       ¦           ¦   ¦           ¦   ¦           ¦           ¦   °--did not complete TPT                                                          ,1-soc.prop.staying.u3.months.uk.complete.tpt,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,0,IncompDurTPT*(durTPT*(cost.dots) + TPT.visits*(cost.prison.escort)),IncompDurTPT*(durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit)),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦               ¦   ¦       ¦           ¦   ¦           ¦   ¦           ¦           °--does not get TPT                                                                  ,1-soc.prop.staying.u3.months.uk.tpt,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,1
     ¦               ¦   ¦       ¦           ¦   ¦           ¦   ¦           °--Early removal scheme or deportation                                                           ,1-soc.prop.staying.u3.months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦               ¦   ¦       ¦           ¦   ¦           ¦   °--did not Attend                                                                                            ,1-soc.prop.no.xray.nhs.attend.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦               ¦   ¦       ¦           ¦   ¦           °--Not referred to NHS TB service                                                                                ,1-soc.prop.no.xray.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦               ¦   ¦       ¦           ¦   °--IGRA test -                                                                                                               ,1-soc.prop.igra.test.positive,0,0,0,0,0,0,0,0,0,0,1,0,0,1,0,0,0,0,0,0,0,1
     ¦               ¦   ¦       ¦           °--no IGRA test                                                                                                                  ,1-soc.prop.igra.tested,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦               ¦   ¦       °--did not Attend                                                                                                                            ,1-soc.prop.abn.xray.nhs.attend.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦               ¦   °--Normal chest x-ray                                                                                                                                ,1-soc.prop.abnormal.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦       °--LTBI pathway                                                                                                                                  ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦           ¦--IGRA test                                                                                                                                 ,soc.prop.igra.tested,cost.igra.test,0,cost.igra.test,0,0,0,cost.igra.test,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦           ¦   ¦--IGRA test +                                                                                                                           ,soc.prop.igra.test.positive,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦           ¦   ¦   ¦--Previous chest x-ray                                                                                                              ,soc.prop.prev.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦           ¦   ¦   ¦   ¦--Abornomal chest x-ray                                                                                                         ,soc.prop.abnormal.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦           ¦   ¦   ¦   ¦   ¦--Referred to NHS TB service                                                                                                ,soc.prop.abn.xray.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦           ¦   ¦   ¦   ¦   ¦   ¦--Attended                                                                                                              ,soc.prop.abn.xray.nhs.attend.referral,cost.nhs.tb.service + cost.prison.escort + cost.tb.investigations,0,0,cost.nhs.tb.service + cost.prison.escort + cost.tb.investigations,0,cost.prison.escort,cost.nhs.tb.service + cost.tb.investigations,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦           ¦   ¦   ¦   ¦   ¦   ¦   ¦--TB                                                                                                                ,soc.prop.abn.xray.tb.dx,pIsolation*cost.prison.cell.isolation + cost.contact.tracing,0,0,pIsolation*cost.prison.cell.isolation + cost.contact.tracing,0,pIsolation*cost.prison.cell.isolation + cost.contact.tracing,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
     ¦               ¦           ¦   ¦   ¦   ¦   ¦   ¦   ¦   °--TB outcomes                                                                                                   ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦           ¦   ¦   ¦   ¦   ¦   ¦   ¦       ¦--ATT                                                                                                       ,soc.prop.starting.att,pAttending*(cost.nhs.tb.service + cost.prison.escort),0,0,0,pAttending*(cost.nhs.tb.service + cost.prison.escort),pAttending*(cost.prison.escort),pAttending*(cost.nhs.tb.service),0,0,0,0,0,0,0,0,0,1,0,0,0,0,0
     ¦               ¦           ¦   ¦   ¦   ¦   ¦   ¦   ¦       ¦   ¦--completed ATT                                                                                         ,soc.prop.completing.att,(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + (1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visit + cost.prison.escort)) + (pDSTB*DurDSTB*cost.dsatt.drugs + (1-pDSTB)*DurMDRTB*cost.mdratt.drugs) + cost.dots*(pDSTB*DurDSTB + (1-pDSTB)*DurMDRTB),0,0,0,(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + (1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visit + cost.prison.escort)) + (pDSTB*DurDSTB*cost.dsatt.drugs + (1-pDSTB)*DurMDRTB*cost.mdratt.drugs) + cost.dots*(pDSTB*DurDSTB + (1-pDSTB)*DurMDRTB),(pDSTB*dstb.visits*(cost.prison.escort) + (1-pDSTB)*mdrtb.visits*(cost.prison.escort)),(pDSTB*dstb.visits*(cost.dstb.opd.visit ) + (1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visit )) + (pDSTB*DurDSTB*cost.dsatt.drugs + (1-pDSTB)*DurMDRTB*cost.mdratt.drugs) + cost.dots*(pDSTB*DurDSTB + (1-pDSTB)*DurMDRTB),0,0,0,0,0,0,0,0,0,0,0,1,0,0,1
     ¦               ¦           ¦   ¦   ¦   ¦   ¦   ¦   ¦       ¦   °--did not complete ATT                                                                                  ,1-soc.prop.completing.att,IncompDurDSTB/DurDSTB*(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + pDSTB*DurDSTB*(cost.dsatt.drugs + cost.dots))+ IncompDurMDRTB/DurMDRTB*((1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visits + cost.prison.escort)  + (1-pDSTB)*DurMDRTB*(cost.mdratt.drugs + cost.dots)),0,0,0,IncompDurDSTB/DurDSTB*(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + pDSTB*DurDSTB*(cost.dsatt.drugs + cost.dots))+ IncompDurMDRTB/DurMDRTB*((1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visits + cost.prison.escort)  + (1-pDSTB)*DurMDRTB*(cost.mdratt.drugs + cost.dots)),IncompDurDSTB/DurDSTB*pDSTB*dstb.visits*(cost.prison.escort) + IncompDurMDRTB/DurMDRTB*(1-pDSTB)*mdrtb.visits*(cost.prison.escort),IncompDurDSTB/DurDSTB*(pDSTB*dstb.visits*(cost.dstb.opd.visit) + pDSTB*DurDSTB*(cost.dsatt.drugs + cost.dots))+ IncompDurMDRTB/DurMDRTB*((1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visits)  + (1-pDSTB)*DurMDRTB*(cost.mdratt.drugs + cost.dots)),0,0,0,0,0,0,0,0,0,0,0,1,0,0,1
     ¦               ¦           ¦   ¦   ¦   ¦   ¦   ¦   ¦       °--no ATT                                                                                                    ,1-soc.prop.starting.att,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,1,1
     ¦               ¦           ¦   ¦   ¦   ¦   ¦   ¦   °--Not TB                                                                                                            ,1-soc.prop.abn.xray.tb.dx,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦           ¦   ¦   ¦   ¦   ¦   ¦       ¦--In prison/IRC for >3 months                                                                                   ,soc.prop.staying.o3.months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦           ¦   ¦   ¦   ¦   ¦   ¦       ¦   °--Refer for treatment                                                                                       ,tpt.nhs.referral,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,0,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦           ¦   ¦   ¦   ¦   ¦   ¦       ¦       °--TPT outcomes                                                                                          ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦           ¦   ¦   ¦   ¦   ¦   ¦       ¦           ¦--gets TPT                                                                                          ,soc.prop.staying.o3.months.tpt,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0
     ¦               ¦           ¦   ¦   ¦   ¦   ¦   ¦       ¦           ¦   ¦--completed TPT                                                                                 ,soc.prop.staying.o3.months.complete.tpt,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,0,durTPT*(cost.dots) + TPT.visits*(cost.prison.escort),durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦               ¦           ¦   ¦   ¦   ¦   ¦   ¦       ¦           ¦   °--did not complete TPT                                                                          ,1-soc.prop.staying.o3.months.complete.tpt,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,0,IncompDurTPT*(durTPT*(cost.dots) + TPT.visits*(cost.prison.escort)),IncompDurTPT*(durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit)),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦               ¦           ¦   ¦   ¦   ¦   ¦   ¦       ¦           °--does not get TPT                                                                                  ,1-soc.prop.staying.o3.months.tpt,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,1
     ¦               ¦           ¦   ¦   ¦   ¦   ¦   ¦       °--In prison/IRC for <3 months                                                                                   ,1-soc.prop.staying.o3.months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦           ¦   ¦   ¦   ¦   ¦   ¦           ¦--Remaining in the UK (community or other prison/IRC)                                                       ,soc.prop.staying.u3.months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦           ¦   ¦   ¦   ¦   ¦   ¦           ¦   °--Refer for treatment and forward details to receiving prison/community TB nurse                        ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦           ¦   ¦   ¦   ¦   ¦   ¦           ¦       °--TPT outcomes                                                                                      ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦           ¦   ¦   ¦   ¦   ¦   ¦           ¦           ¦--gets TPT                                                                                      ,soc.prop.staying.u3.months.uk.tpt,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0
     ¦               ¦           ¦   ¦   ¦   ¦   ¦   ¦           ¦           ¦   ¦--completed TPT                                                                             ,soc.prop.staying.u3.months.uk.complete.tpt,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,0,durTPT*(cost.dots) + TPT.visits*(cost.prison.escort),durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦               ¦           ¦   ¦   ¦   ¦   ¦   ¦           ¦           ¦   °--did not complete TPT                                                                      ,1-soc.prop.staying.u3.months.uk.complete.tpt,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,0,IncompDurTPT*(durTPT*(cost.dots) + TPT.visits*(cost.prison.escort)),IncompDurTPT*(durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit)),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦               ¦           ¦   ¦   ¦   ¦   ¦   ¦           ¦           °--does not get TPT                                                                              ,1-soc.prop.staying.u3.months.uk.tpt,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,1
     ¦               ¦           ¦   ¦   ¦   ¦   ¦   ¦           °--Early removal scheme or deportation                                                                       ,1-soc.prop.staying.u3.months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦               ¦           ¦   ¦   ¦   ¦   ¦   °--did not Attend                                                                                                        ,1-soc.prop.abn.xray.nhs.attend.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦               ¦           ¦   ¦   ¦   ¦   °--Not referred to NHS TB service                                                                                            ,1-soc.prop.abn.xray.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦               ¦           ¦   ¦   ¦   °--Normal chest x-ray                                                                                                            ,1-soc.prop.abnormal.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦           ¦   ¦   ¦       ¦--In prison/IRC for >3 months                                                                                               ,soc.prop.staying.o3.months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦           ¦   ¦   ¦       ¦   °--Refer for treatment                                                                                                   ,tpt.nhs.referral,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,0,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦           ¦   ¦   ¦       ¦       °--TPT outcomes                                                                                                      ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦           ¦   ¦   ¦       ¦           ¦--gets TPT                                                                                                      ,soc.prop.staying.o3.months.tpt,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0
     ¦               ¦           ¦   ¦   ¦       ¦           ¦   ¦--completed TPT                                                                                             ,soc.prop.staying.o3.months.complete.tpt,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,0,durTPT*(cost.dots) + TPT.visits*(cost.prison.escort),durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦               ¦           ¦   ¦   ¦       ¦           ¦   °--did not complete TPT                                                                                      ,1-soc.prop.staying.o3.months.complete.tpt,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,0,IncompDurTPT*(durTPT*(cost.dots) + TPT.visits*(cost.prison.escort)),IncompDurTPT*(durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit)),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦               ¦           ¦   ¦   ¦       ¦           °--does not get TPT                                                                                              ,1-soc.prop.staying.o3.months.tpt,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,1
     ¦               ¦           ¦   ¦   ¦       °--In prison/IRC for <3 months                                                                                               ,1-soc.prop.staying.o3.months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦           ¦   ¦   ¦           ¦--Remaining in the UK (community or other prison/IRC)                                                                   ,soc.prop.staying.u3.months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦           ¦   ¦   ¦           ¦   °--Refer for treatment and forward details to receiving prison/community TB nurse                                    ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦           ¦   ¦   ¦           ¦       °--TPT outcomes                                                                                                  ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦           ¦   ¦   ¦           ¦           ¦--gets TPT                                                                                                  ,soc.prop.staying.u3.months.uk.tpt,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0
     ¦               ¦           ¦   ¦   ¦           ¦           ¦   ¦--completed TPT                                                                                         ,soc.prop.staying.u3.months.uk.complete.tpt,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,0,durTPT*(cost.dots) + TPT.visits*(cost.prison.escort),durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦               ¦           ¦   ¦   ¦           ¦           ¦   °--did not complete TPT                                                                                  ,1-soc.prop.staying.u3.months.uk.complete.tpt,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,0,IncompDurTPT*(durTPT*(cost.dots) + TPT.visits*(cost.prison.escort)),IncompDurTPT*(durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit)),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦               ¦           ¦   ¦   ¦           ¦           °--does not get TPT                                                                                          ,1-soc.prop.staying.u3.months.uk.tpt,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,1
     ¦               ¦           ¦   ¦   ¦           °--Early removal scheme or deportation                                                                                   ,1-soc.prop.staying.u3.months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦               ¦           ¦   ¦   °--No previous chest x-ray                                                                                                           ,1-soc.prop.prev.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦           ¦   ¦       ¦--Chest x-ray                                                                                                                   ,soc.prop.xray,cost.chest.xray,0,0,cost.chest.xray,0,0,cost.chest.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦           ¦   ¦       ¦   ¦--Abornomal chest x-ray                                                                                                     ,soc.prop.abnormal.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦           ¦   ¦       ¦   ¦   ¦--Referred to NHS TB service                                                                                            ,soc.prop.abn.xray.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦           ¦   ¦       ¦   ¦   ¦   ¦--Attended                                                                                                          ,soc.prop.abn.xray.nhs.attend.referral,cost.nhs.tb.service + cost.prison.escort + cost.tb.investigations,0,0,cost.nhs.tb.service + cost.prison.escort + cost.tb.investigations,0,cost.prison.escort,cost.nhs.tb.service + cost.tb.investigations,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦           ¦   ¦       ¦   ¦   ¦   ¦   ¦--TB                                                                                                            ,soc.prop.abn.xray.tb.dx,pIsolation*cost.prison.cell.isolation + cost.contact.tracing,0,0,pIsolation*cost.prison.cell.isolation + cost.contact.tracing,0,pIsolation*cost.prison.cell.isolation + cost.contact.tracing,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
     ¦               ¦           ¦   ¦       ¦   ¦   ¦   ¦   ¦   °--TB outcomes                                                                                               ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦           ¦   ¦       ¦   ¦   ¦   ¦   ¦       ¦--ATT                                                                                                   ,soc.prop.starting.att,pAttending*(cost.nhs.tb.service + cost.prison.escort),0,0,0,pAttending*(cost.nhs.tb.service + cost.prison.escort),pAttending*(cost.prison.escort),pAttending*(cost.nhs.tb.service),0,0,0,0,0,0,0,0,0,1,0,0,0,0,0
     ¦               ¦           ¦   ¦       ¦   ¦   ¦   ¦   ¦       ¦   ¦--completed ATT                                                                                     ,soc.prop.completing.att,(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + (1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visit + cost.prison.escort)) + (pDSTB*DurDSTB*cost.dsatt.drugs + (1-pDSTB)*DurMDRTB*cost.mdratt.drugs) + cost.dots*(pDSTB*DurDSTB + (1-pDSTB)*DurMDRTB),0,0,0,(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + (1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visit + cost.prison.escort)) + (pDSTB*DurDSTB*cost.dsatt.drugs + (1-pDSTB)*DurMDRTB*cost.mdratt.drugs) + cost.dots*(pDSTB*DurDSTB + (1-pDSTB)*DurMDRTB),(pDSTB*dstb.visits*(cost.prison.escort) + (1-pDSTB)*mdrtb.visits*(cost.prison.escort)),(pDSTB*dstb.visits*(cost.dstb.opd.visit ) + (1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visit )) + (pDSTB*DurDSTB*cost.dsatt.drugs + (1-pDSTB)*DurMDRTB*cost.mdratt.drugs) + cost.dots*(pDSTB*DurDSTB + (1-pDSTB)*DurMDRTB),0,0,0,0,0,0,0,0,0,0,0,1,0,0,1
     ¦               ¦           ¦   ¦       ¦   ¦   ¦   ¦   ¦       ¦   °--did not complete ATT                                                                              ,1-soc.prop.completing.att,IncompDurDSTB/DurDSTB*(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + pDSTB*DurDSTB*(cost.dsatt.drugs + cost.dots))+ IncompDurMDRTB/DurMDRTB*((1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visits + cost.prison.escort)  + (1-pDSTB)*DurMDRTB*(cost.mdratt.drugs + cost.dots)),0,0,0,IncompDurDSTB/DurDSTB*(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + pDSTB*DurDSTB*(cost.dsatt.drugs + cost.dots))+ IncompDurMDRTB/DurMDRTB*((1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visits + cost.prison.escort)  + (1-pDSTB)*DurMDRTB*(cost.mdratt.drugs + cost.dots)),IncompDurDSTB/DurDSTB*pDSTB*dstb.visits*(cost.prison.escort) + IncompDurMDRTB/DurMDRTB*(1-pDSTB)*mdrtb.visits*(cost.prison.escort),IncompDurDSTB/DurDSTB*(pDSTB*dstb.visits*(cost.dstb.opd.visit) + pDSTB*DurDSTB*(cost.dsatt.drugs + cost.dots))+ IncompDurMDRTB/DurMDRTB*((1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visits)  + (1-pDSTB)*DurMDRTB*(cost.mdratt.drugs + cost.dots)),0,0,0,0,0,0,0,0,0,0,0,1,0,0,1
     ¦               ¦           ¦   ¦       ¦   ¦   ¦   ¦   ¦       °--no ATT                                                                                                ,1-soc.prop.starting.att,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,1,1
     ¦               ¦           ¦   ¦       ¦   ¦   ¦   ¦   °--Not TB                                                                                                        ,1-soc.prop.abn.xray.tb.dx,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦           ¦   ¦       ¦   ¦   ¦   ¦       ¦--In prison/IRC for >3 months                                                                               ,soc.prop.staying.o3.months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦           ¦   ¦       ¦   ¦   ¦   ¦       ¦   °--Refer for treatment                                                                                   ,tpt.nhs.referral,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,0,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦           ¦   ¦       ¦   ¦   ¦   ¦       ¦       °--TPT outcomes                                                                                      ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦           ¦   ¦       ¦   ¦   ¦   ¦       ¦           ¦--gets TPT                                                                                      ,soc.prop.staying.o3.months.tpt,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0
     ¦               ¦           ¦   ¦       ¦   ¦   ¦   ¦       ¦           ¦   ¦--completed TPT                                                                             ,soc.prop.staying.o3.months.complete.tpt,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,0,durTPT*(cost.dots) + TPT.visits*(cost.prison.escort),durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦               ¦           ¦   ¦       ¦   ¦   ¦   ¦       ¦           ¦   °--did not complete TPT                                                                      ,1-soc.prop.staying.o3.months.complete.tpt,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,0,IncompDurTPT*(durTPT*(cost.dots) + TPT.visits*(cost.prison.escort)),IncompDurTPT*(durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit)),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦               ¦           ¦   ¦       ¦   ¦   ¦   ¦       ¦           °--does not get TPT                                                                              ,1-soc.prop.staying.o3.months.tpt,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,1
     ¦               ¦           ¦   ¦       ¦   ¦   ¦   ¦       °--In prison/IRC for <3 months                                                                               ,1-soc.prop.staying.o3.months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦           ¦   ¦       ¦   ¦   ¦   ¦           ¦--Remaining in the UK (community or other prison/IRC)                                                   ,soc.prop.staying.u3.months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦           ¦   ¦       ¦   ¦   ¦   ¦           ¦   °--Refer for treatment and forward details to receiving prison/community TB nurse                    ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦           ¦   ¦       ¦   ¦   ¦   ¦           ¦       °--TPT outcomes                                                                                  ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦           ¦   ¦       ¦   ¦   ¦   ¦           ¦           ¦--gets TPT                                                                                  ,soc.prop.staying.u3.months.uk.tpt,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0
     ¦               ¦           ¦   ¦       ¦   ¦   ¦   ¦           ¦           ¦   ¦--completed TPT                                                                         ,soc.prop.staying.u3.months.uk.complete.tpt,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,0,durTPT*(cost.dots) + TPT.visits*(cost.prison.escort),durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦               ¦           ¦   ¦       ¦   ¦   ¦   ¦           ¦           ¦   °--did not complete TPT                                                                  ,1-soc.prop.staying.u3.months.uk.complete.tpt,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,0,IncompDurTPT*(durTPT*(cost.dots) + TPT.visits*(cost.prison.escort)),IncompDurTPT*(durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit)),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦               ¦           ¦   ¦       ¦   ¦   ¦   ¦           ¦           °--does not get TPT                                                                          ,1-soc.prop.staying.u3.months.uk.tpt,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,1
     ¦               ¦           ¦   ¦       ¦   ¦   ¦   ¦           °--Early removal scheme or deportation                                                                   ,1-soc.prop.staying.u3.months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦               ¦           ¦   ¦       ¦   ¦   ¦   °--did not Attend                                                                                                    ,1-soc.prop.abn.xray.nhs.attend.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦               ¦           ¦   ¦       ¦   ¦   °--Not referred to NHS TB service                                                                                        ,1-soc.prop.abn.xray.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦               ¦           ¦   ¦       ¦   °--Normal chest x-ray                                                                                                        ,1-soc.prop.abnormal.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦           ¦   ¦       ¦       ¦--In prison/IRC for >3 months                                                                                           ,soc.prop.staying.o3.months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦           ¦   ¦       ¦       ¦   °--Refer for treatment                                                                                               ,tpt.nhs.referral,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,0,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦           ¦   ¦       ¦       ¦       °--TPT outcomes                                                                                                  ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦           ¦   ¦       ¦       ¦           ¦--gets TPT                                                                                                  ,soc.prop.staying.o3.months.tpt,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0
     ¦               ¦           ¦   ¦       ¦       ¦           ¦   ¦--completed TPT                                                                                         ,soc.prop.staying.o3.months.complete.tpt,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,0,durTPT*(cost.dots) + TPT.visits*(cost.prison.escort),durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦               ¦           ¦   ¦       ¦       ¦           ¦   °--did not complete TPT                                                                                  ,1-soc.prop.staying.o3.months.complete.tpt,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,0,IncompDurTPT*(durTPT*(cost.dots) + TPT.visits*(cost.prison.escort)),IncompDurTPT*(durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit)),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦               ¦           ¦   ¦       ¦       ¦           °--does not get TPT                                                                                          ,1-soc.prop.staying.o3.months.tpt,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,1
     ¦               ¦           ¦   ¦       ¦       °--In prison/IRC for <3 months                                                                                           ,1-soc.prop.staying.o3.months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦           ¦   ¦       ¦           ¦--Remaining in the UK (community or other prison/IRC)                                                               ,soc.prop.staying.u3.months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦           ¦   ¦       ¦           ¦   °--Refer for treatment and forward details to receiving prison/community TB nurse                                ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦           ¦   ¦       ¦           ¦       °--TPT outcomes                                                                                              ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦           ¦   ¦       ¦           ¦           ¦--gets TPT                                                                                              ,soc.prop.staying.u3.months.uk.tpt,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0
     ¦               ¦           ¦   ¦       ¦           ¦           ¦   ¦--completed TPT                                                                                     ,soc.prop.staying.u3.months.uk.complete.tpt,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,0,durTPT*(cost.dots) + TPT.visits*(cost.prison.escort),durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦               ¦           ¦   ¦       ¦           ¦           ¦   °--did not complete TPT                                                                              ,1-soc.prop.staying.u3.months.uk.complete.tpt,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,0,IncompDurTPT*(durTPT*(cost.dots) + TPT.visits*(cost.prison.escort)),IncompDurTPT*(durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit)),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦               ¦           ¦   ¦       ¦           ¦           °--does not get TPT                                                                                      ,1-soc.prop.staying.u3.months.uk.tpt,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,1
     ¦               ¦           ¦   ¦       ¦           °--Early removal scheme or deportation                                                                               ,1-soc.prop.staying.u3.months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦               ¦           ¦   ¦       °--No chest x-ray                                                                                                                ,1-soc.prop.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦           ¦   ¦           ¦--Referred to NHS TB service                                                                                                ,soc.prop.no.xray.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦           ¦   ¦           ¦   ¦--Attended                                                                                                              ,soc.prop.no.xray.nhs.attend.referral,cost.nhs.tb.service + cost.prison.escort + cost.tb.investigations,0,0,cost.nhs.tb.service + cost.prison.escort + cost.tb.investigations,0,cost.prison.escort,cost.nhs.tb.service + cost.tb.investigations,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦           ¦   ¦           ¦   ¦   ¦--TB                                                                                                                ,soc.prop.no.xray.tb.dx,pIsolation*cost.prison.cell.isolation + cost.contact.tracing,0,0,pIsolation*cost.prison.cell.isolation + cost.contact.tracing,0,pIsolation*cost.prison.cell.isolation + cost.contact.tracing,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
     ¦               ¦           ¦   ¦           ¦   ¦   ¦   °--TB outcomes                                                                                                   ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦           ¦   ¦           ¦   ¦   ¦       ¦--ATT                                                                                                       ,soc.prop.starting.att,pAttending*(cost.nhs.tb.service + cost.prison.escort),0,0,0,pAttending*(cost.nhs.tb.service + cost.prison.escort),pAttending*(cost.prison.escort),pAttending*(cost.nhs.tb.service),0,0,0,0,0,0,0,0,0,1,0,0,0,0,0
     ¦               ¦           ¦   ¦           ¦   ¦   ¦       ¦   ¦--completed ATT                                                                                         ,soc.prop.completing.att,(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + (1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visit + cost.prison.escort)) + (pDSTB*DurDSTB*cost.dsatt.drugs + (1-pDSTB)*DurMDRTB*cost.mdratt.drugs) + cost.dots*(pDSTB*DurDSTB + (1-pDSTB)*DurMDRTB),0,0,0,(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + (1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visit + cost.prison.escort)) + (pDSTB*DurDSTB*cost.dsatt.drugs + (1-pDSTB)*DurMDRTB*cost.mdratt.drugs) + cost.dots*(pDSTB*DurDSTB + (1-pDSTB)*DurMDRTB),(pDSTB*dstb.visits*(cost.prison.escort) + (1-pDSTB)*mdrtb.visits*(cost.prison.escort)),(pDSTB*dstb.visits*(cost.dstb.opd.visit ) + (1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visit )) + (pDSTB*DurDSTB*cost.dsatt.drugs + (1-pDSTB)*DurMDRTB*cost.mdratt.drugs) + cost.dots*(pDSTB*DurDSTB + (1-pDSTB)*DurMDRTB),0,0,0,0,0,0,0,0,0,0,0,1,0,0,1
     ¦               ¦           ¦   ¦           ¦   ¦   ¦       ¦   °--did not complete ATT                                                                                  ,1-soc.prop.completing.att,IncompDurDSTB/DurDSTB*(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + pDSTB*DurDSTB*(cost.dsatt.drugs + cost.dots))+ IncompDurMDRTB/DurMDRTB*((1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visits + cost.prison.escort)  + (1-pDSTB)*DurMDRTB*(cost.mdratt.drugs + cost.dots)),0,0,0,IncompDurDSTB/DurDSTB*(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + pDSTB*DurDSTB*(cost.dsatt.drugs + cost.dots))+ IncompDurMDRTB/DurMDRTB*((1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visits + cost.prison.escort)  + (1-pDSTB)*DurMDRTB*(cost.mdratt.drugs + cost.dots)),IncompDurDSTB/DurDSTB*pDSTB*dstb.visits*(cost.prison.escort) + IncompDurMDRTB/DurMDRTB*(1-pDSTB)*mdrtb.visits*(cost.prison.escort),IncompDurDSTB/DurDSTB*(pDSTB*dstb.visits*(cost.dstb.opd.visit) + pDSTB*DurDSTB*(cost.dsatt.drugs + cost.dots))+ IncompDurMDRTB/DurMDRTB*((1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visits)  + (1-pDSTB)*DurMDRTB*(cost.mdratt.drugs + cost.dots)),0,0,0,0,0,0,0,0,0,0,0,1,0,0,1
     ¦               ¦           ¦   ¦           ¦   ¦   ¦       °--no ATT                                                                                                    ,1-soc.prop.starting.att,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,1,1
     ¦               ¦           ¦   ¦           ¦   ¦   °--Not TB                                                                                                            ,1-soc.prop.no.xray.tb.dx,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦           ¦   ¦           ¦   ¦       ¦--In prison/IRC for >3 months                                                                                   ,soc.prop.staying.o3.months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦           ¦   ¦           ¦   ¦       ¦   °--Refer for treatment                                                                                       ,tpt.nhs.referral,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,0,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦           ¦   ¦           ¦   ¦       ¦       °--TPT outcomes                                                                                          ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦           ¦   ¦           ¦   ¦       ¦           ¦--gets TPT                                                                                          ,soc.prop.staying.o3.months.tpt,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0
     ¦               ¦           ¦   ¦           ¦   ¦       ¦           ¦   ¦--completed TPT                                                                                 ,soc.prop.staying.o3.months.complete.tpt,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,0,durTPT*(cost.dots) + TPT.visits*(cost.prison.escort),durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦               ¦           ¦   ¦           ¦   ¦       ¦           ¦   °--did not complete TPT                                                                          ,1-soc.prop.staying.o3.months.complete.tpt,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,0,IncompDurTPT*(durTPT*(cost.dots) + TPT.visits*(cost.prison.escort)),IncompDurTPT*(durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit)),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦               ¦           ¦   ¦           ¦   ¦       ¦           °--does not get TPT                                                                                  ,1-soc.prop.staying.o3.months.tpt,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,1
     ¦               ¦           ¦   ¦           ¦   ¦       °--In prison/IRC for <3 months                                                                                   ,1-soc.prop.staying.o3.months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦           ¦   ¦           ¦   ¦           ¦--Remaining in the UK (community or other prison/IRC)                                                       ,soc.prop.staying.u3.months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦           ¦   ¦           ¦   ¦           ¦   °--Refer for treatment and forward details to receiving prison/community TB nurse                        ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦           ¦   ¦           ¦   ¦           ¦       °--TPT outcomes                                                                                      ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦           ¦   ¦           ¦   ¦           ¦           ¦--gets TPT                                                                                      ,soc.prop.staying.u3.months.uk.tpt,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0
     ¦               ¦           ¦   ¦           ¦   ¦           ¦           ¦   ¦--completed TPT                                                                             ,soc.prop.staying.u3.months.uk.complete.tpt,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,0,durTPT*(cost.dots) + TPT.visits*(cost.prison.escort),durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦               ¦           ¦   ¦           ¦   ¦           ¦           ¦   °--did not complete TPT                                                                      ,1-soc.prop.staying.u3.months.uk.complete.tpt,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,0,IncompDurTPT*(durTPT*(cost.dots) + TPT.visits*(cost.prison.escort)),IncompDurTPT*(durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit)),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦               ¦           ¦   ¦           ¦   ¦           ¦           °--does not get TPT                                                                              ,1-soc.prop.staying.u3.months.uk.tpt,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,1
     ¦               ¦           ¦   ¦           ¦   ¦           °--Early removal scheme or deportation                                                                       ,1-soc.prop.staying.u3.months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦               ¦           ¦   ¦           ¦   °--did not Attend                                                                                                        ,1-soc.prop.no.xray.nhs.attend.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦               ¦           ¦   ¦           °--Not referred to NHS TB service                                                                                            ,1-soc.prop.no.xray.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦               ¦           ¦   °--IGRA test -                                                                                                                           ,1-soc.prop.igra.test.positive,0,0,0,0,0,0,0,0,0,0,1,0,0,1,0,0,0,0,0,0,0,1
     ¦               ¦           °--no IGRA test                                                                                                                              ,1-soc.prop.igra.tested,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦               °--No chest x-ray                                                                                                                                        ,1-soc.prop.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦                   °--LTBI pathway                                                                                                                                      ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦                       ¦--IGRA test                                                                                                                                     ,soc.prop.igra.tested,cost.igra.test,0,cost.igra.test,0,0,0,cost.igra.test,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦                       ¦   ¦--IGRA test +                                                                                                                               ,soc.prop.igra.test.positive,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0
     ¦                       ¦   ¦   ¦--Previous chest x-ray                                                                                                                  ,soc.prop.prev.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦                       ¦   ¦   ¦   ¦--Abornomal chest x-ray                                                                                                             ,soc.prop.abnormal.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦                       ¦   ¦   ¦   ¦   ¦--Referred to NHS TB service                                                                                                    ,soc.prop.abn.xray.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦                       ¦   ¦   ¦   ¦   ¦   ¦--Attended                                                                                                                  ,soc.prop.abn.xray.nhs.attend.referral,cost.nhs.tb.service + cost.prison.escort + cost.tb.investigations,0,0,cost.nhs.tb.service + cost.prison.escort + cost.tb.investigations,0,cost.prison.escort,cost.nhs.tb.service + cost.tb.investigations,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦                       ¦   ¦   ¦   ¦   ¦   ¦   ¦--TB                                                                                                                    ,soc.prop.abn.xray.tb.dx,pIsolation*cost.prison.cell.isolation + cost.contact.tracing,0,0,pIsolation*cost.prison.cell.isolation + cost.contact.tracing,0,pIsolation*cost.prison.cell.isolation + cost.contact.tracing,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
     ¦                       ¦   ¦   ¦   ¦   ¦   ¦   ¦   °--TB outcomes                                                                                                       ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦                       ¦   ¦   ¦   ¦   ¦   ¦   ¦       ¦--ATT                                                                                                           ,soc.prop.starting.att,pAttending*(cost.nhs.tb.service + cost.prison.escort),0,0,0,pAttending*(cost.nhs.tb.service + cost.prison.escort),pAttending*(cost.prison.escort),pAttending*(cost.nhs.tb.service),0,0,0,0,0,0,0,0,0,1,0,0,0,0,0
     ¦                       ¦   ¦   ¦   ¦   ¦   ¦   ¦       ¦   ¦--completed ATT                                                                                             ,soc.prop.completing.att,(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + (1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visit + cost.prison.escort)) + (pDSTB*DurDSTB*cost.dsatt.drugs + (1-pDSTB)*DurMDRTB*cost.mdratt.drugs) + cost.dots*(pDSTB*DurDSTB + (1-pDSTB)*DurMDRTB),0,0,0,(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + (1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visit + cost.prison.escort)) + (pDSTB*DurDSTB*cost.dsatt.drugs + (1-pDSTB)*DurMDRTB*cost.mdratt.drugs) + cost.dots*(pDSTB*DurDSTB + (1-pDSTB)*DurMDRTB),(pDSTB*dstb.visits*(cost.prison.escort) + (1-pDSTB)*mdrtb.visits*(cost.prison.escort)),(pDSTB*dstb.visits*(cost.dstb.opd.visit ) + (1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visit )) + (pDSTB*DurDSTB*cost.dsatt.drugs + (1-pDSTB)*DurMDRTB*cost.mdratt.drugs) + cost.dots*(pDSTB*DurDSTB + (1-pDSTB)*DurMDRTB),0,0,0,0,0,0,0,0,0,0,0,1,0,0,1
     ¦                       ¦   ¦   ¦   ¦   ¦   ¦   ¦       ¦   °--did not complete ATT                                                                                      ,1-soc.prop.completing.att,IncompDurDSTB/DurDSTB*(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + pDSTB*DurDSTB*(cost.dsatt.drugs + cost.dots))+ IncompDurMDRTB/DurMDRTB*((1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visits + cost.prison.escort)  + (1-pDSTB)*DurMDRTB*(cost.mdratt.drugs + cost.dots)),0,0,0,IncompDurDSTB/DurDSTB*(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + pDSTB*DurDSTB*(cost.dsatt.drugs + cost.dots))+ IncompDurMDRTB/DurMDRTB*((1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visits + cost.prison.escort)  + (1-pDSTB)*DurMDRTB*(cost.mdratt.drugs + cost.dots)),IncompDurDSTB/DurDSTB*pDSTB*dstb.visits*(cost.prison.escort) + IncompDurMDRTB/DurMDRTB*(1-pDSTB)*mdrtb.visits*(cost.prison.escort),IncompDurDSTB/DurDSTB*(pDSTB*dstb.visits*(cost.dstb.opd.visit) + pDSTB*DurDSTB*(cost.dsatt.drugs + cost.dots))+ IncompDurMDRTB/DurMDRTB*((1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visits)  + (1-pDSTB)*DurMDRTB*(cost.mdratt.drugs + cost.dots)),0,0,0,0,0,0,0,0,0,0,0,1,0,0,1
     ¦                       ¦   ¦   ¦   ¦   ¦   ¦   ¦       °--no ATT                                                                                                        ,1-soc.prop.starting.att,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,1,1
     ¦                       ¦   ¦   ¦   ¦   ¦   ¦   °--Not TB                                                                                                                ,1-soc.prop.abn.xray.tb.dx,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦                       ¦   ¦   ¦   ¦   ¦   ¦       ¦--In prison/IRC for >3 months                                                                                       ,soc.prop.staying.o3.months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦                       ¦   ¦   ¦   ¦   ¦   ¦       ¦   °--Refer for treatment                                                                                           ,tpt.nhs.referral,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,0,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦                       ¦   ¦   ¦   ¦   ¦   ¦       ¦       °--TPT outcomes                                                                                              ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦                       ¦   ¦   ¦   ¦   ¦   ¦       ¦           ¦--gets TPT                                                                                              ,soc.prop.staying.o3.months.tpt,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0
     ¦                       ¦   ¦   ¦   ¦   ¦   ¦       ¦           ¦   ¦--completed TPT                                                                                     ,soc.prop.staying.o3.months.complete.tpt,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,0,durTPT*(cost.dots) + TPT.visits*(cost.prison.escort),durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦                       ¦   ¦   ¦   ¦   ¦   ¦       ¦           ¦   °--did not complete TPT                                                                              ,1-soc.prop.staying.o3.months.complete.tpt,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,0,IncompDurTPT*(durTPT*(cost.dots) + TPT.visits*(cost.prison.escort)),IncompDurTPT*(durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit)),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦                       ¦   ¦   ¦   ¦   ¦   ¦       ¦           °--does not get TPT                                                                                      ,1-soc.prop.staying.o3.months.tpt,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,1
     ¦                       ¦   ¦   ¦   ¦   ¦   ¦       °--In prison/IRC for <3 months                                                                                       ,1-soc.prop.staying.o3.months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦                       ¦   ¦   ¦   ¦   ¦   ¦           ¦--Remaining in the UK (community or other prison/IRC)                                                           ,soc.prop.staying.u3.months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦                       ¦   ¦   ¦   ¦   ¦   ¦           ¦   °--Refer for treatment and forward details to receiving prison/community TB nurse                            ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦                       ¦   ¦   ¦   ¦   ¦   ¦           ¦       °--TPT outcomes                                                                                          ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦                       ¦   ¦   ¦   ¦   ¦   ¦           ¦           ¦--gets TPT                                                                                          ,soc.prop.staying.u3.months.uk.tpt,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0
     ¦                       ¦   ¦   ¦   ¦   ¦   ¦           ¦           ¦   ¦--completed TPT                                                                                 ,soc.prop.staying.u3.months.uk.complete.tpt,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,0,durTPT*(cost.dots) + TPT.visits*(cost.prison.escort),durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦                       ¦   ¦   ¦   ¦   ¦   ¦           ¦           ¦   °--did not complete TPT                                                                          ,1-soc.prop.staying.u3.months.uk.complete.tpt,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,0,IncompDurTPT*(durTPT*(cost.dots) + TPT.visits*(cost.prison.escort)),IncompDurTPT*(durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit)),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦                       ¦   ¦   ¦   ¦   ¦   ¦           ¦           °--does not get TPT                                                                                  ,1-soc.prop.staying.u3.months.uk.tpt,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,1
     ¦                       ¦   ¦   ¦   ¦   ¦   ¦           °--Early removal scheme or deportation                                                                           ,1-soc.prop.staying.u3.months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦                       ¦   ¦   ¦   ¦   ¦   °--did not Attend                                                                                                            ,1-soc.prop.abn.xray.nhs.attend.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦                       ¦   ¦   ¦   ¦   °--Not referred to NHS TB service                                                                                                ,1-soc.prop.abn.xray.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦                       ¦   ¦   ¦   °--Normal chest x-ray                                                                                                                ,1-soc.prop.abnormal.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦                       ¦   ¦   ¦       ¦--In prison/IRC for >3 months                                                                                                   ,soc.prop.staying.o3.months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦                       ¦   ¦   ¦       ¦   °--Refer for treatment                                                                                                       ,tpt.nhs.referral,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,0,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦                       ¦   ¦   ¦       ¦       °--TPT outcomes                                                                                                          ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦                       ¦   ¦   ¦       ¦           ¦--gets TPT                                                                                                          ,soc.prop.staying.o3.months.tpt,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0
     ¦                       ¦   ¦   ¦       ¦           ¦   ¦--completed TPT                                                                                                 ,soc.prop.staying.o3.months.complete.tpt,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,0,durTPT*(cost.dots) + TPT.visits*(cost.prison.escort),durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦                       ¦   ¦   ¦       ¦           ¦   °--did not complete TPT                                                                                          ,1-soc.prop.staying.o3.months.complete.tpt,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,0,IncompDurTPT*(durTPT*(cost.dots) + TPT.visits*(cost.prison.escort)),IncompDurTPT*(durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit)),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦                       ¦   ¦   ¦       ¦           °--does not get TPT                                                                                                  ,1-soc.prop.staying.o3.months.tpt,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,1
     ¦                       ¦   ¦   ¦       °--In prison/IRC for <3 months                                                                                                   ,1-soc.prop.staying.o3.months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦                       ¦   ¦   ¦           ¦--Remaining in the UK (community or other prison/IRC)                                                                       ,soc.prop.staying.u3.months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦                       ¦   ¦   ¦           ¦   °--Refer for treatment and forward details to receiving prison/community TB nurse                                        ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦                       ¦   ¦   ¦           ¦       °--TPT outcomes                                                                                                      ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦                       ¦   ¦   ¦           ¦           ¦--gets TPT                                                                                                      ,soc.prop.staying.u3.months.uk.tpt,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0
     ¦                       ¦   ¦   ¦           ¦           ¦   ¦--completed TPT                                                                                             ,soc.prop.staying.u3.months.uk.complete.tpt,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,0,durTPT*(cost.dots) + TPT.visits*(cost.prison.escort),durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦                       ¦   ¦   ¦           ¦           ¦   °--did not complete TPT                                                                                      ,1-soc.prop.staying.u3.months.uk.complete.tpt,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,0,IncompDurTPT*(durTPT*(cost.dots) + TPT.visits*(cost.prison.escort)),IncompDurTPT*(durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit)),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦                       ¦   ¦   ¦           ¦           °--does not get TPT                                                                                              ,1-soc.prop.staying.u3.months.uk.tpt,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,1
     ¦                       ¦   ¦   ¦           °--Early removal scheme or deportation                                                                                       ,1-soc.prop.staying.u3.months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦                       ¦   ¦   °--No previous chest x-ray                                                                                                               ,1-soc.prop.prev.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦                       ¦   ¦       ¦--Chest x-ray                                                                                                                       ,soc.prop.xray,cost.chest.xray,0,0,cost.chest.xray,0,0,cost.chest.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦                       ¦   ¦       ¦   ¦--Abornomal chest x-ray                                                                                                         ,soc.prop.abnormal.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦                       ¦   ¦       ¦   ¦   ¦--Referred to NHS TB service                                                                                                ,soc.prop.abn.xray.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦                       ¦   ¦       ¦   ¦   ¦   ¦--Attended                                                                                                              ,soc.prop.abn.xray.nhs.attend.referral,cost.nhs.tb.service + cost.prison.escort + cost.tb.investigations,0,0,cost.nhs.tb.service + cost.prison.escort + cost.tb.investigations,0,cost.prison.escort,cost.nhs.tb.service + cost.tb.investigations,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦                       ¦   ¦       ¦   ¦   ¦   ¦   ¦--TB                                                                                                                ,soc.prop.abn.xray.tb.dx,pIsolation*cost.prison.cell.isolation + cost.contact.tracing,0,0,pIsolation*cost.prison.cell.isolation + cost.contact.tracing,0,pIsolation*cost.prison.cell.isolation + cost.contact.tracing,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
     ¦                       ¦   ¦       ¦   ¦   ¦   ¦   ¦   °--TB outcomes                                                                                                   ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦                       ¦   ¦       ¦   ¦   ¦   ¦   ¦       ¦--ATT                                                                                                       ,soc.prop.starting.att,pAttending*(cost.nhs.tb.service + cost.prison.escort),0,0,0,pAttending*(cost.nhs.tb.service + cost.prison.escort),pAttending*(cost.prison.escort),pAttending*(cost.nhs.tb.service),0,0,0,0,0,0,0,0,0,1,0,0,0,0,0
     ¦                       ¦   ¦       ¦   ¦   ¦   ¦   ¦       ¦   ¦--completed ATT                                                                                         ,soc.prop.completing.att,(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + (1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visit + cost.prison.escort)) + (pDSTB*DurDSTB*cost.dsatt.drugs + (1-pDSTB)*DurMDRTB*cost.mdratt.drugs) + cost.dots*(pDSTB*DurDSTB + (1-pDSTB)*DurMDRTB),0,0,0,(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + (1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visit + cost.prison.escort)) + (pDSTB*DurDSTB*cost.dsatt.drugs + (1-pDSTB)*DurMDRTB*cost.mdratt.drugs) + cost.dots*(pDSTB*DurDSTB + (1-pDSTB)*DurMDRTB),(pDSTB*dstb.visits*(cost.prison.escort) + (1-pDSTB)*mdrtb.visits*(cost.prison.escort)),(pDSTB*dstb.visits*(cost.dstb.opd.visit ) + (1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visit )) + (pDSTB*DurDSTB*cost.dsatt.drugs + (1-pDSTB)*DurMDRTB*cost.mdratt.drugs) + cost.dots*(pDSTB*DurDSTB + (1-pDSTB)*DurMDRTB),0,0,0,0,0,0,0,0,0,0,0,1,0,0,1
     ¦                       ¦   ¦       ¦   ¦   ¦   ¦   ¦       ¦   °--did not complete ATT                                                                                  ,1-soc.prop.completing.att,IncompDurDSTB/DurDSTB*(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + pDSTB*DurDSTB*(cost.dsatt.drugs + cost.dots))+ IncompDurMDRTB/DurMDRTB*((1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visits + cost.prison.escort)  + (1-pDSTB)*DurMDRTB*(cost.mdratt.drugs + cost.dots)),0,0,0,IncompDurDSTB/DurDSTB*(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + pDSTB*DurDSTB*(cost.dsatt.drugs + cost.dots))+ IncompDurMDRTB/DurMDRTB*((1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visits + cost.prison.escort)  + (1-pDSTB)*DurMDRTB*(cost.mdratt.drugs + cost.dots)),IncompDurDSTB/DurDSTB*pDSTB*dstb.visits*(cost.prison.escort) + IncompDurMDRTB/DurMDRTB*(1-pDSTB)*mdrtb.visits*(cost.prison.escort),IncompDurDSTB/DurDSTB*(pDSTB*dstb.visits*(cost.dstb.opd.visit) + pDSTB*DurDSTB*(cost.dsatt.drugs + cost.dots))+ IncompDurMDRTB/DurMDRTB*((1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visits)  + (1-pDSTB)*DurMDRTB*(cost.mdratt.drugs + cost.dots)),0,0,0,0,0,0,0,0,0,0,0,1,0,0,1
     ¦                       ¦   ¦       ¦   ¦   ¦   ¦   ¦       °--no ATT                                                                                                    ,1-soc.prop.starting.att,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,1,1
     ¦                       ¦   ¦       ¦   ¦   ¦   ¦   °--Not TB                                                                                                            ,1-soc.prop.abn.xray.tb.dx,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦                       ¦   ¦       ¦   ¦   ¦   ¦       ¦--In prison/IRC for >3 months                                                                                   ,soc.prop.staying.o3.months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦                       ¦   ¦       ¦   ¦   ¦   ¦       ¦   °--Refer for treatment                                                                                       ,tpt.nhs.referral,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,0,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦                       ¦   ¦       ¦   ¦   ¦   ¦       ¦       °--TPT outcomes                                                                                          ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦                       ¦   ¦       ¦   ¦   ¦   ¦       ¦           ¦--gets TPT                                                                                          ,soc.prop.staying.o3.months.tpt,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0
     ¦                       ¦   ¦       ¦   ¦   ¦   ¦       ¦           ¦   ¦--completed TPT                                                                                 ,soc.prop.staying.o3.months.complete.tpt,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,0,durTPT*(cost.dots) + TPT.visits*(cost.prison.escort),durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦                       ¦   ¦       ¦   ¦   ¦   ¦       ¦           ¦   °--did not complete TPT                                                                          ,1-soc.prop.staying.o3.months.complete.tpt,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,0,IncompDurTPT*(durTPT*(cost.dots) + TPT.visits*(cost.prison.escort)),IncompDurTPT*(durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit)),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦                       ¦   ¦       ¦   ¦   ¦   ¦       ¦           °--does not get TPT                                                                                  ,1-soc.prop.staying.o3.months.tpt,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,1
     ¦                       ¦   ¦       ¦   ¦   ¦   ¦       °--In prison/IRC for <3 months                                                                                   ,1-soc.prop.staying.o3.months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦                       ¦   ¦       ¦   ¦   ¦   ¦           ¦--Remaining in the UK (community or other prison/IRC)                                                       ,soc.prop.staying.u3.months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦                       ¦   ¦       ¦   ¦   ¦   ¦           ¦   °--Refer for treatment and forward details to receiving prison/community TB nurse                        ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦                       ¦   ¦       ¦   ¦   ¦   ¦           ¦       °--TPT outcomes                                                                                      ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦                       ¦   ¦       ¦   ¦   ¦   ¦           ¦           ¦--gets TPT                                                                                      ,soc.prop.staying.u3.months.uk.tpt,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0
     ¦                       ¦   ¦       ¦   ¦   ¦   ¦           ¦           ¦   ¦--completed TPT                                                                             ,soc.prop.staying.u3.months.uk.complete.tpt,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,0,durTPT*(cost.dots) + TPT.visits*(cost.prison.escort),durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦                       ¦   ¦       ¦   ¦   ¦   ¦           ¦           ¦   °--did not complete TPT                                                                      ,1-soc.prop.staying.u3.months.uk.complete.tpt,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,0,IncompDurTPT*(durTPT*(cost.dots) + TPT.visits*(cost.prison.escort)),IncompDurTPT*(durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit)),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦                       ¦   ¦       ¦   ¦   ¦   ¦           ¦           °--does not get TPT                                                                              ,1-soc.prop.staying.u3.months.uk.tpt,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,1
     ¦                       ¦   ¦       ¦   ¦   ¦   ¦           °--Early removal scheme or deportation                                                                       ,1-soc.prop.staying.u3.months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦                       ¦   ¦       ¦   ¦   ¦   °--did not Attend                                                                                                        ,1-soc.prop.abn.xray.nhs.attend.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦                       ¦   ¦       ¦   ¦   °--Not referred to NHS TB service                                                                                            ,1-soc.prop.abn.xray.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦                       ¦   ¦       ¦   °--Normal chest x-ray                                                                                                            ,1-soc.prop.abnormal.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦                       ¦   ¦       ¦       ¦--In prison/IRC for >3 months                                                                                               ,soc.prop.staying.o3.months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦                       ¦   ¦       ¦       ¦   °--Refer for treatment                                                                                                   ,tpt.nhs.referral,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,0,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦                       ¦   ¦       ¦       ¦       °--TPT outcomes                                                                                                      ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦                       ¦   ¦       ¦       ¦           ¦--gets TPT                                                                                                      ,soc.prop.staying.o3.months.tpt,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0
     ¦                       ¦   ¦       ¦       ¦           ¦   ¦--completed TPT                                                                                             ,soc.prop.staying.o3.months.complete.tpt,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,0,durTPT*(cost.dots) + TPT.visits*(cost.prison.escort),durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦                       ¦   ¦       ¦       ¦           ¦   °--did not complete TPT                                                                                      ,1-soc.prop.staying.o3.months.complete.tpt,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,0,IncompDurTPT*(durTPT*(cost.dots) + TPT.visits*(cost.prison.escort)),IncompDurTPT*(durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit)),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦                       ¦   ¦       ¦       ¦           °--does not get TPT                                                                                              ,1-soc.prop.staying.o3.months.tpt,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,1
     ¦                       ¦   ¦       ¦       °--In prison/IRC for <3 months                                                                                               ,1-soc.prop.staying.o3.months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦                       ¦   ¦       ¦           ¦--Remaining in the UK (community or other prison/IRC)                                                                   ,soc.prop.staying.u3.months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦                       ¦   ¦       ¦           ¦   °--Refer for treatment and forward details to receiving prison/community TB nurse                                    ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦                       ¦   ¦       ¦           ¦       °--TPT outcomes                                                                                                  ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦                       ¦   ¦       ¦           ¦           ¦--gets TPT                                                                                                  ,soc.prop.staying.u3.months.uk.tpt,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0
     ¦                       ¦   ¦       ¦           ¦           ¦   ¦--completed TPT                                                                                         ,soc.prop.staying.u3.months.uk.complete.tpt,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,0,durTPT*(cost.dots) + TPT.visits*(cost.prison.escort),durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦                       ¦   ¦       ¦           ¦           ¦   °--did not complete TPT                                                                                  ,1-soc.prop.staying.u3.months.uk.complete.tpt,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,0,IncompDurTPT*(durTPT*(cost.dots) + TPT.visits*(cost.prison.escort)),IncompDurTPT*(durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit)),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦                       ¦   ¦       ¦           ¦           °--does not get TPT                                                                                          ,1-soc.prop.staying.u3.months.uk.tpt,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,1
     ¦                       ¦   ¦       ¦           °--Early removal scheme or deportation                                                                                   ,1-soc.prop.staying.u3.months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦                       ¦   ¦       °--No chest x-ray                                                                                                                    ,1-soc.prop.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦                       ¦   ¦           ¦--Referred to NHS TB service                                                                                                    ,soc.prop.no.xray.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦                       ¦   ¦           ¦   ¦--Attended                                                                                                                  ,soc.prop.no.xray.nhs.attend.referral,cost.nhs.tb.service + cost.prison.escort + cost.tb.investigations,0,0,cost.nhs.tb.service + cost.prison.escort + cost.tb.investigations,0,cost.prison.escort,cost.nhs.tb.service + cost.tb.investigations,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦                       ¦   ¦           ¦   ¦   ¦--TB                                                                                                                    ,soc.prop.no.xray.tb.dx,pIsolation*cost.prison.cell.isolation + cost.contact.tracing,0,0,pIsolation*cost.prison.cell.isolation + cost.contact.tracing,0,pIsolation*cost.prison.cell.isolation + cost.contact.tracing,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0
     ¦                       ¦   ¦           ¦   ¦   ¦   °--TB outcomes                                                                                                       ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦                       ¦   ¦           ¦   ¦   ¦       ¦--ATT                                                                                                           ,soc.prop.starting.att,pAttending*(cost.nhs.tb.service + cost.prison.escort),0,0,0,pAttending*(cost.nhs.tb.service + cost.prison.escort),pAttending*(cost.prison.escort),pAttending*(cost.nhs.tb.service),0,0,0,0,0,0,0,0,0,1,0,0,0,0,0
     ¦                       ¦   ¦           ¦   ¦   ¦       ¦   ¦--completed ATT                                                                                             ,soc.prop.completing.att,(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + (1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visit + cost.prison.escort)) + (pDSTB*DurDSTB*cost.dsatt.drugs + (1-pDSTB)*DurMDRTB*cost.mdratt.drugs) + cost.dots*(pDSTB*DurDSTB + (1-pDSTB)*DurMDRTB),0,0,0,(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + (1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visit + cost.prison.escort)) + (pDSTB*DurDSTB*cost.dsatt.drugs + (1-pDSTB)*DurMDRTB*cost.mdratt.drugs) + cost.dots*(pDSTB*DurDSTB + (1-pDSTB)*DurMDRTB),(pDSTB*dstb.visits*(cost.prison.escort) + (1-pDSTB)*mdrtb.visits*(cost.prison.escort)),(pDSTB*dstb.visits*(cost.dstb.opd.visit ) + (1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visit )) + (pDSTB*DurDSTB*cost.dsatt.drugs + (1-pDSTB)*DurMDRTB*cost.mdratt.drugs) + cost.dots*(pDSTB*DurDSTB + (1-pDSTB)*DurMDRTB),0,0,0,0,0,0,0,0,0,0,0,1,0,0,1
     ¦                       ¦   ¦           ¦   ¦   ¦       ¦   °--did not complete ATT                                                                                      ,1-soc.prop.completing.att,IncompDurDSTB/DurDSTB*(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + pDSTB*DurDSTB*(cost.dsatt.drugs + cost.dots))+ IncompDurMDRTB/DurMDRTB*((1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visits + cost.prison.escort)  + (1-pDSTB)*DurMDRTB*(cost.mdratt.drugs + cost.dots)),0,0,0,IncompDurDSTB/DurDSTB*(pDSTB*dstb.visits*(cost.dstb.opd.visit + cost.prison.escort) + pDSTB*DurDSTB*(cost.dsatt.drugs + cost.dots))+ IncompDurMDRTB/DurMDRTB*((1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visits + cost.prison.escort)  + (1-pDSTB)*DurMDRTB*(cost.mdratt.drugs + cost.dots)),IncompDurDSTB/DurDSTB*pDSTB*dstb.visits*(cost.prison.escort) + IncompDurMDRTB/DurMDRTB*(1-pDSTB)*mdrtb.visits*(cost.prison.escort),IncompDurDSTB/DurDSTB*(pDSTB*dstb.visits*(cost.dstb.opd.visit) + pDSTB*DurDSTB*(cost.dsatt.drugs + cost.dots))+ IncompDurMDRTB/DurMDRTB*((1-pDSTB)*mdrtb.visits*(cost.mdrtb.opd.visits)  + (1-pDSTB)*DurMDRTB*(cost.mdratt.drugs + cost.dots)),0,0,0,0,0,0,0,0,0,0,0,1,0,0,1
     ¦                       ¦   ¦           ¦   ¦   ¦       °--no ATT                                                                                                        ,1-soc.prop.starting.att,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,1,1
     ¦                       ¦   ¦           ¦   ¦   °--Not TB                                                                                                                ,1-soc.prop.no.xray.tb.dx,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦                       ¦   ¦           ¦   ¦       ¦--In prison/IRC for >3 months                                                                                       ,soc.prop.staying.o3.months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦                       ¦   ¦           ¦   ¦       ¦   °--Refer for treatment                                                                                           ,tpt.nhs.referral,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,0,tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),tpt.nhs.referral*(cost.nhs.tb.service + cost.prison.escort),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦                       ¦   ¦           ¦   ¦       ¦       °--TPT outcomes                                                                                              ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦                       ¦   ¦           ¦   ¦       ¦           ¦--gets TPT                                                                                              ,soc.prop.staying.o3.months.tpt,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0
     ¦                       ¦   ¦           ¦   ¦       ¦           ¦   ¦--completed TPT                                                                                     ,soc.prop.staying.o3.months.complete.tpt,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,0,durTPT*(cost.dots) + TPT.visits*(cost.prison.escort),durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦                       ¦   ¦           ¦   ¦       ¦           ¦   °--did not complete TPT                                                                              ,1-soc.prop.staying.o3.months.complete.tpt,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,0,IncompDurTPT*(durTPT*(cost.dots) + TPT.visits*(cost.prison.escort)),IncompDurTPT*(durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit)),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦                       ¦   ¦           ¦   ¦       ¦           °--does not get TPT                                                                                      ,1-soc.prop.staying.o3.months.tpt,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,1
     ¦                       ¦   ¦           ¦   ¦       °--In prison/IRC for <3 months                                                                                       ,1-soc.prop.staying.o3.months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦                       ¦   ¦           ¦   ¦           ¦--Remaining in the UK (community or other prison/IRC)                                                           ,soc.prop.staying.u3.months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦                       ¦   ¦           ¦   ¦           ¦   °--Refer for treatment and forward details to receiving prison/community TB nurse                            ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦                       ¦   ¦           ¦   ¦           ¦       °--TPT outcomes                                                                                          ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦                       ¦   ¦           ¦   ¦           ¦           ¦--gets TPT                                                                                          ,soc.prop.staying.u3.months.uk.tpt,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0
     ¦                       ¦   ¦           ¦   ¦           ¦           ¦   ¦--completed TPT                                                                                 ,soc.prop.staying.u3.months.uk.complete.tpt,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort),0,0,durTPT*(cost.dots) + TPT.visits*(cost.prison.escort),durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦                       ¦   ¦           ¦   ¦           ¦           ¦   °--did not complete TPT                                                                          ,1-soc.prop.staying.u3.months.uk.complete.tpt,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,IncompDurTPT*(durTPT*(cost.ltbi.drugs + cost.dots) + TPT.visits*(cost.tpt.opd.visit + cost.prison.escort)),0,0,IncompDurTPT*(durTPT*(cost.dots) + TPT.visits*(cost.prison.escort)),IncompDurTPT*(durTPT*(cost.ltbi.drugs) + TPT.visits*(cost.tpt.opd.visit)),0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦                       ¦   ¦           ¦   ¦           ¦           °--does not get TPT                                                                                  ,1-soc.prop.staying.u3.months.uk.tpt,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,1,1
     ¦                       ¦   ¦           ¦   ¦           °--Early removal scheme or deportation                                                                           ,1-soc.prop.staying.u3.months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦                       ¦   ¦           ¦   °--did not Attend                                                                                                            ,1-soc.prop.no.xray.nhs.attend.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦                       ¦   ¦           °--Not referred to NHS TB service                                                                                                ,1-soc.prop.no.xray.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦                       ¦   °--IGRA test -                                                                                                                               ,1-soc.prop.igra.test.positive,0,0,0,0,0,0,0,0,0,0,1,0,0,1,0,0,0,0,0,0,0,1
     ¦                       °--no IGRA test                                                                                                                                  ,1-soc.prop.igra.tested,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     °--No TB screening                                                                                                                                                       ,1-soc.prop.tb.sympt.screen,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
