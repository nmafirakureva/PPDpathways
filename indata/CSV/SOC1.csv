levelName,p,cost,cost.screen,cost.tb.assessment,cost.prison.gp.assessment,cost.chest.xray,cost.prison.isolation.assess,cost.nhs.tb.service.assess,cost.prison.escort.xray,cost.prison.escort.assess,cost.tb.investigations,cost.igra.test,cost.prison.escort,cost.drugs,cost.nhs.tb.service,cost.dots,cost.nhs.ipd,cost.prison.bedwatch,cost.tb.evaluation,cost.tpt,cost.tpt.assessment,cost.tpt.initiation,cost.tpt.complete,cost.tpt.incomplete,cost.att,cost.prison.isolation.att,cost.att.initiation,cost.att.complete,cost.att.incomplete ,cost.contact.management,cost.ppd,cost.nhs,screen,presumtb,prisongp,tbsuspicion,xray,attendnhs,prevtbdx,igra,ltbi,stayingo3m,tpt,tpt_complete,coprevtb,isolated,att,att_complete,attend,tptend,check
Standard of care pathway                                                                                                                                                      ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
 °--New people in PPDs                                                                                                                                                        ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦--TB screening                                                                                                                                                          ,soc.prop.tb.sympt.screen,cost.tb.sympt.screen,cost.tb.sympt.screen,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,cost.tb.sympt.screen,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦--Previous TB diagnosis                                                                                                                                             ,soc.prop.prev.tb.dx,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦--Started TB treatment                                                                                                                                          ,prop.previous.tb.started.att,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦   ¦--Still on treatment for TB                                                                                                                                 ,soc.prop.prev.tb.dx.still.on.att,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦   ¦   °--Refer to TB services                                                                                                                                  ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦   ¦       ¦--Attended TB referral                                                                                                                              ,soc.prop.attend.nhs.referral,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,0,0,0,0,0,cost.attending.nhs.tb.service,0,0,0,0,0,ucost.prison.escort ,ucost.nhs.tb.service ,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦   ¦       ¦   ¦--continue ATT                                                                                                                                  ,soc.prop.prev.tb.dx.continue.att,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0
     ¦   ¦   ¦   ¦       ¦   ¦   ¦--completed ATT                                                                                                                             ,soc.prop.completing.att,cost.att.complete,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort * (pDSTB * dstb.visits + (1 - pDSTB) * mdrtb.visits) ,pDSTB * DurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * DurMDRTB * ucost.mdratt.drugs,pDSTB * dstb.visits*ucost.dstb.opd.visit + (1 - pDSTB) * mdrtb.visits * ucost.mdrtb.opd.visit,ucost.dots * (pDSTB * DurDSTB + (1 - pDSTB) * DurMDRTB),(pDSTB * smear.positive * DurDSTBIsolation * ucost.dstb.ipd +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * ucost.mdrtb.ipd + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * ucost.mdrtb.ipd),ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation),0,0,0,0,0,0,cost.att.complete,0,0,cost.att.complete,0,0,(ucost.prison.escort * (pDSTB * dstb.visits + (1 - pDSTB) * mdrtb.visits)  + ucost.dots * (pDSTB * DurDSTB + (1 - pDSTB) * DurMDRTB) + ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation)),(pDSTB * DurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * DurMDRTB * ucost.mdratt.drugs + pDSTB * dstb.visits*(ucost.dstb.opd.visit) + (1 - pDSTB) * mdrtb.visits * (ucost.mdrtb.opd.visit) + (pDSTB * smear.positive * DurDSTBIsolation * (ucost.dstb.ipd) +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * (ucost.mdrtb.ipd) + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * (ucost.mdrtb.ipd))),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,1
     ¦   ¦   ¦   ¦       ¦   ¦   °--did not complete ATT                                                                                                                      ,1-soc.prop.completing.att,cost.att.incomplete ,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort * (IncompDurDSTB/DurDSTB*pDSTB * dstb.visits + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits),pDSTB  * IncompDurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * IncompDurMDRTB  * ucost.mdratt.drugs,IncompDurDSTB / DurDSTB * pDSTB * dstb.visits*ucost.dstb.opd.visit + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits * ucost.mdrtb.opd.visit,ucost.dots * (pDSTB * IncompDurDSTB + (1 - pDSTB) * IncompDurMDRTB),(pDSTB * smear.positive * DurDSTBIsolation * ucost.dstb.ipd +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * ucost.mdrtb.ipd + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * ucost.mdrtb.ipd),ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation),0,0,0,0,0,0,cost.att.incomplete ,0,0,0,cost.att.incomplete ,0,(ucost.prison.escort * (IncompDurDSTB/DurDSTB*pDSTB * dstb.visits + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits) + ucost.dots * (pDSTB * IncompDurDSTB + (1 - pDSTB) * IncompDurMDRTB) + ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  + (1 - pDSTB) * smear.positive * DurMDRTB2Isolation+ (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation)),(pDSTB  * IncompDurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * IncompDurMDRTB * ucost.mdratt.drugs) + (IncompDurDSTB / DurDSTB * pDSTB * dstb.visits*ucost.dstb.opd.visit + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits * ucost.mdrtb.opd.visit) + ((pDSTB * smear.positive * DurDSTBIsolation * (ucost.dstb.ipd) +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * (ucost.mdrtb.ipd) +(1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * (ucost.mdrtb.ipd))),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦   ¦   ¦   ¦       ¦   °--did not continue ATT                                                                                                                          ,1-soc.prop.prev.tb.dx.continue.att,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦   ¦       °--Did not attend TB referral                                                                                                                        ,1-soc.prop.attend.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦   °--Not on treatment for TB                                                                                                                                   ,1-soc.prop.prev.tb.dx.still.on.att,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦--TB symptoms                                                                                                                                           ,soc.prop.presumtive.tb,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦--Prison GP assessment                                                                                                                              ,soc.prop.prison.gp.assessment,cost.prison.gp.assessment,0,cost.prison.gp.assessment,cost.prison.gp.assessment,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,cost.prison.gp.assessment,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦   ¦--Clinical suspicion of TB                                                                                                                      ,soc.prop.clinical.tb.suspicion,cost.prison.isolation,0,cost.prison.isolation,0,0,cost.prison.isolation,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,cost.prison.isolation,0,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦   ¦   °--Urgent referral to local NHS TB service                                                                                                   ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦   ¦       ¦--Attended TB referral                                                                                                                  ,soc.prop.attend.nhs.referral,cost.tb.evaluation,0,cost.tb.evaluation,0,0,0,cost.nhs.tb.service,0,ucost.prison.escort,cost.tb.investigations,0,0,0,0,0,0,0,cost.tb.evaluation,0,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort ,ucost.nhs.tb.service + ucost.tb.investigations,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦   ¦       ¦   ¦--TB                                                                                                                                ,soc.prop.prev.tb.tx.symp.tb.dx,cost.contact.management,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,cost.contact.management,smear.positive * (cost.prison.isolation),0,0,0,smear.positive * (nContacts * ucost.contact.tracing),cost.contact.management,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦   ¦       ¦   ¦   °--TB outcomes                                                                                                                   ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦   ¦       ¦   ¦       ¦--ATT                                                                                                                       ,soc.prop.starting.att,cost.att.initiation,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,0,0,0,0,0,cost.att.initiation,0,cost.att.initiation,0,0,0,ucost.prison.escort,ucost.nhs.tb.service ,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0
     ¦   ¦   ¦       ¦   ¦   ¦       ¦   ¦       ¦   ¦--completed ATT                                                                                                         ,soc.prop.completing.att,cost.att.complete,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort * (pDSTB * dstb.visits + (1 - pDSTB) * mdrtb.visits) ,pDSTB * DurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * DurMDRTB * ucost.mdratt.drugs,pDSTB * dstb.visits*ucost.dstb.opd.visit + (1 - pDSTB) * mdrtb.visits * ucost.mdrtb.opd.visit,ucost.dots * (pDSTB * DurDSTB + (1 - pDSTB) * DurMDRTB),(pDSTB * smear.positive * DurDSTBIsolation * ucost.dstb.ipd +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * ucost.mdrtb.ipd + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * ucost.mdrtb.ipd),ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation),0,0,0,0,0,0,cost.att.complete,0,0,cost.att.complete,0,0,(ucost.prison.escort * (pDSTB * dstb.visits + (1 - pDSTB) * mdrtb.visits)  + ucost.dots * (pDSTB * DurDSTB + (1 - pDSTB) * DurMDRTB) + ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation)),(pDSTB * DurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * DurMDRTB * ucost.mdratt.drugs + pDSTB * dstb.visits*(ucost.dstb.opd.visit) + (1 - pDSTB) * mdrtb.visits * (ucost.mdrtb.opd.visit) + (pDSTB * smear.positive * DurDSTBIsolation * (ucost.dstb.ipd) +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * (ucost.mdrtb.ipd) + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * (ucost.mdrtb.ipd))),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,1
     ¦   ¦   ¦       ¦   ¦   ¦       ¦   ¦       ¦   °--did not complete ATT                                                                                                  ,1-soc.prop.completing.att,cost.att.incomplete ,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort * (IncompDurDSTB/DurDSTB*pDSTB * dstb.visits + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits),pDSTB  * IncompDurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * IncompDurMDRTB  * ucost.mdratt.drugs,IncompDurDSTB / DurDSTB * pDSTB * dstb.visits*ucost.dstb.opd.visit + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits * ucost.mdrtb.opd.visit,ucost.dots * (pDSTB * IncompDurDSTB + (1 - pDSTB) * IncompDurMDRTB),(pDSTB * smear.positive * DurDSTBIsolation * ucost.dstb.ipd +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * ucost.mdrtb.ipd + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * ucost.mdrtb.ipd),ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation),0,0,0,0,0,0,cost.att.incomplete ,0,0,0,cost.att.incomplete ,0,(ucost.prison.escort * (IncompDurDSTB/DurDSTB*pDSTB * dstb.visits + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits) + ucost.dots * (pDSTB * IncompDurDSTB + (1 - pDSTB) * IncompDurMDRTB) + ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  + (1 - pDSTB) * smear.positive * DurMDRTB2Isolation+ (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation)),(pDSTB  * IncompDurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * IncompDurMDRTB * ucost.mdratt.drugs) + (IncompDurDSTB / DurDSTB * pDSTB * dstb.visits*ucost.dstb.opd.visit + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits * ucost.mdrtb.opd.visit) + ((pDSTB * smear.positive * DurDSTBIsolation * (ucost.dstb.ipd) +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * (ucost.mdrtb.ipd) +(1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * (ucost.mdrtb.ipd))),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦   ¦   ¦       ¦   ¦   ¦       ¦   ¦       °--no ATT                                                                                                                    ,1-soc.prop.starting.att,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦       ¦   ¦   ¦       ¦   °--Not TB                                                                                                                            ,1-soc.prop.prev.tb.tx.symp.tb.dx,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦   ¦       ¦       °--LTBI pathway                                                                                                                  ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦--IGRA test                                                                                                                 ,soc.prop.igra.tested,cost.igra.test,0,0,0,0,0,0,0,0,0,cost.igra.test,0,0,0,0,0,0,0,cost.igra.test,0,0,0,0,0,0,0,0,0,0,0,ucost.igra.test,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦--IGRA test +                                                                                                           ,soc.prop.igra.test.positive,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦--Previous chest x-ray                                                                                              ,soc.prop.prev.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦   ¦--Abornomal chest x-ray                                                                                         ,soc.prop.abnormal.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦--Referred to NHS TB service                                                                                ,nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦--Attended TB referral                                                                                  ,soc.prop.attend.nhs.referral,cost.tb.evaluation,0,cost.tb.evaluation,0,0,0,cost.nhs.tb.service,0,ucost.prison.escort,cost.tb.investigations,0,0,0,0,0,0,0,cost.tb.evaluation,0,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort ,ucost.nhs.tb.service + ucost.tb.investigations,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦   ¦--TB                                                                                                ,soc.prop.abn.xray.tb.dx,cost.contact.management,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,cost.contact.management,smear.positive * (cost.prison.isolation),0,0,0,smear.positive * (nContacts * ucost.contact.tracing),cost.contact.management,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦   ¦   °--TB outcomes                                                                                   ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦   ¦       ¦--ATT                                                                                       ,soc.prop.starting.att,cost.att.initiation,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,0,0,0,0,0,cost.att.initiation,0,cost.att.initiation,0,0,0,ucost.prison.escort,ucost.nhs.tb.service ,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦   ¦       ¦   ¦--completed ATT                                                                         ,soc.prop.completing.att,cost.att.complete,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort * (pDSTB * dstb.visits + (1 - pDSTB) * mdrtb.visits) ,pDSTB * DurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * DurMDRTB * ucost.mdratt.drugs,pDSTB * dstb.visits*ucost.dstb.opd.visit + (1 - pDSTB) * mdrtb.visits * ucost.mdrtb.opd.visit,ucost.dots * (pDSTB * DurDSTB + (1 - pDSTB) * DurMDRTB),(pDSTB * smear.positive * DurDSTBIsolation * ucost.dstb.ipd +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * ucost.mdrtb.ipd + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * ucost.mdrtb.ipd),ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation),0,0,0,0,0,0,cost.att.complete,0,0,cost.att.complete,0,0,(ucost.prison.escort * (pDSTB * dstb.visits + (1 - pDSTB) * mdrtb.visits)  + ucost.dots * (pDSTB * DurDSTB + (1 - pDSTB) * DurMDRTB) + ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation)),(pDSTB * DurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * DurMDRTB * ucost.mdratt.drugs + pDSTB * dstb.visits*(ucost.dstb.opd.visit) + (1 - pDSTB) * mdrtb.visits * (ucost.mdrtb.opd.visit) + (pDSTB * smear.positive * DurDSTBIsolation * (ucost.dstb.ipd) +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * (ucost.mdrtb.ipd) + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * (ucost.mdrtb.ipd))),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,1
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦   ¦       ¦   °--did not complete ATT                                                                  ,1-soc.prop.completing.att,cost.att.incomplete ,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort * (IncompDurDSTB/DurDSTB*pDSTB * dstb.visits + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits),pDSTB  * IncompDurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * IncompDurMDRTB  * ucost.mdratt.drugs,IncompDurDSTB / DurDSTB * pDSTB * dstb.visits*ucost.dstb.opd.visit + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits * ucost.mdrtb.opd.visit,ucost.dots * (pDSTB * IncompDurDSTB + (1 - pDSTB) * IncompDurMDRTB),(pDSTB * smear.positive * DurDSTBIsolation * ucost.dstb.ipd +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * ucost.mdrtb.ipd + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * ucost.mdrtb.ipd),ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation),0,0,0,0,0,0,cost.att.incomplete ,0,0,0,cost.att.incomplete ,0,(ucost.prison.escort * (IncompDurDSTB/DurDSTB*pDSTB * dstb.visits + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits) + ucost.dots * (pDSTB * IncompDurDSTB + (1 - pDSTB) * IncompDurMDRTB) + ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  + (1 - pDSTB) * smear.positive * DurMDRTB2Isolation+ (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation)),(pDSTB  * IncompDurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * IncompDurMDRTB * ucost.mdratt.drugs) + (IncompDurDSTB / DurDSTB * pDSTB * dstb.visits*ucost.dstb.opd.visit + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits * ucost.mdrtb.opd.visit) + ((pDSTB * smear.positive * DurDSTBIsolation * (ucost.dstb.ipd) +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * (ucost.mdrtb.ipd) +(1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * (ucost.mdrtb.ipd))),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦   ¦       °--no ATT                                                                                    ,1-soc.prop.starting.att,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦   °--Not TB                                                                                            ,1-soc.prop.abn.xray.tb.dx,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦       ¦--In prison/IRC for >3 months                                                                   ,soc.prop.staying.3+months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦       ¦   °--Refer for treatment                                                                       ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦       ¦       ¦--Attended TPT referral                                                                 ,soc.prop.attend.nhs.referral,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.attending.nhs.tb.service,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,ucost.prison.escort ,ucost.nhs.tb.service,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦       ¦       ¦   °--TPT outcomes                                                                      ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦       ¦       ¦       ¦--gets TPT                                                                      ,soc.prop.starting.tpt,cost.tpt.initiation,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.tpt.initiation,0,cost.tpt.initiation,0,0,0,0,0,0,0,0,ucost.prison.escort,ucost.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦       ¦       ¦       ¦   ¦--completed TPT                                                             ,soc.prop.completing.tpt,cost.tpt.complete,0,0,0,0,0,0,0,0,0,0,TPT.visits*(ucost.prison.escort),durTPT*(ucost.ltbi.drugs),TPT.visits*(ucost.tpt.opd.visit),durTPT*(ucost.dots),0,0,0,cost.tpt.complete,0,0,cost.tpt.complete,0,0,0,0,0,0,0,(TPT.visits*ucost.prison.escort + durTPT*ucost.dots),(durTPT*ucost.ltbi.drugs+ TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,1
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦       ¦       ¦       ¦   °--did not complete TPT                                                      ,1-soc.prop.completing.tpt,cost.tpt.incomplete,0,0,0,0,0,0,0,0,0,0,IncompDurTPT / durTPT * TPT.visits*ucost.prison.escort,IncompDurTPT*ucost.ltbi.drugs,IncompDurTPT / durTPT * TPT.visits*ucost.tpt.opd.visit,IncompDurTPT*ucost.dots,0,0,0,cost.tpt.incomplete,0,0,0,cost.tpt.incomplete,0,0,0,0,0,0,(IncompDurTPT/durTPT*TPT.visits*ucost.prison.escort + IncompDurTPT*ucost.dots),(IncompDurTPT*ucost.ltbi.drugs + IncompDurTPT/durTPT*TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦       ¦       ¦       °--does not get TPT                                                              ,1-soc.prop.starting.tpt,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦       ¦       °--Did not attend TB referral TPT referral                                               ,1-soc.prop.attend.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦       °--In prison/IRC for <3 months                                                                   ,1-soc.prop.staying.3+months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦           ¦--Remaining in the UK (community or other prison/IRC)                                       ,soc.prop.staying.<3months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦           ¦   °--Refer for treatment and forward details to receiving prison/community TB nurse        ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦           ¦       ¦--Attended TPT referral                                                             ,soc.prop.attend.nhs.referral,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.attending.nhs.tb.service,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,ucost.prison.escort ,ucost.nhs.tb.service,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦           ¦       ¦   °--TPT outcomes                                                                  ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦           ¦       ¦       ¦--gets TPT                                                                  ,soc.prop.starting.tpt,cost.tpt.initiation,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.tpt.initiation,0,cost.tpt.initiation,0,0,0,0,0,0,0,0,ucost.prison.escort,ucost.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦           ¦       ¦       ¦   ¦--completed TPT                                                         ,soc.prop.completing.tpt,cost.tpt.complete,0,0,0,0,0,0,0,0,0,0,TPT.visits*(ucost.prison.escort),durTPT*(ucost.ltbi.drugs),TPT.visits*(ucost.tpt.opd.visit),durTPT*(ucost.dots),0,0,0,cost.tpt.complete,0,0,cost.tpt.complete,0,0,0,0,0,0,0,(TPT.visits*ucost.prison.escort + durTPT*ucost.dots),(durTPT*ucost.ltbi.drugs+ TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,1
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦           ¦       ¦       ¦   °--did not complete TPT                                                  ,1-soc.prop.completing.tpt,cost.tpt.incomplete,0,0,0,0,0,0,0,0,0,0,IncompDurTPT / durTPT * TPT.visits*ucost.prison.escort,IncompDurTPT*ucost.ltbi.drugs,IncompDurTPT / durTPT * TPT.visits*ucost.tpt.opd.visit,IncompDurTPT*ucost.dots,0,0,0,cost.tpt.incomplete,0,0,0,cost.tpt.incomplete,0,0,0,0,0,0,(IncompDurTPT/durTPT*TPT.visits*ucost.prison.escort + IncompDurTPT*ucost.dots),(IncompDurTPT*ucost.ltbi.drugs + IncompDurTPT/durTPT*TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦           ¦       ¦       °--does not get TPT                                                          ,1-soc.prop.starting.tpt,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦           ¦       °--Did not attend TPT referral                                                       ,1-soc.prop.attend.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦           °--Early removal scheme or deportation                                                       ,1-soc.prop.staying.<3months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   °--Did not attend TB referral                                                                            ,1-soc.prop.attend.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦   ¦   °--Not referred to NHS TB service                                                                            ,1-nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦   °--Normal chest x-ray                                                                                            ,1-soc.prop.abnormal.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦       ¦--In prison/IRC for >3 months                                                                               ,soc.prop.staying.3+months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦       ¦   °--Refer for treatment                                                                                   ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦       ¦       ¦--Attended TPT referral                                                                             ,soc.prop.attend.nhs.referral,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.attending.nhs.tb.service,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,ucost.prison.escort ,ucost.nhs.tb.service,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦       ¦       ¦   °--TPT outcomes                                                                                  ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦       ¦       ¦       ¦--gets TPT                                                                                  ,soc.prop.starting.tpt,cost.tpt.initiation,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.tpt.initiation,0,cost.tpt.initiation,0,0,0,0,0,0,0,0,ucost.prison.escort,ucost.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦       ¦       ¦       ¦   ¦--completed TPT                                                                         ,soc.prop.completing.tpt,cost.tpt.complete,0,0,0,0,0,0,0,0,0,0,TPT.visits*(ucost.prison.escort),durTPT*(ucost.ltbi.drugs),TPT.visits*(ucost.tpt.opd.visit),durTPT*(ucost.dots),0,0,0,cost.tpt.complete,0,0,cost.tpt.complete,0,0,0,0,0,0,0,(TPT.visits*ucost.prison.escort + durTPT*ucost.dots),(durTPT*ucost.ltbi.drugs+ TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,1
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦       ¦       ¦       ¦   °--did not complete TPT                                                                  ,1-soc.prop.completing.tpt,cost.tpt.incomplete,0,0,0,0,0,0,0,0,0,0,IncompDurTPT / durTPT * TPT.visits*ucost.prison.escort,IncompDurTPT*ucost.ltbi.drugs,IncompDurTPT / durTPT * TPT.visits*ucost.tpt.opd.visit,IncompDurTPT*ucost.dots,0,0,0,cost.tpt.incomplete,0,0,0,cost.tpt.incomplete,0,0,0,0,0,0,(IncompDurTPT/durTPT*TPT.visits*ucost.prison.escort + IncompDurTPT*ucost.dots),(IncompDurTPT*ucost.ltbi.drugs + IncompDurTPT/durTPT*TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦       ¦       ¦       °--does not get TPT                                                                          ,1-soc.prop.starting.tpt,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦       ¦       °--Did not attend TPT referral                                                                       ,1-soc.prop.attend.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦       °--In prison/IRC for <3 months                                                                               ,1-soc.prop.staying.3+months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦           ¦--Remaining in the UK (community or other prison/IRC)                                                   ,soc.prop.staying.<3months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦           ¦   °--Refer for treatment and forward details to receiving prison/community TB nurse                    ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦           ¦       ¦--Attended TPT referral                                                                         ,soc.prop.attend.nhs.referral,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.attending.nhs.tb.service,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,ucost.prison.escort ,ucost.nhs.tb.service,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦           ¦       ¦   °--TPT outcomes                                                                              ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦           ¦       ¦       ¦--gets TPT                                                                              ,soc.prop.starting.tpt,cost.tpt.initiation,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.tpt.initiation,0,cost.tpt.initiation,0,0,0,0,0,0,0,0,ucost.prison.escort,ucost.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦           ¦       ¦       ¦   ¦--completed TPT                                                                     ,soc.prop.completing.tpt,cost.tpt.complete,0,0,0,0,0,0,0,0,0,0,TPT.visits*(ucost.prison.escort),durTPT*(ucost.ltbi.drugs),TPT.visits*(ucost.tpt.opd.visit),durTPT*(ucost.dots),0,0,0,cost.tpt.complete,0,0,cost.tpt.complete,0,0,0,0,0,0,0,(TPT.visits*ucost.prison.escort + durTPT*ucost.dots),(durTPT*ucost.ltbi.drugs+ TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,1
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦           ¦       ¦       ¦   °--did not complete TPT                                                              ,1-soc.prop.completing.tpt,cost.tpt.incomplete,0,0,0,0,0,0,0,0,0,0,IncompDurTPT / durTPT * TPT.visits*ucost.prison.escort,IncompDurTPT*ucost.ltbi.drugs,IncompDurTPT / durTPT * TPT.visits*ucost.tpt.opd.visit,IncompDurTPT*ucost.dots,0,0,0,cost.tpt.incomplete,0,0,0,cost.tpt.incomplete,0,0,0,0,0,0,(IncompDurTPT/durTPT*TPT.visits*ucost.prison.escort + IncompDurTPT*ucost.dots),(IncompDurTPT*ucost.ltbi.drugs + IncompDurTPT/durTPT*TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦           ¦       ¦       °--does not get TPT                                                                      ,1-soc.prop.starting.tpt,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦           ¦       °--Did not attend TPT referral                                                                   ,1-soc.prop.attend.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦           °--Early removal scheme or deportation                                                                   ,1-soc.prop.staying.<3months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦   °--No previous chest x-ray                                                                                           ,1-soc.prop.prev.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦--Chest x-ray                                                                                                   ,soc.prop.xray,cost.chest.xray,0,cost.chest.xray,0,ucost.chest.xray,0,0,ucost.prison.escort,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,ucost.chest.xray,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦   ¦--Abornomal chest x-ray                                                                                     ,soc.prop.abnormal.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦--Referred to NHS TB service                                                                            ,nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦--Attended TB referral                                                                              ,soc.prop.attend.nhs.referral,cost.tb.evaluation,0,cost.tb.evaluation,0,0,0,cost.nhs.tb.service,0,ucost.prison.escort,cost.tb.investigations,0,0,0,0,0,0,0,cost.tb.evaluation,0,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort ,ucost.nhs.tb.service + ucost.tb.investigations,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦   ¦--TB                                                                                            ,soc.prop.abn.xray.tb.dx,cost.contact.management,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,cost.contact.management,smear.positive * (cost.prison.isolation),0,0,0,smear.positive * (nContacts * ucost.contact.tracing),cost.contact.management,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦   ¦   °--TB outcomes                                                                               ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦   ¦       ¦--ATT                                                                                   ,soc.prop.starting.att,cost.att.initiation,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,0,0,0,0,0,cost.att.initiation,0,cost.att.initiation,0,0,0,ucost.prison.escort,ucost.nhs.tb.service ,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦   ¦       ¦   ¦--completed ATT                                                                     ,soc.prop.completing.att,cost.att.complete,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort * (pDSTB * dstb.visits + (1 - pDSTB) * mdrtb.visits) ,pDSTB * DurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * DurMDRTB * ucost.mdratt.drugs,pDSTB * dstb.visits*ucost.dstb.opd.visit + (1 - pDSTB) * mdrtb.visits * ucost.mdrtb.opd.visit,ucost.dots * (pDSTB * DurDSTB + (1 - pDSTB) * DurMDRTB),(pDSTB * smear.positive * DurDSTBIsolation * ucost.dstb.ipd +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * ucost.mdrtb.ipd + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * ucost.mdrtb.ipd),ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation),0,0,0,0,0,0,cost.att.complete,0,0,cost.att.complete,0,0,(ucost.prison.escort * (pDSTB * dstb.visits + (1 - pDSTB) * mdrtb.visits)  + ucost.dots * (pDSTB * DurDSTB + (1 - pDSTB) * DurMDRTB) + ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation)),(pDSTB * DurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * DurMDRTB * ucost.mdratt.drugs + pDSTB * dstb.visits*(ucost.dstb.opd.visit) + (1 - pDSTB) * mdrtb.visits * (ucost.mdrtb.opd.visit) + (pDSTB * smear.positive * DurDSTBIsolation * (ucost.dstb.ipd) +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * (ucost.mdrtb.ipd) + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * (ucost.mdrtb.ipd))),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,1
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦   ¦       ¦   °--did not complete ATT                                                              ,1-soc.prop.completing.att,cost.att.incomplete ,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort * (IncompDurDSTB/DurDSTB*pDSTB * dstb.visits + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits),pDSTB  * IncompDurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * IncompDurMDRTB  * ucost.mdratt.drugs,IncompDurDSTB / DurDSTB * pDSTB * dstb.visits*ucost.dstb.opd.visit + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits * ucost.mdrtb.opd.visit,ucost.dots * (pDSTB * IncompDurDSTB + (1 - pDSTB) * IncompDurMDRTB),(pDSTB * smear.positive * DurDSTBIsolation * ucost.dstb.ipd +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * ucost.mdrtb.ipd + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * ucost.mdrtb.ipd),ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation),0,0,0,0,0,0,cost.att.incomplete ,0,0,0,cost.att.incomplete ,0,(ucost.prison.escort * (IncompDurDSTB/DurDSTB*pDSTB * dstb.visits + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits) + ucost.dots * (pDSTB * IncompDurDSTB + (1 - pDSTB) * IncompDurMDRTB) + ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  + (1 - pDSTB) * smear.positive * DurMDRTB2Isolation+ (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation)),(pDSTB  * IncompDurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * IncompDurMDRTB * ucost.mdratt.drugs) + (IncompDurDSTB / DurDSTB * pDSTB * dstb.visits*ucost.dstb.opd.visit + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits * ucost.mdrtb.opd.visit) + ((pDSTB * smear.positive * DurDSTBIsolation * (ucost.dstb.ipd) +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * (ucost.mdrtb.ipd) +(1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * (ucost.mdrtb.ipd))),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦   ¦       °--no ATT                                                                                ,1-soc.prop.starting.att,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦   °--Not TB                                                                                        ,1-soc.prop.abn.xray.tb.dx,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦       ¦--In prison/IRC for >3 months                                                               ,soc.prop.staying.3+months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦       ¦   °--Refer for treatment                                                                   ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦       ¦       ¦--Attended TPT referral                                                             ,soc.prop.attend.nhs.referral,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.attending.nhs.tb.service,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,ucost.prison.escort ,ucost.nhs.tb.service,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦       ¦       ¦   °--TPT outcomes                                                                  ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦       ¦       ¦       ¦--gets TPT                                                                  ,soc.prop.starting.tpt,cost.tpt.initiation,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.tpt.initiation,0,cost.tpt.initiation,0,0,0,0,0,0,0,0,ucost.prison.escort,ucost.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦       ¦       ¦       ¦   ¦--completed TPT                                                         ,soc.prop.completing.tpt,cost.tpt.complete,0,0,0,0,0,0,0,0,0,0,TPT.visits*(ucost.prison.escort),durTPT*(ucost.ltbi.drugs),TPT.visits*(ucost.tpt.opd.visit),durTPT*(ucost.dots),0,0,0,cost.tpt.complete,0,0,cost.tpt.complete,0,0,0,0,0,0,0,(TPT.visits*ucost.prison.escort + durTPT*ucost.dots),(durTPT*ucost.ltbi.drugs+ TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,1
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦       ¦       ¦       ¦   °--did not complete TPT                                                  ,1-soc.prop.completing.tpt,cost.tpt.incomplete,0,0,0,0,0,0,0,0,0,0,IncompDurTPT / durTPT * TPT.visits*ucost.prison.escort,IncompDurTPT*ucost.ltbi.drugs,IncompDurTPT / durTPT * TPT.visits*ucost.tpt.opd.visit,IncompDurTPT*ucost.dots,0,0,0,cost.tpt.incomplete,0,0,0,cost.tpt.incomplete,0,0,0,0,0,0,(IncompDurTPT/durTPT*TPT.visits*ucost.prison.escort + IncompDurTPT*ucost.dots),(IncompDurTPT*ucost.ltbi.drugs + IncompDurTPT/durTPT*TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦       ¦       ¦       °--does not get TPT                                                          ,1-soc.prop.starting.tpt,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦       ¦       °--Did not attend TPT referral                                                       ,1-soc.prop.attend.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦       °--In prison/IRC for <3 months                                                               ,1-soc.prop.staying.3+months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦           ¦--Remaining in the UK (community or other prison/IRC)                                   ,soc.prop.staying.<3months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦           ¦   °--Refer for treatment and forward details to receiving prison/community TB nurse    ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦           ¦       ¦--Attended TPT referral                                                         ,soc.prop.attend.nhs.referral,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.attending.nhs.tb.service,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,ucost.prison.escort ,ucost.nhs.tb.service,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦           ¦       ¦   °--TPT outcomes                                                              ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦           ¦       ¦       ¦--gets TPT                                                              ,soc.prop.starting.tpt,cost.tpt.initiation,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.tpt.initiation,0,cost.tpt.initiation,0,0,0,0,0,0,0,0,ucost.prison.escort,ucost.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦           ¦       ¦       ¦   ¦--completed TPT                                                     ,soc.prop.completing.tpt,cost.tpt.complete,0,0,0,0,0,0,0,0,0,0,TPT.visits*(ucost.prison.escort),durTPT*(ucost.ltbi.drugs),TPT.visits*(ucost.tpt.opd.visit),durTPT*(ucost.dots),0,0,0,cost.tpt.complete,0,0,cost.tpt.complete,0,0,0,0,0,0,0,(TPT.visits*ucost.prison.escort + durTPT*ucost.dots),(durTPT*ucost.ltbi.drugs+ TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,1
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦           ¦       ¦       ¦   °--did not complete TPT                                              ,1-soc.prop.completing.tpt,cost.tpt.incomplete,0,0,0,0,0,0,0,0,0,0,IncompDurTPT / durTPT * TPT.visits*ucost.prison.escort,IncompDurTPT*ucost.ltbi.drugs,IncompDurTPT / durTPT * TPT.visits*ucost.tpt.opd.visit,IncompDurTPT*ucost.dots,0,0,0,cost.tpt.incomplete,0,0,0,cost.tpt.incomplete,0,0,0,0,0,0,(IncompDurTPT/durTPT*TPT.visits*ucost.prison.escort + IncompDurTPT*ucost.dots),(IncompDurTPT*ucost.ltbi.drugs + IncompDurTPT/durTPT*TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦           ¦       ¦       °--does not get TPT                                                      ,1-soc.prop.starting.tpt,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦           ¦       °--Did not attend TPT referral                                                   ,1-soc.prop.attend.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦           °--Early removal scheme or deportation                                                   ,1-soc.prop.staying.<3months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   °--Did not attend TB referral                                                                        ,1-soc.prop.attend.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦   ¦   °--Not referred to NHS TB service                                                                        ,1-nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦   °--Normal chest x-ray                                                                                        ,1-soc.prop.abnormal.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦       ¦--In prison/IRC for >3 months                                                                           ,soc.prop.staying.3+months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦       ¦   °--Refer for treatment                                                                               ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦       ¦       ¦--Attended TPT referral                                                                         ,soc.prop.attend.nhs.referral,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.attending.nhs.tb.service,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,ucost.prison.escort ,ucost.nhs.tb.service,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦       ¦       ¦   °--TPT outcomes                                                                              ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦       ¦       ¦       ¦--gets TPT                                                                              ,soc.prop.starting.tpt,cost.tpt.initiation,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.tpt.initiation,0,cost.tpt.initiation,0,0,0,0,0,0,0,0,ucost.prison.escort,ucost.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦       ¦       ¦       ¦   ¦--completed TPT                                                                     ,soc.prop.completing.tpt,cost.tpt.complete,0,0,0,0,0,0,0,0,0,0,TPT.visits*(ucost.prison.escort),durTPT*(ucost.ltbi.drugs),TPT.visits*(ucost.tpt.opd.visit),durTPT*(ucost.dots),0,0,0,cost.tpt.complete,0,0,cost.tpt.complete,0,0,0,0,0,0,0,(TPT.visits*ucost.prison.escort + durTPT*ucost.dots),(durTPT*ucost.ltbi.drugs+ TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,1
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦       ¦       ¦       ¦   °--did not complete TPT                                                              ,1-soc.prop.completing.tpt,cost.tpt.incomplete,0,0,0,0,0,0,0,0,0,0,IncompDurTPT / durTPT * TPT.visits*ucost.prison.escort,IncompDurTPT*ucost.ltbi.drugs,IncompDurTPT / durTPT * TPT.visits*ucost.tpt.opd.visit,IncompDurTPT*ucost.dots,0,0,0,cost.tpt.incomplete,0,0,0,cost.tpt.incomplete,0,0,0,0,0,0,(IncompDurTPT/durTPT*TPT.visits*ucost.prison.escort + IncompDurTPT*ucost.dots),(IncompDurTPT*ucost.ltbi.drugs + IncompDurTPT/durTPT*TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦       ¦       ¦       °--does not get TPT                                                                      ,1-soc.prop.starting.tpt,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦       ¦       °--Did not attend TPT referral                                                                   ,1-soc.prop.attend.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦       °--In prison/IRC for <3 months                                                                           ,1-soc.prop.staying.3+months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦           ¦--Remaining in the UK (community or other prison/IRC)                                               ,soc.prop.staying.<3months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦           ¦   °--Refer for treatment and forward details to receiving prison/community TB nurse                ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦           ¦       ¦--Attended TPT referral                                                                     ,soc.prop.attend.nhs.referral,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.attending.nhs.tb.service,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,ucost.prison.escort ,ucost.nhs.tb.service,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦           ¦       ¦   °--TPT outcomes                                                                          ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦           ¦       ¦       ¦--gets TPT                                                                          ,soc.prop.starting.tpt,cost.tpt.initiation,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.tpt.initiation,0,cost.tpt.initiation,0,0,0,0,0,0,0,0,ucost.prison.escort,ucost.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦           ¦       ¦       ¦   ¦--completed TPT                                                                 ,soc.prop.completing.tpt,cost.tpt.complete,0,0,0,0,0,0,0,0,0,0,TPT.visits*(ucost.prison.escort),durTPT*(ucost.ltbi.drugs),TPT.visits*(ucost.tpt.opd.visit),durTPT*(ucost.dots),0,0,0,cost.tpt.complete,0,0,cost.tpt.complete,0,0,0,0,0,0,0,(TPT.visits*ucost.prison.escort + durTPT*ucost.dots),(durTPT*ucost.ltbi.drugs+ TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,1
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦           ¦       ¦       ¦   °--did not complete TPT                                                          ,1-soc.prop.completing.tpt,cost.tpt.incomplete,0,0,0,0,0,0,0,0,0,0,IncompDurTPT / durTPT * TPT.visits*ucost.prison.escort,IncompDurTPT*ucost.ltbi.drugs,IncompDurTPT / durTPT * TPT.visits*ucost.tpt.opd.visit,IncompDurTPT*ucost.dots,0,0,0,cost.tpt.incomplete,0,0,0,cost.tpt.incomplete,0,0,0,0,0,0,(IncompDurTPT/durTPT*TPT.visits*ucost.prison.escort + IncompDurTPT*ucost.dots),(IncompDurTPT*ucost.ltbi.drugs + IncompDurTPT/durTPT*TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦           ¦       ¦       °--does not get TPT                                                                  ,1-soc.prop.starting.tpt,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦           ¦       °--Did not attend TPT referral                                                               ,1-soc.prop.attend.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦           °--Early removal scheme or deportation                                                               ,1-soc.prop.staying.<3months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦       °--No chest x-ray                                                                                                ,1-soc.prop.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦           ¦--Referred to NHS TB service                                                                                ,nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦           ¦   ¦--Attended TB referral                                                                                  ,soc.prop.attend.nhs.referral,cost.tb.evaluation,0,cost.tb.evaluation,0,0,0,cost.nhs.tb.service,0,ucost.prison.escort,cost.tb.investigations,0,0,0,0,0,0,0,cost.tb.evaluation,0,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort ,ucost.nhs.tb.service + ucost.tb.investigations,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦           ¦   ¦   ¦--TB                                                                                                ,soc.prop.no.xray.tb.dx,cost.contact.management,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,cost.contact.management,smear.positive * (cost.prison.isolation),0,0,0,smear.positive * (nContacts * ucost.contact.tracing),cost.contact.management,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦           ¦   ¦   ¦   °--TB outcomes                                                                                   ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦           ¦   ¦   ¦       ¦--ATT                                                                                       ,soc.prop.starting.att,cost.att.initiation,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,0,0,0,0,0,cost.att.initiation,0,cost.att.initiation,0,0,0,ucost.prison.escort,ucost.nhs.tb.service ,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦           ¦   ¦   ¦       ¦   ¦--completed ATT                                                                         ,soc.prop.completing.att,cost.att.complete,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort * (pDSTB * dstb.visits + (1 - pDSTB) * mdrtb.visits) ,pDSTB * DurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * DurMDRTB * ucost.mdratt.drugs,pDSTB * dstb.visits*ucost.dstb.opd.visit + (1 - pDSTB) * mdrtb.visits * ucost.mdrtb.opd.visit,ucost.dots * (pDSTB * DurDSTB + (1 - pDSTB) * DurMDRTB),(pDSTB * smear.positive * DurDSTBIsolation * ucost.dstb.ipd +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * ucost.mdrtb.ipd + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * ucost.mdrtb.ipd),ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation),0,0,0,0,0,0,cost.att.complete,0,0,cost.att.complete,0,0,(ucost.prison.escort * (pDSTB * dstb.visits + (1 - pDSTB) * mdrtb.visits)  + ucost.dots * (pDSTB * DurDSTB + (1 - pDSTB) * DurMDRTB) + ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation)),(pDSTB * DurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * DurMDRTB * ucost.mdratt.drugs + pDSTB * dstb.visits*(ucost.dstb.opd.visit) + (1 - pDSTB) * mdrtb.visits * (ucost.mdrtb.opd.visit) + (pDSTB * smear.positive * DurDSTBIsolation * (ucost.dstb.ipd) +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * (ucost.mdrtb.ipd) + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * (ucost.mdrtb.ipd))),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,1
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦           ¦   ¦   ¦       ¦   °--did not complete ATT                                                                  ,1-soc.prop.completing.att,cost.att.incomplete ,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort * (IncompDurDSTB/DurDSTB*pDSTB * dstb.visits + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits),pDSTB  * IncompDurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * IncompDurMDRTB  * ucost.mdratt.drugs,IncompDurDSTB / DurDSTB * pDSTB * dstb.visits*ucost.dstb.opd.visit + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits * ucost.mdrtb.opd.visit,ucost.dots * (pDSTB * IncompDurDSTB + (1 - pDSTB) * IncompDurMDRTB),(pDSTB * smear.positive * DurDSTBIsolation * ucost.dstb.ipd +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * ucost.mdrtb.ipd + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * ucost.mdrtb.ipd),ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation),0,0,0,0,0,0,cost.att.incomplete ,0,0,0,cost.att.incomplete ,0,(ucost.prison.escort * (IncompDurDSTB/DurDSTB*pDSTB * dstb.visits + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits) + ucost.dots * (pDSTB * IncompDurDSTB + (1 - pDSTB) * IncompDurMDRTB) + ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  + (1 - pDSTB) * smear.positive * DurMDRTB2Isolation+ (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation)),(pDSTB  * IncompDurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * IncompDurMDRTB * ucost.mdratt.drugs) + (IncompDurDSTB / DurDSTB * pDSTB * dstb.visits*ucost.dstb.opd.visit + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits * ucost.mdrtb.opd.visit) + ((pDSTB * smear.positive * DurDSTBIsolation * (ucost.dstb.ipd) +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * (ucost.mdrtb.ipd) +(1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * (ucost.mdrtb.ipd))),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦           ¦   ¦   ¦       °--no ATT                                                                                    ,1-soc.prop.starting.att,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦           ¦   ¦   °--Not TB                                                                                            ,1-soc.prop.no.xray.tb.dx,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦           ¦   ¦       ¦--In prison/IRC for >3 months                                                                   ,soc.prop.staying.3+months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦           ¦   ¦       ¦   °--Refer for treatment                                                                       ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦           ¦   ¦       ¦       ¦--Attended TPT referral                                                                 ,soc.prop.attend.nhs.referral,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.attending.nhs.tb.service,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,ucost.prison.escort ,ucost.nhs.tb.service,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦           ¦   ¦       ¦       ¦   °--TPT outcomes                                                                      ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦           ¦   ¦       ¦       ¦       ¦--gets TPT                                                                      ,soc.prop.starting.tpt,cost.tpt.initiation,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.tpt.initiation,0,cost.tpt.initiation,0,0,0,0,0,0,0,0,ucost.prison.escort,ucost.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦           ¦   ¦       ¦       ¦       ¦   ¦--completed TPT                                                             ,soc.prop.completing.tpt,cost.tpt.complete,0,0,0,0,0,0,0,0,0,0,TPT.visits*(ucost.prison.escort),durTPT*(ucost.ltbi.drugs),TPT.visits*(ucost.tpt.opd.visit),durTPT*(ucost.dots),0,0,0,cost.tpt.complete,0,0,cost.tpt.complete,0,0,0,0,0,0,0,(TPT.visits*ucost.prison.escort + durTPT*ucost.dots),(durTPT*ucost.ltbi.drugs+ TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,1
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦           ¦   ¦       ¦       ¦       ¦   °--did not complete TPT                                                      ,1-soc.prop.completing.tpt,cost.tpt.incomplete,0,0,0,0,0,0,0,0,0,0,IncompDurTPT / durTPT * TPT.visits*ucost.prison.escort,IncompDurTPT*ucost.ltbi.drugs,IncompDurTPT / durTPT * TPT.visits*ucost.tpt.opd.visit,IncompDurTPT*ucost.dots,0,0,0,cost.tpt.incomplete,0,0,0,cost.tpt.incomplete,0,0,0,0,0,0,(IncompDurTPT/durTPT*TPT.visits*ucost.prison.escort + IncompDurTPT*ucost.dots),(IncompDurTPT*ucost.ltbi.drugs + IncompDurTPT/durTPT*TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦           ¦   ¦       ¦       ¦       °--does not get TPT                                                              ,1-soc.prop.starting.tpt,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦           ¦   ¦       ¦       °--Did not attend TPT referral                                                           ,1-soc.prop.attend.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦           ¦   ¦       °--In prison/IRC for <3 months                                                                   ,1-soc.prop.staying.3+months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦           ¦   ¦           ¦--Remaining in the UK (community or other prison/IRC)                                       ,soc.prop.staying.<3months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦           ¦   ¦           ¦   °--Refer for treatment and forward details to receiving prison/community TB nurse        ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦           ¦   ¦           ¦       ¦--Attended TPT referral                                                             ,soc.prop.attend.nhs.referral,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.attending.nhs.tb.service,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,ucost.prison.escort ,ucost.nhs.tb.service,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦           ¦   ¦           ¦       ¦   °--TPT outcomes                                                                  ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦           ¦   ¦           ¦       ¦       ¦--gets TPT                                                                  ,soc.prop.starting.tpt,cost.tpt.initiation,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.tpt.initiation,0,cost.tpt.initiation,0,0,0,0,0,0,0,0,ucost.prison.escort,ucost.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦           ¦   ¦           ¦       ¦       ¦   ¦--completed TPT                                                         ,soc.prop.completing.tpt,cost.tpt.complete,0,0,0,0,0,0,0,0,0,0,TPT.visits*(ucost.prison.escort),durTPT*(ucost.ltbi.drugs),TPT.visits*(ucost.tpt.opd.visit),durTPT*(ucost.dots),0,0,0,cost.tpt.complete,0,0,cost.tpt.complete,0,0,0,0,0,0,0,(TPT.visits*ucost.prison.escort + durTPT*ucost.dots),(durTPT*ucost.ltbi.drugs+ TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,1
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦           ¦   ¦           ¦       ¦       ¦   °--did not complete TPT                                                  ,1-soc.prop.completing.tpt,cost.tpt.incomplete,0,0,0,0,0,0,0,0,0,0,IncompDurTPT / durTPT * TPT.visits*ucost.prison.escort,IncompDurTPT*ucost.ltbi.drugs,IncompDurTPT / durTPT * TPT.visits*ucost.tpt.opd.visit,IncompDurTPT*ucost.dots,0,0,0,cost.tpt.incomplete,0,0,0,cost.tpt.incomplete,0,0,0,0,0,0,(IncompDurTPT/durTPT*TPT.visits*ucost.prison.escort + IncompDurTPT*ucost.dots),(IncompDurTPT*ucost.ltbi.drugs + IncompDurTPT/durTPT*TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦           ¦   ¦           ¦       ¦       °--does not get TPT                                                          ,1-soc.prop.starting.tpt,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦           ¦   ¦           ¦       °--Did not attend TPT referral                                                       ,1-soc.prop.attend.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦           ¦   ¦           °--Early removal scheme or deportation                                                       ,1-soc.prop.staying.<3months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦           ¦   °--Did not attend TB referral                                                                            ,1-soc.prop.attend.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   ¦           °--Not referred to NHS TB service                                                                            ,1-nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           ¦   °--IGRA test -                                                                                                           ,1-soc.prop.igra.test.positive,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦       ¦   ¦   ¦       ¦           °--no IGRA test                                                                                                              ,1-soc.prop.igra.tested,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦       ¦   ¦   ¦       °--Did not attend TB referral                                                                                                            ,1-soc.prop.attend.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦       ¦   ¦   °--No clinical suspicion of TB                                                                                                                   ,1-soc.prop.clinical.tb.suspicion,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦       °--LTBI pathway                                                                                                                              ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦           ¦--IGRA test                                                                                                                             ,soc.prop.igra.tested,cost.igra.test,0,0,0,0,0,0,0,0,0,cost.igra.test,0,0,0,0,0,0,0,cost.igra.test,0,0,0,0,0,0,0,0,0,0,0,ucost.igra.test,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦           ¦   ¦--IGRA test +                                                                                                                       ,soc.prop.igra.test.positive,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦           ¦   ¦   ¦--Previous chest x-ray                                                                                                          ,soc.prop.prev.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦           ¦   ¦   ¦   ¦--Abornomal chest x-ray                                                                                                     ,soc.prop.abnormal.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦           ¦   ¦   ¦   ¦   ¦--Referred to NHS TB service                                                                                            ,nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦           ¦   ¦   ¦   ¦   ¦   ¦--Attended TB referral                                                                                              ,soc.prop.attend.nhs.referral,cost.tb.evaluation,0,cost.tb.evaluation,0,0,0,cost.nhs.tb.service,0,ucost.prison.escort,cost.tb.investigations,0,0,0,0,0,0,0,cost.tb.evaluation,0,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort ,ucost.nhs.tb.service + ucost.tb.investigations,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦           ¦   ¦   ¦   ¦   ¦   ¦   ¦--TB                                                                                                            ,soc.prop.abn.xray.tb.dx,cost.contact.management,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,cost.contact.management,smear.positive * (cost.prison.isolation),0,0,0,smear.positive * (nContacts * ucost.contact.tracing),cost.contact.management,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦           ¦   ¦   ¦   ¦   ¦   ¦   ¦   °--TB outcomes                                                                                               ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦           ¦   ¦   ¦   ¦   ¦   ¦   ¦       ¦--ATT                                                                                                   ,soc.prop.starting.att,cost.att.initiation,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,0,0,0,0,0,cost.att.initiation,0,cost.att.initiation,0,0,0,ucost.prison.escort,ucost.nhs.tb.service ,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0
     ¦   ¦   ¦       ¦   ¦           ¦   ¦   ¦   ¦   ¦   ¦   ¦       ¦   ¦--completed ATT                                                                                     ,soc.prop.completing.att,cost.att.complete,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort * (pDSTB * dstb.visits + (1 - pDSTB) * mdrtb.visits) ,pDSTB * DurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * DurMDRTB * ucost.mdratt.drugs,pDSTB * dstb.visits*ucost.dstb.opd.visit + (1 - pDSTB) * mdrtb.visits * ucost.mdrtb.opd.visit,ucost.dots * (pDSTB * DurDSTB + (1 - pDSTB) * DurMDRTB),(pDSTB * smear.positive * DurDSTBIsolation * ucost.dstb.ipd +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * ucost.mdrtb.ipd + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * ucost.mdrtb.ipd),ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation),0,0,0,0,0,0,cost.att.complete,0,0,cost.att.complete,0,0,(ucost.prison.escort * (pDSTB * dstb.visits + (1 - pDSTB) * mdrtb.visits)  + ucost.dots * (pDSTB * DurDSTB + (1 - pDSTB) * DurMDRTB) + ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation)),(pDSTB * DurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * DurMDRTB * ucost.mdratt.drugs + pDSTB * dstb.visits*(ucost.dstb.opd.visit) + (1 - pDSTB) * mdrtb.visits * (ucost.mdrtb.opd.visit) + (pDSTB * smear.positive * DurDSTBIsolation * (ucost.dstb.ipd) +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * (ucost.mdrtb.ipd) + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * (ucost.mdrtb.ipd))),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,1
     ¦   ¦   ¦       ¦   ¦           ¦   ¦   ¦   ¦   ¦   ¦   ¦       ¦   °--did not complete ATT                                                                              ,1-soc.prop.completing.att,cost.att.incomplete ,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort * (IncompDurDSTB/DurDSTB*pDSTB * dstb.visits + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits),pDSTB  * IncompDurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * IncompDurMDRTB  * ucost.mdratt.drugs,IncompDurDSTB / DurDSTB * pDSTB * dstb.visits*ucost.dstb.opd.visit + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits * ucost.mdrtb.opd.visit,ucost.dots * (pDSTB * IncompDurDSTB + (1 - pDSTB) * IncompDurMDRTB),(pDSTB * smear.positive * DurDSTBIsolation * ucost.dstb.ipd +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * ucost.mdrtb.ipd + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * ucost.mdrtb.ipd),ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation),0,0,0,0,0,0,cost.att.incomplete ,0,0,0,cost.att.incomplete ,0,(ucost.prison.escort * (IncompDurDSTB/DurDSTB*pDSTB * dstb.visits + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits) + ucost.dots * (pDSTB * IncompDurDSTB + (1 - pDSTB) * IncompDurMDRTB) + ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  + (1 - pDSTB) * smear.positive * DurMDRTB2Isolation+ (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation)),(pDSTB  * IncompDurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * IncompDurMDRTB * ucost.mdratt.drugs) + (IncompDurDSTB / DurDSTB * pDSTB * dstb.visits*ucost.dstb.opd.visit + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits * ucost.mdrtb.opd.visit) + ((pDSTB * smear.positive * DurDSTBIsolation * (ucost.dstb.ipd) +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * (ucost.mdrtb.ipd) +(1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * (ucost.mdrtb.ipd))),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦   ¦   ¦       ¦   ¦           ¦   ¦   ¦   ¦   ¦   ¦   ¦       °--no ATT                                                                                                ,1-soc.prop.starting.att,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦       ¦   ¦           ¦   ¦   ¦   ¦   ¦   ¦   °--Not TB                                                                                                        ,1-soc.prop.abn.xray.tb.dx,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦           ¦   ¦   ¦   ¦   ¦   ¦       ¦--In prison/IRC for >3 months                                                                               ,soc.prop.staying.3+months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦           ¦   ¦   ¦   ¦   ¦   ¦       ¦   °--Refer for treatment                                                                                   ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦           ¦   ¦   ¦   ¦   ¦   ¦       ¦       ¦--Attended TPT referral                                                                             ,soc.prop.attend.nhs.referral,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.attending.nhs.tb.service,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,ucost.prison.escort ,ucost.nhs.tb.service,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦           ¦   ¦   ¦   ¦   ¦   ¦       ¦       ¦   °--TPT outcomes                                                                                  ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦           ¦   ¦   ¦   ¦   ¦   ¦       ¦       ¦       ¦--gets TPT                                                                                  ,soc.prop.starting.tpt,cost.tpt.initiation,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.tpt.initiation,0,cost.tpt.initiation,0,0,0,0,0,0,0,0,ucost.prison.escort,ucost.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦           ¦   ¦   ¦   ¦   ¦   ¦       ¦       ¦       ¦   ¦--completed TPT                                                                         ,soc.prop.completing.tpt,cost.tpt.complete,0,0,0,0,0,0,0,0,0,0,TPT.visits*(ucost.prison.escort),durTPT*(ucost.ltbi.drugs),TPT.visits*(ucost.tpt.opd.visit),durTPT*(ucost.dots),0,0,0,cost.tpt.complete,0,0,cost.tpt.complete,0,0,0,0,0,0,0,(TPT.visits*ucost.prison.escort + durTPT*ucost.dots),(durTPT*ucost.ltbi.drugs+ TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,1
     ¦   ¦   ¦       ¦   ¦           ¦   ¦   ¦   ¦   ¦   ¦       ¦       ¦       ¦   °--did not complete TPT                                                                  ,1-soc.prop.completing.tpt,cost.tpt.incomplete,0,0,0,0,0,0,0,0,0,0,IncompDurTPT / durTPT * TPT.visits*ucost.prison.escort,IncompDurTPT*ucost.ltbi.drugs,IncompDurTPT / durTPT * TPT.visits*ucost.tpt.opd.visit,IncompDurTPT*ucost.dots,0,0,0,cost.tpt.incomplete,0,0,0,cost.tpt.incomplete,0,0,0,0,0,0,(IncompDurTPT/durTPT*TPT.visits*ucost.prison.escort + IncompDurTPT*ucost.dots),(IncompDurTPT*ucost.ltbi.drugs + IncompDurTPT/durTPT*TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1
     ¦   ¦   ¦       ¦   ¦           ¦   ¦   ¦   ¦   ¦   ¦       ¦       ¦       °--does not get TPT                                                                          ,1-soc.prop.starting.tpt,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦       ¦   ¦           ¦   ¦   ¦   ¦   ¦   ¦       ¦       °--Did not attend TB referral TPT referral                                                           ,1-soc.prop.attend.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦       ¦   ¦           ¦   ¦   ¦   ¦   ¦   ¦       °--In prison/IRC for <3 months                                                                               ,1-soc.prop.staying.3+months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦           ¦   ¦   ¦   ¦   ¦   ¦           ¦--Remaining in the UK (community or other prison/IRC)                                                   ,soc.prop.staying.<3months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦           ¦   ¦   ¦   ¦   ¦   ¦           ¦   °--Refer for treatment and forward details to receiving prison/community TB nurse                    ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦           ¦   ¦   ¦   ¦   ¦   ¦           ¦       ¦--Attended TPT referral                                                                         ,soc.prop.attend.nhs.referral,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.attending.nhs.tb.service,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,ucost.prison.escort ,ucost.nhs.tb.service,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦           ¦   ¦   ¦   ¦   ¦   ¦           ¦       ¦   °--TPT outcomes                                                                              ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦           ¦   ¦   ¦   ¦   ¦   ¦           ¦       ¦       ¦--gets TPT                                                                              ,soc.prop.starting.tpt,cost.tpt.initiation,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.tpt.initiation,0,cost.tpt.initiation,0,0,0,0,0,0,0,0,ucost.prison.escort,ucost.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦           ¦   ¦   ¦   ¦   ¦   ¦           ¦       ¦       ¦   ¦--completed TPT                                                                     ,soc.prop.completing.tpt,cost.tpt.complete,0,0,0,0,0,0,0,0,0,0,TPT.visits*(ucost.prison.escort),durTPT*(ucost.ltbi.drugs),TPT.visits*(ucost.tpt.opd.visit),durTPT*(ucost.dots),0,0,0,cost.tpt.complete,0,0,cost.tpt.complete,0,0,0,0,0,0,0,(TPT.visits*ucost.prison.escort + durTPT*ucost.dots),(durTPT*ucost.ltbi.drugs+ TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,1
     ¦   ¦   ¦       ¦   ¦           ¦   ¦   ¦   ¦   ¦   ¦           ¦       ¦       ¦   °--did not complete TPT                                                              ,1-soc.prop.completing.tpt,cost.tpt.incomplete,0,0,0,0,0,0,0,0,0,0,IncompDurTPT / durTPT * TPT.visits*ucost.prison.escort,IncompDurTPT*ucost.ltbi.drugs,IncompDurTPT / durTPT * TPT.visits*ucost.tpt.opd.visit,IncompDurTPT*ucost.dots,0,0,0,cost.tpt.incomplete,0,0,0,cost.tpt.incomplete,0,0,0,0,0,0,(IncompDurTPT/durTPT*TPT.visits*ucost.prison.escort + IncompDurTPT*ucost.dots),(IncompDurTPT*ucost.ltbi.drugs + IncompDurTPT/durTPT*TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1
     ¦   ¦   ¦       ¦   ¦           ¦   ¦   ¦   ¦   ¦   ¦           ¦       ¦       °--does not get TPT                                                                      ,1-soc.prop.starting.tpt,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦       ¦   ¦           ¦   ¦   ¦   ¦   ¦   ¦           ¦       °--Did not attend TPT referral                                                                   ,1-soc.prop.attend.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦       ¦   ¦           ¦   ¦   ¦   ¦   ¦   ¦           °--Early removal scheme or deportation                                                                   ,1-soc.prop.staying.<3months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦       ¦   ¦           ¦   ¦   ¦   ¦   ¦   °--Did not attend TB referral                                                                                        ,1-soc.prop.attend.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦       ¦   ¦           ¦   ¦   ¦   ¦   °--Not referred to NHS TB service                                                                                        ,1-nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦       ¦   ¦           ¦   ¦   ¦   °--Normal chest x-ray                                                                                                        ,1-soc.prop.abnormal.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦           ¦   ¦   ¦       ¦--In prison/IRC for >3 months                                                                                           ,soc.prop.staying.3+months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦           ¦   ¦   ¦       ¦   °--Refer for treatment                                                                                               ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦           ¦   ¦   ¦       ¦       ¦--Attended TPT referral                                                                                         ,soc.prop.attend.nhs.referral,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.attending.nhs.tb.service,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,ucost.prison.escort ,ucost.nhs.tb.service,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦           ¦   ¦   ¦       ¦       ¦   °--TPT outcomes                                                                                              ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦           ¦   ¦   ¦       ¦       ¦       ¦--gets TPT                                                                                              ,soc.prop.starting.tpt,cost.tpt.initiation,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.tpt.initiation,0,cost.tpt.initiation,0,0,0,0,0,0,0,0,ucost.prison.escort,ucost.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦           ¦   ¦   ¦       ¦       ¦       ¦   ¦--completed TPT                                                                                     ,soc.prop.completing.tpt,cost.tpt.complete,0,0,0,0,0,0,0,0,0,0,TPT.visits*(ucost.prison.escort),durTPT*(ucost.ltbi.drugs),TPT.visits*(ucost.tpt.opd.visit),durTPT*(ucost.dots),0,0,0,cost.tpt.complete,0,0,cost.tpt.complete,0,0,0,0,0,0,0,(TPT.visits*ucost.prison.escort + durTPT*ucost.dots),(durTPT*ucost.ltbi.drugs+ TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,1
     ¦   ¦   ¦       ¦   ¦           ¦   ¦   ¦       ¦       ¦       ¦   °--did not complete TPT                                                                              ,1-soc.prop.completing.tpt,cost.tpt.incomplete,0,0,0,0,0,0,0,0,0,0,IncompDurTPT / durTPT * TPT.visits*ucost.prison.escort,IncompDurTPT*ucost.ltbi.drugs,IncompDurTPT / durTPT * TPT.visits*ucost.tpt.opd.visit,IncompDurTPT*ucost.dots,0,0,0,cost.tpt.incomplete,0,0,0,cost.tpt.incomplete,0,0,0,0,0,0,(IncompDurTPT/durTPT*TPT.visits*ucost.prison.escort + IncompDurTPT*ucost.dots),(IncompDurTPT*ucost.ltbi.drugs + IncompDurTPT/durTPT*TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1
     ¦   ¦   ¦       ¦   ¦           ¦   ¦   ¦       ¦       ¦       °--does not get TPT                                                                                      ,1-soc.prop.starting.tpt,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦       ¦   ¦           ¦   ¦   ¦       ¦       °--Did not attend TPT referral                                                                                   ,1-soc.prop.attend.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦       ¦   ¦           ¦   ¦   ¦       °--In prison/IRC for <3 months                                                                                           ,1-soc.prop.staying.3+months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦           ¦   ¦   ¦           ¦--Remaining in the UK (community or other prison/IRC)                                                               ,soc.prop.staying.<3months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦           ¦   ¦   ¦           ¦   °--Refer for treatment and forward details to receiving prison/community TB nurse                                ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦           ¦   ¦   ¦           ¦       ¦--Attended TPT referral                                                                                     ,soc.prop.attend.nhs.referral,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.attending.nhs.tb.service,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,ucost.prison.escort ,ucost.nhs.tb.service,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦           ¦   ¦   ¦           ¦       ¦   °--TPT outcomes                                                                                          ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦           ¦   ¦   ¦           ¦       ¦       ¦--gets TPT                                                                                          ,soc.prop.starting.tpt,cost.tpt.initiation,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.tpt.initiation,0,cost.tpt.initiation,0,0,0,0,0,0,0,0,ucost.prison.escort,ucost.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦           ¦   ¦   ¦           ¦       ¦       ¦   ¦--completed TPT                                                                                 ,soc.prop.completing.tpt,cost.tpt.complete,0,0,0,0,0,0,0,0,0,0,TPT.visits*(ucost.prison.escort),durTPT*(ucost.ltbi.drugs),TPT.visits*(ucost.tpt.opd.visit),durTPT*(ucost.dots),0,0,0,cost.tpt.complete,0,0,cost.tpt.complete,0,0,0,0,0,0,0,(TPT.visits*ucost.prison.escort + durTPT*ucost.dots),(durTPT*ucost.ltbi.drugs+ TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,1
     ¦   ¦   ¦       ¦   ¦           ¦   ¦   ¦           ¦       ¦       ¦   °--did not complete TPT                                                                          ,1-soc.prop.completing.tpt,cost.tpt.incomplete,0,0,0,0,0,0,0,0,0,0,IncompDurTPT / durTPT * TPT.visits*ucost.prison.escort,IncompDurTPT*ucost.ltbi.drugs,IncompDurTPT / durTPT * TPT.visits*ucost.tpt.opd.visit,IncompDurTPT*ucost.dots,0,0,0,cost.tpt.incomplete,0,0,0,cost.tpt.incomplete,0,0,0,0,0,0,(IncompDurTPT/durTPT*TPT.visits*ucost.prison.escort + IncompDurTPT*ucost.dots),(IncompDurTPT*ucost.ltbi.drugs + IncompDurTPT/durTPT*TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1
     ¦   ¦   ¦       ¦   ¦           ¦   ¦   ¦           ¦       ¦       °--does not get TPT                                                                                  ,1-soc.prop.starting.tpt,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦       ¦   ¦           ¦   ¦   ¦           ¦       °--Did not attend TPT referral                                                                               ,1-soc.prop.attend.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦       ¦   ¦           ¦   ¦   ¦           °--Early removal scheme or deportation                                                                               ,1-soc.prop.staying.<3months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦       ¦   ¦           ¦   ¦   °--No previous chest x-ray                                                                                                       ,1-soc.prop.prev.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦           ¦   ¦       ¦--Chest x-ray                                                                                                               ,soc.prop.xray,cost.chest.xray,0,cost.chest.xray,0,ucost.chest.xray,0,0,ucost.prison.escort,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,ucost.chest.xray,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦           ¦   ¦       ¦   ¦--Abornomal chest x-ray                                                                                                 ,soc.prop.abnormal.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦           ¦   ¦       ¦   ¦   ¦--Referred to NHS TB service                                                                                        ,nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦           ¦   ¦       ¦   ¦   ¦   ¦--Attended TB referral                                                                                          ,soc.prop.attend.nhs.referral,cost.tb.evaluation,0,cost.tb.evaluation,0,0,0,cost.nhs.tb.service,0,ucost.prison.escort,cost.tb.investigations,0,0,0,0,0,0,0,cost.tb.evaluation,0,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort ,ucost.nhs.tb.service + ucost.tb.investigations,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦           ¦   ¦       ¦   ¦   ¦   ¦   ¦--TB                                                                                                        ,soc.prop.abn.xray.tb.dx,cost.contact.management,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,cost.contact.management,smear.positive * (cost.prison.isolation),0,0,0,smear.positive * (nContacts * ucost.contact.tracing),cost.contact.management,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦           ¦   ¦       ¦   ¦   ¦   ¦   ¦   °--TB outcomes                                                                                           ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦           ¦   ¦       ¦   ¦   ¦   ¦   ¦       ¦--ATT                                                                                               ,soc.prop.starting.att,cost.att.initiation,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,0,0,0,0,0,cost.att.initiation,0,cost.att.initiation,0,0,0,ucost.prison.escort,ucost.nhs.tb.service ,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0
     ¦   ¦   ¦       ¦   ¦           ¦   ¦       ¦   ¦   ¦   ¦   ¦       ¦   ¦--completed ATT                                                                                 ,soc.prop.completing.att,cost.att.complete,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort * (pDSTB * dstb.visits + (1 - pDSTB) * mdrtb.visits) ,pDSTB * DurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * DurMDRTB * ucost.mdratt.drugs,pDSTB * dstb.visits*ucost.dstb.opd.visit + (1 - pDSTB) * mdrtb.visits * ucost.mdrtb.opd.visit,ucost.dots * (pDSTB * DurDSTB + (1 - pDSTB) * DurMDRTB),(pDSTB * smear.positive * DurDSTBIsolation * ucost.dstb.ipd +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * ucost.mdrtb.ipd + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * ucost.mdrtb.ipd),ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation),0,0,0,0,0,0,cost.att.complete,0,0,cost.att.complete,0,0,(ucost.prison.escort * (pDSTB * dstb.visits + (1 - pDSTB) * mdrtb.visits)  + ucost.dots * (pDSTB * DurDSTB + (1 - pDSTB) * DurMDRTB) + ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation)),(pDSTB * DurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * DurMDRTB * ucost.mdratt.drugs + pDSTB * dstb.visits*(ucost.dstb.opd.visit) + (1 - pDSTB) * mdrtb.visits * (ucost.mdrtb.opd.visit) + (pDSTB * smear.positive * DurDSTBIsolation * (ucost.dstb.ipd) +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * (ucost.mdrtb.ipd) + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * (ucost.mdrtb.ipd))),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,1
     ¦   ¦   ¦       ¦   ¦           ¦   ¦       ¦   ¦   ¦   ¦   ¦       ¦   °--did not complete ATT                                                                          ,1-soc.prop.completing.att,cost.att.incomplete ,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort * (IncompDurDSTB/DurDSTB*pDSTB * dstb.visits + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits),pDSTB  * IncompDurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * IncompDurMDRTB  * ucost.mdratt.drugs,IncompDurDSTB / DurDSTB * pDSTB * dstb.visits*ucost.dstb.opd.visit + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits * ucost.mdrtb.opd.visit,ucost.dots * (pDSTB * IncompDurDSTB + (1 - pDSTB) * IncompDurMDRTB),(pDSTB * smear.positive * DurDSTBIsolation * ucost.dstb.ipd +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * ucost.mdrtb.ipd + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * ucost.mdrtb.ipd),ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation),0,0,0,0,0,0,cost.att.incomplete ,0,0,0,cost.att.incomplete ,0,(ucost.prison.escort * (IncompDurDSTB/DurDSTB*pDSTB * dstb.visits + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits) + ucost.dots * (pDSTB * IncompDurDSTB + (1 - pDSTB) * IncompDurMDRTB) + ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  + (1 - pDSTB) * smear.positive * DurMDRTB2Isolation+ (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation)),(pDSTB  * IncompDurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * IncompDurMDRTB * ucost.mdratt.drugs) + (IncompDurDSTB / DurDSTB * pDSTB * dstb.visits*ucost.dstb.opd.visit + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits * ucost.mdrtb.opd.visit) + ((pDSTB * smear.positive * DurDSTBIsolation * (ucost.dstb.ipd) +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * (ucost.mdrtb.ipd) +(1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * (ucost.mdrtb.ipd))),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦   ¦   ¦       ¦   ¦           ¦   ¦       ¦   ¦   ¦   ¦   ¦       °--no ATT                                                                                            ,1-soc.prop.starting.att,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦       ¦   ¦           ¦   ¦       ¦   ¦   ¦   ¦   °--Not TB                                                                                                    ,1-soc.prop.abn.xray.tb.dx,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦           ¦   ¦       ¦   ¦   ¦   ¦       ¦--In prison/IRC for >3 months                                                                           ,soc.prop.staying.3+months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦           ¦   ¦       ¦   ¦   ¦   ¦       ¦   °--Refer for treatment                                                                               ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦           ¦   ¦       ¦   ¦   ¦   ¦       ¦       ¦--Attended TPT referral                                                                         ,soc.prop.attend.nhs.referral,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.attending.nhs.tb.service,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,ucost.prison.escort ,ucost.nhs.tb.service,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦           ¦   ¦       ¦   ¦   ¦   ¦       ¦       ¦   °--TPT outcomes                                                                              ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦           ¦   ¦       ¦   ¦   ¦   ¦       ¦       ¦       ¦--gets TPT                                                                              ,soc.prop.starting.tpt,cost.tpt.initiation,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.tpt.initiation,0,cost.tpt.initiation,0,0,0,0,0,0,0,0,ucost.prison.escort,ucost.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦           ¦   ¦       ¦   ¦   ¦   ¦       ¦       ¦       ¦   ¦--completed TPT                                                                     ,soc.prop.completing.tpt,cost.tpt.complete,0,0,0,0,0,0,0,0,0,0,TPT.visits*(ucost.prison.escort),durTPT*(ucost.ltbi.drugs),TPT.visits*(ucost.tpt.opd.visit),durTPT*(ucost.dots),0,0,0,cost.tpt.complete,0,0,cost.tpt.complete,0,0,0,0,0,0,0,(TPT.visits*ucost.prison.escort + durTPT*ucost.dots),(durTPT*ucost.ltbi.drugs+ TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,1
     ¦   ¦   ¦       ¦   ¦           ¦   ¦       ¦   ¦   ¦   ¦       ¦       ¦       ¦   °--did not complete TPT                                                              ,1-soc.prop.completing.tpt,cost.tpt.incomplete,0,0,0,0,0,0,0,0,0,0,IncompDurTPT / durTPT * TPT.visits*ucost.prison.escort,IncompDurTPT*ucost.ltbi.drugs,IncompDurTPT / durTPT * TPT.visits*ucost.tpt.opd.visit,IncompDurTPT*ucost.dots,0,0,0,cost.tpt.incomplete,0,0,0,cost.tpt.incomplete,0,0,0,0,0,0,(IncompDurTPT/durTPT*TPT.visits*ucost.prison.escort + IncompDurTPT*ucost.dots),(IncompDurTPT*ucost.ltbi.drugs + IncompDurTPT/durTPT*TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1
     ¦   ¦   ¦       ¦   ¦           ¦   ¦       ¦   ¦   ¦   ¦       ¦       ¦       °--does not get TPT                                                                      ,1-soc.prop.starting.tpt,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦       ¦   ¦           ¦   ¦       ¦   ¦   ¦   ¦       ¦       °--Did not attend TPT referral                                                                   ,1-soc.prop.attend.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦       ¦   ¦           ¦   ¦       ¦   ¦   ¦   ¦       °--In prison/IRC for <3 months                                                                           ,1-soc.prop.staying.3+months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦           ¦   ¦       ¦   ¦   ¦   ¦           ¦--Remaining in the UK (community or other prison/IRC)                                               ,soc.prop.staying.<3months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦           ¦   ¦       ¦   ¦   ¦   ¦           ¦   °--Refer for treatment and forward details to receiving prison/community TB nurse                ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦           ¦   ¦       ¦   ¦   ¦   ¦           ¦       ¦--Attended TPT referral                                                                     ,soc.prop.attend.nhs.referral,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.attending.nhs.tb.service,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,ucost.prison.escort ,ucost.nhs.tb.service,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦           ¦   ¦       ¦   ¦   ¦   ¦           ¦       ¦   °--TPT outcomes                                                                          ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦           ¦   ¦       ¦   ¦   ¦   ¦           ¦       ¦       ¦--gets TPT                                                                          ,soc.prop.starting.tpt,cost.tpt.initiation,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.tpt.initiation,0,cost.tpt.initiation,0,0,0,0,0,0,0,0,ucost.prison.escort,ucost.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦           ¦   ¦       ¦   ¦   ¦   ¦           ¦       ¦       ¦   ¦--completed TPT                                                                 ,soc.prop.completing.tpt,cost.tpt.complete,0,0,0,0,0,0,0,0,0,0,TPT.visits*(ucost.prison.escort),durTPT*(ucost.ltbi.drugs),TPT.visits*(ucost.tpt.opd.visit),durTPT*(ucost.dots),0,0,0,cost.tpt.complete,0,0,cost.tpt.complete,0,0,0,0,0,0,0,(TPT.visits*ucost.prison.escort + durTPT*ucost.dots),(durTPT*ucost.ltbi.drugs+ TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,1
     ¦   ¦   ¦       ¦   ¦           ¦   ¦       ¦   ¦   ¦   ¦           ¦       ¦       ¦   °--did not complete TPT                                                          ,1-soc.prop.completing.tpt,cost.tpt.incomplete,0,0,0,0,0,0,0,0,0,0,IncompDurTPT / durTPT * TPT.visits*ucost.prison.escort,IncompDurTPT*ucost.ltbi.drugs,IncompDurTPT / durTPT * TPT.visits*ucost.tpt.opd.visit,IncompDurTPT*ucost.dots,0,0,0,cost.tpt.incomplete,0,0,0,cost.tpt.incomplete,0,0,0,0,0,0,(IncompDurTPT/durTPT*TPT.visits*ucost.prison.escort + IncompDurTPT*ucost.dots),(IncompDurTPT*ucost.ltbi.drugs + IncompDurTPT/durTPT*TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1
     ¦   ¦   ¦       ¦   ¦           ¦   ¦       ¦   ¦   ¦   ¦           ¦       ¦       °--does not get TPT                                                                  ,1-soc.prop.starting.tpt,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦       ¦   ¦           ¦   ¦       ¦   ¦   ¦   ¦           ¦       °--Did not attend TPT referral                                                               ,1-soc.prop.attend.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦       ¦   ¦           ¦   ¦       ¦   ¦   ¦   ¦           °--Early removal scheme or deportation                                                               ,1-soc.prop.staying.<3months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦       ¦   ¦           ¦   ¦       ¦   ¦   ¦   °--Did not attend TB referral                                                                                    ,1-soc.prop.attend.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦       ¦   ¦           ¦   ¦       ¦   ¦   °--Not referred to NHS TB service                                                                                    ,1-nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦       ¦   ¦           ¦   ¦       ¦   °--Normal chest x-ray                                                                                                    ,1-soc.prop.abnormal.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦           ¦   ¦       ¦       ¦--In prison/IRC for >3 months                                                                                       ,soc.prop.staying.3+months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦           ¦   ¦       ¦       ¦   °--Refer for treatment                                                                                           ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦           ¦   ¦       ¦       ¦       ¦--Attended TPT referral                                                                                     ,soc.prop.attend.nhs.referral,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.attending.nhs.tb.service,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,ucost.prison.escort ,ucost.nhs.tb.service,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦           ¦   ¦       ¦       ¦       ¦   °--TPT outcomes                                                                                          ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦           ¦   ¦       ¦       ¦       ¦       ¦--gets TPT                                                                                          ,soc.prop.starting.tpt,cost.tpt.initiation,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.tpt.initiation,0,cost.tpt.initiation,0,0,0,0,0,0,0,0,ucost.prison.escort,ucost.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦           ¦   ¦       ¦       ¦       ¦       ¦   ¦--completed TPT                                                                                 ,soc.prop.completing.tpt,cost.tpt.complete,0,0,0,0,0,0,0,0,0,0,TPT.visits*(ucost.prison.escort),durTPT*(ucost.ltbi.drugs),TPT.visits*(ucost.tpt.opd.visit),durTPT*(ucost.dots),0,0,0,cost.tpt.complete,0,0,cost.tpt.complete,0,0,0,0,0,0,0,(TPT.visits*ucost.prison.escort + durTPT*ucost.dots),(durTPT*ucost.ltbi.drugs+ TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,1
     ¦   ¦   ¦       ¦   ¦           ¦   ¦       ¦       ¦       ¦       ¦   °--did not complete TPT                                                                          ,1-soc.prop.completing.tpt,cost.tpt.incomplete,0,0,0,0,0,0,0,0,0,0,IncompDurTPT / durTPT * TPT.visits*ucost.prison.escort,IncompDurTPT*ucost.ltbi.drugs,IncompDurTPT / durTPT * TPT.visits*ucost.tpt.opd.visit,IncompDurTPT*ucost.dots,0,0,0,cost.tpt.incomplete,0,0,0,cost.tpt.incomplete,0,0,0,0,0,0,(IncompDurTPT/durTPT*TPT.visits*ucost.prison.escort + IncompDurTPT*ucost.dots),(IncompDurTPT*ucost.ltbi.drugs + IncompDurTPT/durTPT*TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1
     ¦   ¦   ¦       ¦   ¦           ¦   ¦       ¦       ¦       ¦       °--does not get TPT                                                                                  ,1-soc.prop.starting.tpt,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦       ¦   ¦           ¦   ¦       ¦       ¦       °--Did not attend TPT referral                                                                               ,1-soc.prop.attend.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦       ¦   ¦           ¦   ¦       ¦       °--In prison/IRC for <3 months                                                                                       ,1-soc.prop.staying.3+months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦           ¦   ¦       ¦           ¦--Remaining in the UK (community or other prison/IRC)                                                           ,soc.prop.staying.<3months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦           ¦   ¦       ¦           ¦   °--Refer for treatment and forward details to receiving prison/community TB nurse                            ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦           ¦   ¦       ¦           ¦       ¦--Attended TPT referral                                                                                 ,soc.prop.attend.nhs.referral,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.attending.nhs.tb.service,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,ucost.prison.escort ,ucost.nhs.tb.service,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦           ¦   ¦       ¦           ¦       ¦   °--TPT outcomes                                                                                      ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦           ¦   ¦       ¦           ¦       ¦       ¦--gets TPT                                                                                      ,soc.prop.starting.tpt,cost.tpt.initiation,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.tpt.initiation,0,cost.tpt.initiation,0,0,0,0,0,0,0,0,ucost.prison.escort,ucost.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦           ¦   ¦       ¦           ¦       ¦       ¦   ¦--completed TPT                                                                             ,soc.prop.completing.tpt,cost.tpt.complete,0,0,0,0,0,0,0,0,0,0,TPT.visits*(ucost.prison.escort),durTPT*(ucost.ltbi.drugs),TPT.visits*(ucost.tpt.opd.visit),durTPT*(ucost.dots),0,0,0,cost.tpt.complete,0,0,cost.tpt.complete,0,0,0,0,0,0,0,(TPT.visits*ucost.prison.escort + durTPT*ucost.dots),(durTPT*ucost.ltbi.drugs+ TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,1
     ¦   ¦   ¦       ¦   ¦           ¦   ¦       ¦           ¦       ¦       ¦   °--did not complete TPT                                                                      ,1-soc.prop.completing.tpt,cost.tpt.incomplete,0,0,0,0,0,0,0,0,0,0,IncompDurTPT / durTPT * TPT.visits*ucost.prison.escort,IncompDurTPT*ucost.ltbi.drugs,IncompDurTPT / durTPT * TPT.visits*ucost.tpt.opd.visit,IncompDurTPT*ucost.dots,0,0,0,cost.tpt.incomplete,0,0,0,cost.tpt.incomplete,0,0,0,0,0,0,(IncompDurTPT/durTPT*TPT.visits*ucost.prison.escort + IncompDurTPT*ucost.dots),(IncompDurTPT*ucost.ltbi.drugs + IncompDurTPT/durTPT*TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1
     ¦   ¦   ¦       ¦   ¦           ¦   ¦       ¦           ¦       ¦       °--does not get TPT                                                                              ,1-soc.prop.starting.tpt,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦       ¦   ¦           ¦   ¦       ¦           ¦       °--Did not attend TPT referral                                                                           ,1-soc.prop.attend.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦       ¦   ¦           ¦   ¦       ¦           °--Early removal scheme or deportation                                                                           ,1-soc.prop.staying.<3months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦       ¦   ¦           ¦   ¦       °--No chest x-ray                                                                                                            ,1-soc.prop.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦           ¦   ¦           ¦--Referred to NHS TB service                                                                                            ,nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦           ¦   ¦           ¦   ¦--Attended TB referral                                                                                              ,soc.prop.attend.nhs.referral,cost.tb.evaluation,0,cost.tb.evaluation,0,0,0,cost.nhs.tb.service,0,ucost.prison.escort,cost.tb.investigations,0,0,0,0,0,0,0,cost.tb.evaluation,0,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort ,ucost.nhs.tb.service + ucost.tb.investigations,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦           ¦   ¦           ¦   ¦   ¦--TB                                                                                                            ,soc.prop.no.xray.tb.dx,cost.contact.management,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,cost.contact.management,smear.positive * (cost.prison.isolation),0,0,0,smear.positive * (nContacts * ucost.contact.tracing),cost.contact.management,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦           ¦   ¦           ¦   ¦   ¦   °--TB outcomes                                                                                               ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦           ¦   ¦           ¦   ¦   ¦       ¦--ATT                                                                                                   ,soc.prop.starting.att,cost.att.initiation,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,0,0,0,0,0,cost.att.initiation,0,cost.att.initiation,0,0,0,ucost.prison.escort,ucost.nhs.tb.service ,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0
     ¦   ¦   ¦       ¦   ¦           ¦   ¦           ¦   ¦   ¦       ¦   ¦--completed ATT                                                                                     ,soc.prop.completing.att,cost.att.complete,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort * (pDSTB * dstb.visits + (1 - pDSTB) * mdrtb.visits) ,pDSTB * DurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * DurMDRTB * ucost.mdratt.drugs,pDSTB * dstb.visits*ucost.dstb.opd.visit + (1 - pDSTB) * mdrtb.visits * ucost.mdrtb.opd.visit,ucost.dots * (pDSTB * DurDSTB + (1 - pDSTB) * DurMDRTB),(pDSTB * smear.positive * DurDSTBIsolation * ucost.dstb.ipd +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * ucost.mdrtb.ipd + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * ucost.mdrtb.ipd),ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation),0,0,0,0,0,0,cost.att.complete,0,0,cost.att.complete,0,0,(ucost.prison.escort * (pDSTB * dstb.visits + (1 - pDSTB) * mdrtb.visits)  + ucost.dots * (pDSTB * DurDSTB + (1 - pDSTB) * DurMDRTB) + ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation)),(pDSTB * DurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * DurMDRTB * ucost.mdratt.drugs + pDSTB * dstb.visits*(ucost.dstb.opd.visit) + (1 - pDSTB) * mdrtb.visits * (ucost.mdrtb.opd.visit) + (pDSTB * smear.positive * DurDSTBIsolation * (ucost.dstb.ipd) +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * (ucost.mdrtb.ipd) + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * (ucost.mdrtb.ipd))),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,1
     ¦   ¦   ¦       ¦   ¦           ¦   ¦           ¦   ¦   ¦       ¦   °--did not complete ATT                                                                              ,1-soc.prop.completing.att,cost.att.incomplete ,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort * (IncompDurDSTB/DurDSTB*pDSTB * dstb.visits + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits),pDSTB  * IncompDurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * IncompDurMDRTB  * ucost.mdratt.drugs,IncompDurDSTB / DurDSTB * pDSTB * dstb.visits*ucost.dstb.opd.visit + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits * ucost.mdrtb.opd.visit,ucost.dots * (pDSTB * IncompDurDSTB + (1 - pDSTB) * IncompDurMDRTB),(pDSTB * smear.positive * DurDSTBIsolation * ucost.dstb.ipd +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * ucost.mdrtb.ipd + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * ucost.mdrtb.ipd),ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation),0,0,0,0,0,0,cost.att.incomplete ,0,0,0,cost.att.incomplete ,0,(ucost.prison.escort * (IncompDurDSTB/DurDSTB*pDSTB * dstb.visits + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits) + ucost.dots * (pDSTB * IncompDurDSTB + (1 - pDSTB) * IncompDurMDRTB) + ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  + (1 - pDSTB) * smear.positive * DurMDRTB2Isolation+ (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation)),(pDSTB  * IncompDurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * IncompDurMDRTB * ucost.mdratt.drugs) + (IncompDurDSTB / DurDSTB * pDSTB * dstb.visits*ucost.dstb.opd.visit + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits * ucost.mdrtb.opd.visit) + ((pDSTB * smear.positive * DurDSTBIsolation * (ucost.dstb.ipd) +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * (ucost.mdrtb.ipd) +(1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * (ucost.mdrtb.ipd))),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦   ¦   ¦       ¦   ¦           ¦   ¦           ¦   ¦   ¦       °--no ATT                                                                                                ,1-soc.prop.starting.att,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦       ¦   ¦           ¦   ¦           ¦   ¦   °--Not TB                                                                                                        ,1-soc.prop.no.xray.tb.dx,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦           ¦   ¦           ¦   ¦       ¦--In prison/IRC for >3 months                                                                               ,soc.prop.staying.3+months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦           ¦   ¦           ¦   ¦       ¦   °--Refer for treatment                                                                                   ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦           ¦   ¦           ¦   ¦       ¦       ¦--Attended TPT referral                                                                             ,soc.prop.attend.nhs.referral,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.attending.nhs.tb.service,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,ucost.prison.escort ,ucost.nhs.tb.service,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦           ¦   ¦           ¦   ¦       ¦       ¦   °--TPT outcomes                                                                                  ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦           ¦   ¦           ¦   ¦       ¦       ¦       ¦--gets TPT                                                                                  ,soc.prop.starting.tpt,cost.tpt.initiation,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.tpt.initiation,0,cost.tpt.initiation,0,0,0,0,0,0,0,0,ucost.prison.escort,ucost.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦           ¦   ¦           ¦   ¦       ¦       ¦       ¦   ¦--completed TPT                                                                         ,soc.prop.completing.tpt,cost.tpt.complete,0,0,0,0,0,0,0,0,0,0,TPT.visits*(ucost.prison.escort),durTPT*(ucost.ltbi.drugs),TPT.visits*(ucost.tpt.opd.visit),durTPT*(ucost.dots),0,0,0,cost.tpt.complete,0,0,cost.tpt.complete,0,0,0,0,0,0,0,(TPT.visits*ucost.prison.escort + durTPT*ucost.dots),(durTPT*ucost.ltbi.drugs+ TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,1
     ¦   ¦   ¦       ¦   ¦           ¦   ¦           ¦   ¦       ¦       ¦       ¦   °--did not complete TPT                                                                  ,1-soc.prop.completing.tpt,cost.tpt.incomplete,0,0,0,0,0,0,0,0,0,0,IncompDurTPT / durTPT * TPT.visits*ucost.prison.escort,IncompDurTPT*ucost.ltbi.drugs,IncompDurTPT / durTPT * TPT.visits*ucost.tpt.opd.visit,IncompDurTPT*ucost.dots,0,0,0,cost.tpt.incomplete,0,0,0,cost.tpt.incomplete,0,0,0,0,0,0,(IncompDurTPT/durTPT*TPT.visits*ucost.prison.escort + IncompDurTPT*ucost.dots),(IncompDurTPT*ucost.ltbi.drugs + IncompDurTPT/durTPT*TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1
     ¦   ¦   ¦       ¦   ¦           ¦   ¦           ¦   ¦       ¦       ¦       °--does not get TPT                                                                          ,1-soc.prop.starting.tpt,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦       ¦   ¦           ¦   ¦           ¦   ¦       ¦       °--Did not attend TPT referral                                                                       ,1-soc.prop.attend.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦       ¦   ¦           ¦   ¦           ¦   ¦       °--In prison/IRC for <3 months                                                                               ,1-soc.prop.staying.3+months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦           ¦   ¦           ¦   ¦           ¦--Remaining in the UK (community or other prison/IRC)                                                   ,soc.prop.staying.<3months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦           ¦   ¦           ¦   ¦           ¦   °--Refer for treatment and forward details to receiving prison/community TB nurse                    ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦           ¦   ¦           ¦   ¦           ¦       ¦--Attended TPT referral                                                                         ,soc.prop.attend.nhs.referral,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.attending.nhs.tb.service,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,ucost.prison.escort ,ucost.nhs.tb.service,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦           ¦   ¦           ¦   ¦           ¦       ¦   °--TPT outcomes                                                                              ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦           ¦   ¦           ¦   ¦           ¦       ¦       ¦--gets TPT                                                                              ,soc.prop.starting.tpt,cost.tpt.initiation,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.tpt.initiation,0,cost.tpt.initiation,0,0,0,0,0,0,0,0,ucost.prison.escort,ucost.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0
     ¦   ¦   ¦       ¦   ¦           ¦   ¦           ¦   ¦           ¦       ¦       ¦   ¦--completed TPT                                                                     ,soc.prop.completing.tpt,cost.tpt.complete,0,0,0,0,0,0,0,0,0,0,TPT.visits*(ucost.prison.escort),durTPT*(ucost.ltbi.drugs),TPT.visits*(ucost.tpt.opd.visit),durTPT*(ucost.dots),0,0,0,cost.tpt.complete,0,0,cost.tpt.complete,0,0,0,0,0,0,0,(TPT.visits*ucost.prison.escort + durTPT*ucost.dots),(durTPT*ucost.ltbi.drugs+ TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,1
     ¦   ¦   ¦       ¦   ¦           ¦   ¦           ¦   ¦           ¦       ¦       ¦   °--did not complete TPT                                                              ,1-soc.prop.completing.tpt,cost.tpt.incomplete,0,0,0,0,0,0,0,0,0,0,IncompDurTPT / durTPT * TPT.visits*ucost.prison.escort,IncompDurTPT*ucost.ltbi.drugs,IncompDurTPT / durTPT * TPT.visits*ucost.tpt.opd.visit,IncompDurTPT*ucost.dots,0,0,0,cost.tpt.incomplete,0,0,0,cost.tpt.incomplete,0,0,0,0,0,0,(IncompDurTPT/durTPT*TPT.visits*ucost.prison.escort + IncompDurTPT*ucost.dots),(IncompDurTPT*ucost.ltbi.drugs + IncompDurTPT/durTPT*TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1
     ¦   ¦   ¦       ¦   ¦           ¦   ¦           ¦   ¦           ¦       ¦       °--does not get TPT                                                                      ,1-soc.prop.starting.tpt,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦       ¦   ¦           ¦   ¦           ¦   ¦           ¦       °--Did not attend TPT referral                                                                   ,1-soc.prop.attend.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦       ¦   ¦           ¦   ¦           ¦   ¦           °--Early removal scheme or deportation                                                                   ,1-soc.prop.staying.<3months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦       ¦   ¦           ¦   ¦           ¦   °--Did not attend TB referral                                                                                        ,1-soc.prop.attend.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦       ¦   ¦           ¦   ¦           °--Not referred to NHS TB service                                                                                        ,1-nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦       ¦   ¦           ¦   °--IGRA test -                                                                                                                       ,1-soc.prop.igra.test.positive,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦       ¦   ¦           °--no IGRA test                                                                                                                          ,1-soc.prop.igra.tested,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦       ¦   °--No prison GP assessment                                                                                                                           ,1-soc.prop.prison.gp.assessment,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦       °--No TB symptoms                                                                                                                                        ,1-soc.prop.presumtive.tb,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦--Chest x-ray < 6 months                                                                                                                            ,soc.prop.prev.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦   ¦--Abornomal chest x-ray                                                                                                                         ,soc.prop.abnormal.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦   ¦   °--Urgent referral to local NHS TB service                                                                                                   ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦   ¦       ¦--Attended TB referral                                                                                                                  ,soc.prop.attend.nhs.referral,cost.tb.evaluation,0,cost.tb.evaluation,0,0,0,cost.nhs.tb.service,0,ucost.prison.escort,cost.tb.investigations,0,0,0,0,0,0,0,cost.tb.evaluation,0,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort ,ucost.nhs.tb.service + ucost.tb.investigations,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦   ¦       ¦   ¦--TB                                                                                                                                ,soc.prop.abn.xray.tb.dx,cost.contact.management,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,cost.contact.management,smear.positive * (cost.prison.isolation),0,0,0,smear.positive * (nContacts * ucost.contact.tracing),cost.contact.management,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0
     ¦   ¦   ¦           ¦   ¦       ¦   ¦   °--TB outcomes                                                                                                                   ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦   ¦       ¦   ¦       ¦--ATT                                                                                                                       ,soc.prop.starting.att,cost.att.initiation,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,0,0,0,0,0,cost.att.initiation,0,cost.att.initiation,0,0,0,ucost.prison.escort,ucost.nhs.tb.service ,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0
     ¦   ¦   ¦           ¦   ¦       ¦   ¦       ¦   ¦--completed ATT                                                                                                         ,soc.prop.completing.att,cost.att.complete,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort * (pDSTB * dstb.visits + (1 - pDSTB) * mdrtb.visits) ,pDSTB * DurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * DurMDRTB * ucost.mdratt.drugs,pDSTB * dstb.visits*ucost.dstb.opd.visit + (1 - pDSTB) * mdrtb.visits * ucost.mdrtb.opd.visit,ucost.dots * (pDSTB * DurDSTB + (1 - pDSTB) * DurMDRTB),(pDSTB * smear.positive * DurDSTBIsolation * ucost.dstb.ipd +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * ucost.mdrtb.ipd + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * ucost.mdrtb.ipd),ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation),0,0,0,0,0,0,cost.att.complete,0,0,cost.att.complete,0,0,(ucost.prison.escort * (pDSTB * dstb.visits + (1 - pDSTB) * mdrtb.visits)  + ucost.dots * (pDSTB * DurDSTB + (1 - pDSTB) * DurMDRTB) + ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation)),(pDSTB * DurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * DurMDRTB * ucost.mdratt.drugs + pDSTB * dstb.visits*(ucost.dstb.opd.visit) + (1 - pDSTB) * mdrtb.visits * (ucost.mdrtb.opd.visit) + (pDSTB * smear.positive * DurDSTBIsolation * (ucost.dstb.ipd) +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * (ucost.mdrtb.ipd) + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * (ucost.mdrtb.ipd))),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,1
     ¦   ¦   ¦           ¦   ¦       ¦   ¦       ¦   °--did not complete ATT                                                                                                  ,1-soc.prop.completing.att,cost.att.incomplete ,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort * (IncompDurDSTB/DurDSTB*pDSTB * dstb.visits + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits),pDSTB  * IncompDurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * IncompDurMDRTB  * ucost.mdratt.drugs,IncompDurDSTB / DurDSTB * pDSTB * dstb.visits*ucost.dstb.opd.visit + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits * ucost.mdrtb.opd.visit,ucost.dots * (pDSTB * IncompDurDSTB + (1 - pDSTB) * IncompDurMDRTB),(pDSTB * smear.positive * DurDSTBIsolation * ucost.dstb.ipd +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * ucost.mdrtb.ipd + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * ucost.mdrtb.ipd),ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation),0,0,0,0,0,0,cost.att.incomplete ,0,0,0,cost.att.incomplete ,0,(ucost.prison.escort * (IncompDurDSTB/DurDSTB*pDSTB * dstb.visits + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits) + ucost.dots * (pDSTB * IncompDurDSTB + (1 - pDSTB) * IncompDurMDRTB) + ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  + (1 - pDSTB) * smear.positive * DurMDRTB2Isolation+ (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation)),(pDSTB  * IncompDurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * IncompDurMDRTB * ucost.mdratt.drugs) + (IncompDurDSTB / DurDSTB * pDSTB * dstb.visits*ucost.dstb.opd.visit + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits * ucost.mdrtb.opd.visit) + ((pDSTB * smear.positive * DurDSTBIsolation * (ucost.dstb.ipd) +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * (ucost.mdrtb.ipd) +(1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * (ucost.mdrtb.ipd))),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦   ¦   ¦           ¦   ¦       ¦   ¦       °--no ATT                                                                                                                    ,1-soc.prop.starting.att,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦           ¦   ¦       ¦   °--Not TB                                                                                                                            ,1-soc.prop.abn.xray.tb.dx,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦   ¦       ¦       °--LTBI pathway                                                                                                                  ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦   ¦       ¦           ¦--IGRA test                                                                                                                 ,soc.prop.igra.tested,cost.igra.test,0,0,0,0,0,0,0,0,0,cost.igra.test,0,0,0,0,0,0,0,cost.igra.test,0,0,0,0,0,0,0,0,0,0,0,ucost.igra.test,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦--IGRA test +                                                                                                           ,soc.prop.igra.test.positive,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦   ¦--Previous chest x-ray                                                                                              ,soc.prop.prev.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦   ¦   ¦--Abornomal chest x-ray                                                                                         ,soc.prop.abnormal.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦--Referred to NHS TB service                                                                                ,nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦--Attended TB referral                                                                                  ,soc.prop.attend.nhs.referral,cost.tb.evaluation,0,cost.tb.evaluation,0,0,0,cost.nhs.tb.service,0,ucost.prison.escort,cost.tb.investigations,0,0,0,0,0,0,0,cost.tb.evaluation,0,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort ,ucost.nhs.tb.service + ucost.tb.investigations,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦   ¦--TB                                                                                                ,soc.prop.abn.xray.tb.dx,cost.contact.management,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,cost.contact.management,smear.positive * (cost.prison.isolation),0,0,0,smear.positive * (nContacts * ucost.contact.tracing),cost.contact.management,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦   ¦   °--TB outcomes                                                                                   ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦   ¦       ¦--ATT                                                                                       ,soc.prop.starting.att,cost.att.initiation,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,0,0,0,0,0,cost.att.initiation,0,cost.att.initiation,0,0,0,ucost.prison.escort,ucost.nhs.tb.service ,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦   ¦       ¦   ¦--completed ATT                                                                         ,soc.prop.completing.att,cost.att.complete,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort * (pDSTB * dstb.visits + (1 - pDSTB) * mdrtb.visits) ,pDSTB * DurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * DurMDRTB * ucost.mdratt.drugs,pDSTB * dstb.visits*ucost.dstb.opd.visit + (1 - pDSTB) * mdrtb.visits * ucost.mdrtb.opd.visit,ucost.dots * (pDSTB * DurDSTB + (1 - pDSTB) * DurMDRTB),(pDSTB * smear.positive * DurDSTBIsolation * ucost.dstb.ipd +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * ucost.mdrtb.ipd + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * ucost.mdrtb.ipd),ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation),0,0,0,0,0,0,cost.att.complete,0,0,cost.att.complete,0,0,(ucost.prison.escort * (pDSTB * dstb.visits + (1 - pDSTB) * mdrtb.visits)  + ucost.dots * (pDSTB * DurDSTB + (1 - pDSTB) * DurMDRTB) + ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation)),(pDSTB * DurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * DurMDRTB * ucost.mdratt.drugs + pDSTB * dstb.visits*(ucost.dstb.opd.visit) + (1 - pDSTB) * mdrtb.visits * (ucost.mdrtb.opd.visit) + (pDSTB * smear.positive * DurDSTBIsolation * (ucost.dstb.ipd) +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * (ucost.mdrtb.ipd) + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * (ucost.mdrtb.ipd))),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,1
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦   ¦       ¦   °--did not complete ATT                                                                  ,1-soc.prop.completing.att,cost.att.incomplete ,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort * (IncompDurDSTB/DurDSTB*pDSTB * dstb.visits + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits),pDSTB  * IncompDurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * IncompDurMDRTB  * ucost.mdratt.drugs,IncompDurDSTB / DurDSTB * pDSTB * dstb.visits*ucost.dstb.opd.visit + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits * ucost.mdrtb.opd.visit,ucost.dots * (pDSTB * IncompDurDSTB + (1 - pDSTB) * IncompDurMDRTB),(pDSTB * smear.positive * DurDSTBIsolation * ucost.dstb.ipd +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * ucost.mdrtb.ipd + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * ucost.mdrtb.ipd),ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation),0,0,0,0,0,0,cost.att.incomplete ,0,0,0,cost.att.incomplete ,0,(ucost.prison.escort * (IncompDurDSTB/DurDSTB*pDSTB * dstb.visits + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits) + ucost.dots * (pDSTB * IncompDurDSTB + (1 - pDSTB) * IncompDurMDRTB) + ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  + (1 - pDSTB) * smear.positive * DurMDRTB2Isolation+ (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation)),(pDSTB  * IncompDurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * IncompDurMDRTB * ucost.mdratt.drugs) + (IncompDurDSTB / DurDSTB * pDSTB * dstb.visits*ucost.dstb.opd.visit + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits * ucost.mdrtb.opd.visit) + ((pDSTB * smear.positive * DurDSTBIsolation * (ucost.dstb.ipd) +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * (ucost.mdrtb.ipd) +(1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * (ucost.mdrtb.ipd))),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦   ¦       °--no ATT                                                                                    ,1-soc.prop.starting.att,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦   °--Not TB                                                                                            ,1-soc.prop.abn.xray.tb.dx,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦       ¦--In prison/IRC for >3 months                                                                   ,soc.prop.staying.3+months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦       ¦   °--Refer for treatment                                                                       ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦       ¦       ¦--Attended TPT referral                                                                 ,soc.prop.attend.nhs.referral,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.attending.nhs.tb.service,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,ucost.prison.escort ,ucost.nhs.tb.service,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦       ¦       ¦   °--TPT outcomes                                                                      ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦       ¦       ¦       ¦--gets TPT                                                                      ,soc.prop.starting.tpt,cost.tpt.initiation,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.tpt.initiation,0,cost.tpt.initiation,0,0,0,0,0,0,0,0,ucost.prison.escort,ucost.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦       ¦       ¦       ¦   ¦--completed TPT                                                             ,soc.prop.completing.tpt,cost.tpt.complete,0,0,0,0,0,0,0,0,0,0,TPT.visits*(ucost.prison.escort),durTPT*(ucost.ltbi.drugs),TPT.visits*(ucost.tpt.opd.visit),durTPT*(ucost.dots),0,0,0,cost.tpt.complete,0,0,cost.tpt.complete,0,0,0,0,0,0,0,(TPT.visits*ucost.prison.escort + durTPT*ucost.dots),(durTPT*ucost.ltbi.drugs+ TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,1
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦       ¦       ¦       ¦   °--did not complete TPT                                                      ,1-soc.prop.completing.tpt,cost.tpt.incomplete,0,0,0,0,0,0,0,0,0,0,IncompDurTPT / durTPT * TPT.visits*ucost.prison.escort,IncompDurTPT*ucost.ltbi.drugs,IncompDurTPT / durTPT * TPT.visits*ucost.tpt.opd.visit,IncompDurTPT*ucost.dots,0,0,0,cost.tpt.incomplete,0,0,0,cost.tpt.incomplete,0,0,0,0,0,0,(IncompDurTPT/durTPT*TPT.visits*ucost.prison.escort + IncompDurTPT*ucost.dots),(IncompDurTPT*ucost.ltbi.drugs + IncompDurTPT/durTPT*TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦       ¦       ¦       °--does not get TPT                                                              ,1-soc.prop.starting.tpt,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦       ¦       °--Did not attend TB referral TPT referral                                               ,1-soc.prop.attend.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦       °--In prison/IRC for <3 months                                                                   ,1-soc.prop.staying.3+months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦           ¦--Remaining in the UK (community or other prison/IRC)                                       ,soc.prop.staying.<3months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦           ¦   °--Refer for treatment and forward details to receiving prison/community TB nurse        ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦           ¦       ¦--Attended TPT referral                                                             ,soc.prop.attend.nhs.referral,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.attending.nhs.tb.service,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,ucost.prison.escort ,ucost.nhs.tb.service,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦           ¦       ¦   °--TPT outcomes                                                                  ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦           ¦       ¦       ¦--gets TPT                                                                  ,soc.prop.starting.tpt,cost.tpt.initiation,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.tpt.initiation,0,cost.tpt.initiation,0,0,0,0,0,0,0,0,ucost.prison.escort,ucost.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦           ¦       ¦       ¦   ¦--completed TPT                                                         ,soc.prop.completing.tpt,cost.tpt.complete,0,0,0,0,0,0,0,0,0,0,TPT.visits*(ucost.prison.escort),durTPT*(ucost.ltbi.drugs),TPT.visits*(ucost.tpt.opd.visit),durTPT*(ucost.dots),0,0,0,cost.tpt.complete,0,0,cost.tpt.complete,0,0,0,0,0,0,0,(TPT.visits*ucost.prison.escort + durTPT*ucost.dots),(durTPT*ucost.ltbi.drugs+ TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,1
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦           ¦       ¦       ¦   °--did not complete TPT                                                  ,1-soc.prop.completing.tpt,cost.tpt.incomplete,0,0,0,0,0,0,0,0,0,0,IncompDurTPT / durTPT * TPT.visits*ucost.prison.escort,IncompDurTPT*ucost.ltbi.drugs,IncompDurTPT / durTPT * TPT.visits*ucost.tpt.opd.visit,IncompDurTPT*ucost.dots,0,0,0,cost.tpt.incomplete,0,0,0,cost.tpt.incomplete,0,0,0,0,0,0,(IncompDurTPT/durTPT*TPT.visits*ucost.prison.escort + IncompDurTPT*ucost.dots),(IncompDurTPT*ucost.ltbi.drugs + IncompDurTPT/durTPT*TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦           ¦       ¦       °--does not get TPT                                                          ,1-soc.prop.starting.tpt,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦           ¦       °--Did not attend TPT referral                                                       ,1-soc.prop.attend.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦           °--Early removal scheme or deportation                                                       ,1-soc.prop.staying.<3months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   °--Did not attend TB referral                                                                            ,1-soc.prop.attend.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦   ¦   ¦   °--Not referred to NHS TB service                                                                            ,1-nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦   ¦   °--Normal chest x-ray                                                                                            ,1-soc.prop.abnormal.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦   ¦       ¦--In prison/IRC for >3 months                                                                               ,soc.prop.staying.3+months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦   ¦       ¦   °--Refer for treatment                                                                                   ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦   ¦       ¦       ¦--Attended TPT referral                                                                             ,soc.prop.attend.nhs.referral,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.attending.nhs.tb.service,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,ucost.prison.escort ,ucost.nhs.tb.service,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦   ¦       ¦       ¦   °--TPT outcomes                                                                                  ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦   ¦       ¦       ¦       ¦--gets TPT                                                                                  ,soc.prop.starting.tpt,cost.tpt.initiation,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.tpt.initiation,0,cost.tpt.initiation,0,0,0,0,0,0,0,0,ucost.prison.escort,ucost.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦   ¦       ¦       ¦       ¦   ¦--completed TPT                                                                         ,soc.prop.completing.tpt,cost.tpt.complete,0,0,0,0,0,0,0,0,0,0,TPT.visits*(ucost.prison.escort),durTPT*(ucost.ltbi.drugs),TPT.visits*(ucost.tpt.opd.visit),durTPT*(ucost.dots),0,0,0,cost.tpt.complete,0,0,cost.tpt.complete,0,0,0,0,0,0,0,(TPT.visits*ucost.prison.escort + durTPT*ucost.dots),(durTPT*ucost.ltbi.drugs+ TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,1
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦   ¦       ¦       ¦       ¦   °--did not complete TPT                                                                  ,1-soc.prop.completing.tpt,cost.tpt.incomplete,0,0,0,0,0,0,0,0,0,0,IncompDurTPT / durTPT * TPT.visits*ucost.prison.escort,IncompDurTPT*ucost.ltbi.drugs,IncompDurTPT / durTPT * TPT.visits*ucost.tpt.opd.visit,IncompDurTPT*ucost.dots,0,0,0,cost.tpt.incomplete,0,0,0,cost.tpt.incomplete,0,0,0,0,0,0,(IncompDurTPT/durTPT*TPT.visits*ucost.prison.escort + IncompDurTPT*ucost.dots),(IncompDurTPT*ucost.ltbi.drugs + IncompDurTPT/durTPT*TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦   ¦       ¦       ¦       °--does not get TPT                                                                          ,1-soc.prop.starting.tpt,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦   ¦       ¦       °--Did not attend TPT referral                                                                       ,1-soc.prop.attend.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦   ¦       °--In prison/IRC for <3 months                                                                               ,1-soc.prop.staying.3+months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦   ¦           ¦--Remaining in the UK (community or other prison/IRC)                                                   ,soc.prop.staying.<3months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦   ¦           ¦   °--Refer for treatment and forward details to receiving prison/community TB nurse                    ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦   ¦           ¦       ¦--Attended TPT referral                                                                         ,soc.prop.attend.nhs.referral,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.attending.nhs.tb.service,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,ucost.prison.escort ,ucost.nhs.tb.service,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦   ¦           ¦       ¦   °--TPT outcomes                                                                              ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦   ¦           ¦       ¦       ¦--gets TPT                                                                              ,soc.prop.starting.tpt,cost.tpt.initiation,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.tpt.initiation,0,cost.tpt.initiation,0,0,0,0,0,0,0,0,ucost.prison.escort,ucost.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦   ¦           ¦       ¦       ¦   ¦--completed TPT                                                                     ,soc.prop.completing.tpt,cost.tpt.complete,0,0,0,0,0,0,0,0,0,0,TPT.visits*(ucost.prison.escort),durTPT*(ucost.ltbi.drugs),TPT.visits*(ucost.tpt.opd.visit),durTPT*(ucost.dots),0,0,0,cost.tpt.complete,0,0,cost.tpt.complete,0,0,0,0,0,0,0,(TPT.visits*ucost.prison.escort + durTPT*ucost.dots),(durTPT*ucost.ltbi.drugs+ TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,1
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦   ¦           ¦       ¦       ¦   °--did not complete TPT                                                              ,1-soc.prop.completing.tpt,cost.tpt.incomplete,0,0,0,0,0,0,0,0,0,0,IncompDurTPT / durTPT * TPT.visits*ucost.prison.escort,IncompDurTPT*ucost.ltbi.drugs,IncompDurTPT / durTPT * TPT.visits*ucost.tpt.opd.visit,IncompDurTPT*ucost.dots,0,0,0,cost.tpt.incomplete,0,0,0,cost.tpt.incomplete,0,0,0,0,0,0,(IncompDurTPT/durTPT*TPT.visits*ucost.prison.escort + IncompDurTPT*ucost.dots),(IncompDurTPT*ucost.ltbi.drugs + IncompDurTPT/durTPT*TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦   ¦           ¦       ¦       °--does not get TPT                                                                      ,1-soc.prop.starting.tpt,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦   ¦           ¦       °--Did not attend TPT referral                                                                   ,1-soc.prop.attend.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦   ¦           °--Early removal scheme or deportation                                                                   ,1-soc.prop.staying.<3months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦   °--No previous chest x-ray                                                                                           ,1-soc.prop.prev.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦       ¦--Chest x-ray                                                                                                   ,soc.prop.xray,cost.chest.xray,0,cost.chest.xray,0,ucost.chest.xray,0,0,ucost.prison.escort,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,ucost.chest.xray,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦       ¦   ¦--Abornomal chest x-ray                                                                                     ,soc.prop.abnormal.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦--Referred to NHS TB service                                                                            ,nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦--Attended TB referral                                                                              ,soc.prop.attend.nhs.referral,cost.tb.evaluation,0,cost.tb.evaluation,0,0,0,cost.nhs.tb.service,0,ucost.prison.escort,cost.tb.investigations,0,0,0,0,0,0,0,cost.tb.evaluation,0,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort ,ucost.nhs.tb.service + ucost.tb.investigations,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦   ¦--TB                                                                                            ,soc.prop.abn.xray.tb.dx,cost.contact.management,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,cost.contact.management,smear.positive * (cost.prison.isolation),0,0,0,smear.positive * (nContacts * ucost.contact.tracing),cost.contact.management,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦   ¦   °--TB outcomes                                                                               ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦   ¦       ¦--ATT                                                                                   ,soc.prop.starting.att,cost.att.initiation,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,0,0,0,0,0,cost.att.initiation,0,cost.att.initiation,0,0,0,ucost.prison.escort,ucost.nhs.tb.service ,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦   ¦       ¦   ¦--completed ATT                                                                     ,soc.prop.completing.att,cost.att.complete,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort * (pDSTB * dstb.visits + (1 - pDSTB) * mdrtb.visits) ,pDSTB * DurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * DurMDRTB * ucost.mdratt.drugs,pDSTB * dstb.visits*ucost.dstb.opd.visit + (1 - pDSTB) * mdrtb.visits * ucost.mdrtb.opd.visit,ucost.dots * (pDSTB * DurDSTB + (1 - pDSTB) * DurMDRTB),(pDSTB * smear.positive * DurDSTBIsolation * ucost.dstb.ipd +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * ucost.mdrtb.ipd + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * ucost.mdrtb.ipd),ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation),0,0,0,0,0,0,cost.att.complete,0,0,cost.att.complete,0,0,(ucost.prison.escort * (pDSTB * dstb.visits + (1 - pDSTB) * mdrtb.visits)  + ucost.dots * (pDSTB * DurDSTB + (1 - pDSTB) * DurMDRTB) + ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation)),(pDSTB * DurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * DurMDRTB * ucost.mdratt.drugs + pDSTB * dstb.visits*(ucost.dstb.opd.visit) + (1 - pDSTB) * mdrtb.visits * (ucost.mdrtb.opd.visit) + (pDSTB * smear.positive * DurDSTBIsolation * (ucost.dstb.ipd) +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * (ucost.mdrtb.ipd) + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * (ucost.mdrtb.ipd))),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,1
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦   ¦       ¦   °--did not complete ATT                                                              ,1-soc.prop.completing.att,cost.att.incomplete ,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort * (IncompDurDSTB/DurDSTB*pDSTB * dstb.visits + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits),pDSTB  * IncompDurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * IncompDurMDRTB  * ucost.mdratt.drugs,IncompDurDSTB / DurDSTB * pDSTB * dstb.visits*ucost.dstb.opd.visit + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits * ucost.mdrtb.opd.visit,ucost.dots * (pDSTB * IncompDurDSTB + (1 - pDSTB) * IncompDurMDRTB),(pDSTB * smear.positive * DurDSTBIsolation * ucost.dstb.ipd +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * ucost.mdrtb.ipd + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * ucost.mdrtb.ipd),ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation),0,0,0,0,0,0,cost.att.incomplete ,0,0,0,cost.att.incomplete ,0,(ucost.prison.escort * (IncompDurDSTB/DurDSTB*pDSTB * dstb.visits + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits) + ucost.dots * (pDSTB * IncompDurDSTB + (1 - pDSTB) * IncompDurMDRTB) + ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  + (1 - pDSTB) * smear.positive * DurMDRTB2Isolation+ (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation)),(pDSTB  * IncompDurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * IncompDurMDRTB * ucost.mdratt.drugs) + (IncompDurDSTB / DurDSTB * pDSTB * dstb.visits*ucost.dstb.opd.visit + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits * ucost.mdrtb.opd.visit) + ((pDSTB * smear.positive * DurDSTBIsolation * (ucost.dstb.ipd) +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * (ucost.mdrtb.ipd) +(1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * (ucost.mdrtb.ipd))),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦   ¦       °--no ATT                                                                                ,1-soc.prop.starting.att,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦   °--Not TB                                                                                        ,1-soc.prop.abn.xray.tb.dx,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦       ¦--In prison/IRC for >3 months                                                               ,soc.prop.staying.3+months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦       ¦   °--Refer for treatment                                                                   ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦       ¦       ¦--Attended TPT referral                                                             ,soc.prop.attend.nhs.referral,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.attending.nhs.tb.service,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,ucost.prison.escort ,ucost.nhs.tb.service,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦       ¦       ¦   °--TPT outcomes                                                                  ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦       ¦       ¦       ¦--gets TPT                                                                  ,soc.prop.starting.tpt,cost.tpt.initiation,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.tpt.initiation,0,cost.tpt.initiation,0,0,0,0,0,0,0,0,ucost.prison.escort,ucost.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦       ¦       ¦       ¦   ¦--completed TPT                                                         ,soc.prop.completing.tpt,cost.tpt.complete,0,0,0,0,0,0,0,0,0,0,TPT.visits*(ucost.prison.escort),durTPT*(ucost.ltbi.drugs),TPT.visits*(ucost.tpt.opd.visit),durTPT*(ucost.dots),0,0,0,cost.tpt.complete,0,0,cost.tpt.complete,0,0,0,0,0,0,0,(TPT.visits*ucost.prison.escort + durTPT*ucost.dots),(durTPT*ucost.ltbi.drugs+ TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,1
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦       ¦       ¦       ¦   °--did not complete TPT                                                  ,1-soc.prop.completing.tpt,cost.tpt.incomplete,0,0,0,0,0,0,0,0,0,0,IncompDurTPT / durTPT * TPT.visits*ucost.prison.escort,IncompDurTPT*ucost.ltbi.drugs,IncompDurTPT / durTPT * TPT.visits*ucost.tpt.opd.visit,IncompDurTPT*ucost.dots,0,0,0,cost.tpt.incomplete,0,0,0,cost.tpt.incomplete,0,0,0,0,0,0,(IncompDurTPT/durTPT*TPT.visits*ucost.prison.escort + IncompDurTPT*ucost.dots),(IncompDurTPT*ucost.ltbi.drugs + IncompDurTPT/durTPT*TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦       ¦       ¦       °--does not get TPT                                                          ,1-soc.prop.starting.tpt,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦       ¦       °--Did not attend TPT referral                                                       ,1-soc.prop.attend.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦       °--In prison/IRC for <3 months                                                               ,1-soc.prop.staying.3+months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦           ¦--Remaining in the UK (community or other prison/IRC)                                   ,soc.prop.staying.<3months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦           ¦   °--Refer for treatment and forward details to receiving prison/community TB nurse    ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦           ¦       ¦--Attended TPT referral                                                         ,soc.prop.attend.nhs.referral,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.attending.nhs.tb.service,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,ucost.prison.escort ,ucost.nhs.tb.service,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦           ¦       ¦   °--TPT outcomes                                                              ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦           ¦       ¦       ¦--gets TPT                                                              ,soc.prop.starting.tpt,cost.tpt.initiation,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.tpt.initiation,0,cost.tpt.initiation,0,0,0,0,0,0,0,0,ucost.prison.escort,ucost.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦           ¦       ¦       ¦   ¦--completed TPT                                                     ,soc.prop.completing.tpt,cost.tpt.complete,0,0,0,0,0,0,0,0,0,0,TPT.visits*(ucost.prison.escort),durTPT*(ucost.ltbi.drugs),TPT.visits*(ucost.tpt.opd.visit),durTPT*(ucost.dots),0,0,0,cost.tpt.complete,0,0,cost.tpt.complete,0,0,0,0,0,0,0,(TPT.visits*ucost.prison.escort + durTPT*ucost.dots),(durTPT*ucost.ltbi.drugs+ TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,1
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦           ¦       ¦       ¦   °--did not complete TPT                                              ,1-soc.prop.completing.tpt,cost.tpt.incomplete,0,0,0,0,0,0,0,0,0,0,IncompDurTPT / durTPT * TPT.visits*ucost.prison.escort,IncompDurTPT*ucost.ltbi.drugs,IncompDurTPT / durTPT * TPT.visits*ucost.tpt.opd.visit,IncompDurTPT*ucost.dots,0,0,0,cost.tpt.incomplete,0,0,0,cost.tpt.incomplete,0,0,0,0,0,0,(IncompDurTPT/durTPT*TPT.visits*ucost.prison.escort + IncompDurTPT*ucost.dots),(IncompDurTPT*ucost.ltbi.drugs + IncompDurTPT/durTPT*TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦           ¦       ¦       °--does not get TPT                                                      ,1-soc.prop.starting.tpt,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦           ¦       °--Did not attend TPT referral                                                   ,1-soc.prop.attend.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦           °--Early removal scheme or deportation                                                   ,1-soc.prop.staying.<3months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   °--Did not attend TB referral                                                                        ,1-soc.prop.attend.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦       ¦   ¦   °--Not referred to NHS TB service                                                                        ,1-nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦       ¦   °--Normal chest x-ray                                                                                        ,1-soc.prop.abnormal.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦       ¦       ¦--In prison/IRC for >3 months                                                                           ,soc.prop.staying.3+months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦       ¦       ¦   °--Refer for treatment                                                                               ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦       ¦       ¦       ¦--Attended TPT referral                                                                         ,soc.prop.attend.nhs.referral,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.attending.nhs.tb.service,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,ucost.prison.escort ,ucost.nhs.tb.service,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦       ¦       ¦       ¦   °--TPT outcomes                                                                              ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦       ¦       ¦       ¦       ¦--gets TPT                                                                              ,soc.prop.starting.tpt,cost.tpt.initiation,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.tpt.initiation,0,cost.tpt.initiation,0,0,0,0,0,0,0,0,ucost.prison.escort,ucost.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦       ¦       ¦       ¦       ¦   ¦--completed TPT                                                                     ,soc.prop.completing.tpt,cost.tpt.complete,0,0,0,0,0,0,0,0,0,0,TPT.visits*(ucost.prison.escort),durTPT*(ucost.ltbi.drugs),TPT.visits*(ucost.tpt.opd.visit),durTPT*(ucost.dots),0,0,0,cost.tpt.complete,0,0,cost.tpt.complete,0,0,0,0,0,0,0,(TPT.visits*ucost.prison.escort + durTPT*ucost.dots),(durTPT*ucost.ltbi.drugs+ TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,1
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦       ¦       ¦       ¦       ¦   °--did not complete TPT                                                              ,1-soc.prop.completing.tpt,cost.tpt.incomplete,0,0,0,0,0,0,0,0,0,0,IncompDurTPT / durTPT * TPT.visits*ucost.prison.escort,IncompDurTPT*ucost.ltbi.drugs,IncompDurTPT / durTPT * TPT.visits*ucost.tpt.opd.visit,IncompDurTPT*ucost.dots,0,0,0,cost.tpt.incomplete,0,0,0,cost.tpt.incomplete,0,0,0,0,0,0,(IncompDurTPT/durTPT*TPT.visits*ucost.prison.escort + IncompDurTPT*ucost.dots),(IncompDurTPT*ucost.ltbi.drugs + IncompDurTPT/durTPT*TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦       ¦       ¦       ¦       °--does not get TPT                                                                      ,1-soc.prop.starting.tpt,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦       ¦       ¦       °--Did not attend TPT referral                                                                   ,1-soc.prop.attend.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦       ¦       °--In prison/IRC for <3 months                                                                           ,1-soc.prop.staying.3+months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦       ¦           ¦--Remaining in the UK (community or other prison/IRC)                                               ,soc.prop.staying.<3months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦       ¦           ¦   °--Refer for treatment and forward details to receiving prison/community TB nurse                ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦       ¦           ¦       ¦--Attended TPT referral                                                                     ,soc.prop.attend.nhs.referral,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.attending.nhs.tb.service,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,ucost.prison.escort ,ucost.nhs.tb.service,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦       ¦           ¦       ¦   °--TPT outcomes                                                                          ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦       ¦           ¦       ¦       ¦--gets TPT                                                                          ,soc.prop.starting.tpt,cost.tpt.initiation,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.tpt.initiation,0,cost.tpt.initiation,0,0,0,0,0,0,0,0,ucost.prison.escort,ucost.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦       ¦           ¦       ¦       ¦   ¦--completed TPT                                                                 ,soc.prop.completing.tpt,cost.tpt.complete,0,0,0,0,0,0,0,0,0,0,TPT.visits*(ucost.prison.escort),durTPT*(ucost.ltbi.drugs),TPT.visits*(ucost.tpt.opd.visit),durTPT*(ucost.dots),0,0,0,cost.tpt.complete,0,0,cost.tpt.complete,0,0,0,0,0,0,0,(TPT.visits*ucost.prison.escort + durTPT*ucost.dots),(durTPT*ucost.ltbi.drugs+ TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,1
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦       ¦           ¦       ¦       ¦   °--did not complete TPT                                                          ,1-soc.prop.completing.tpt,cost.tpt.incomplete,0,0,0,0,0,0,0,0,0,0,IncompDurTPT / durTPT * TPT.visits*ucost.prison.escort,IncompDurTPT*ucost.ltbi.drugs,IncompDurTPT / durTPT * TPT.visits*ucost.tpt.opd.visit,IncompDurTPT*ucost.dots,0,0,0,cost.tpt.incomplete,0,0,0,cost.tpt.incomplete,0,0,0,0,0,0,(IncompDurTPT/durTPT*TPT.visits*ucost.prison.escort + IncompDurTPT*ucost.dots),(IncompDurTPT*ucost.ltbi.drugs + IncompDurTPT/durTPT*TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦       ¦           ¦       ¦       °--does not get TPT                                                                  ,1-soc.prop.starting.tpt,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦       ¦           ¦       °--Did not attend TPT referral                                                               ,1-soc.prop.attend.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦       ¦           °--Early removal scheme or deportation                                                               ,1-soc.prop.staying.<3months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦       °--No chest x-ray                                                                                                ,1-soc.prop.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦           ¦--Referred to NHS TB service                                                                                ,nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦           ¦   ¦--Attended TB referral                                                                                  ,soc.prop.attend.nhs.referral,cost.tb.evaluation,0,cost.tb.evaluation,0,0,0,cost.nhs.tb.service,0,ucost.prison.escort,cost.tb.investigations,0,0,0,0,0,0,0,cost.tb.evaluation,0,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort ,ucost.nhs.tb.service + ucost.tb.investigations,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦           ¦   ¦   ¦--TB                                                                                                ,soc.prop.no.xray.tb.dx,cost.contact.management,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,cost.contact.management,smear.positive * (cost.prison.isolation),0,0,0,smear.positive * (nContacts * ucost.contact.tracing),cost.contact.management,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦           ¦   ¦   ¦   °--TB outcomes                                                                                   ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦           ¦   ¦   ¦       ¦--ATT                                                                                       ,soc.prop.starting.att,cost.att.initiation,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,0,0,0,0,0,cost.att.initiation,0,cost.att.initiation,0,0,0,ucost.prison.escort,ucost.nhs.tb.service ,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦           ¦   ¦   ¦       ¦   ¦--completed ATT                                                                         ,soc.prop.completing.att,cost.att.complete,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort * (pDSTB * dstb.visits + (1 - pDSTB) * mdrtb.visits) ,pDSTB * DurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * DurMDRTB * ucost.mdratt.drugs,pDSTB * dstb.visits*ucost.dstb.opd.visit + (1 - pDSTB) * mdrtb.visits * ucost.mdrtb.opd.visit,ucost.dots * (pDSTB * DurDSTB + (1 - pDSTB) * DurMDRTB),(pDSTB * smear.positive * DurDSTBIsolation * ucost.dstb.ipd +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * ucost.mdrtb.ipd + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * ucost.mdrtb.ipd),ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation),0,0,0,0,0,0,cost.att.complete,0,0,cost.att.complete,0,0,(ucost.prison.escort * (pDSTB * dstb.visits + (1 - pDSTB) * mdrtb.visits)  + ucost.dots * (pDSTB * DurDSTB + (1 - pDSTB) * DurMDRTB) + ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation)),(pDSTB * DurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * DurMDRTB * ucost.mdratt.drugs + pDSTB * dstb.visits*(ucost.dstb.opd.visit) + (1 - pDSTB) * mdrtb.visits * (ucost.mdrtb.opd.visit) + (pDSTB * smear.positive * DurDSTBIsolation * (ucost.dstb.ipd) +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * (ucost.mdrtb.ipd) + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * (ucost.mdrtb.ipd))),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,1
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦           ¦   ¦   ¦       ¦   °--did not complete ATT                                                                  ,1-soc.prop.completing.att,cost.att.incomplete ,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort * (IncompDurDSTB/DurDSTB*pDSTB * dstb.visits + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits),pDSTB  * IncompDurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * IncompDurMDRTB  * ucost.mdratt.drugs,IncompDurDSTB / DurDSTB * pDSTB * dstb.visits*ucost.dstb.opd.visit + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits * ucost.mdrtb.opd.visit,ucost.dots * (pDSTB * IncompDurDSTB + (1 - pDSTB) * IncompDurMDRTB),(pDSTB * smear.positive * DurDSTBIsolation * ucost.dstb.ipd +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * ucost.mdrtb.ipd + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * ucost.mdrtb.ipd),ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation),0,0,0,0,0,0,cost.att.incomplete ,0,0,0,cost.att.incomplete ,0,(ucost.prison.escort * (IncompDurDSTB/DurDSTB*pDSTB * dstb.visits + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits) + ucost.dots * (pDSTB * IncompDurDSTB + (1 - pDSTB) * IncompDurMDRTB) + ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  + (1 - pDSTB) * smear.positive * DurMDRTB2Isolation+ (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation)),(pDSTB  * IncompDurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * IncompDurMDRTB * ucost.mdratt.drugs) + (IncompDurDSTB / DurDSTB * pDSTB * dstb.visits*ucost.dstb.opd.visit + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits * ucost.mdrtb.opd.visit) + ((pDSTB * smear.positive * DurDSTBIsolation * (ucost.dstb.ipd) +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * (ucost.mdrtb.ipd) +(1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * (ucost.mdrtb.ipd))),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦           ¦   ¦   ¦       °--no ATT                                                                                    ,1-soc.prop.starting.att,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦           ¦   ¦   °--Not TB                                                                                            ,1-soc.prop.no.xray.tb.dx,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦           ¦   ¦       ¦--In prison/IRC for >3 months                                                                   ,soc.prop.staying.3+months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦           ¦   ¦       ¦   °--Refer for treatment                                                                       ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦           ¦   ¦       ¦       ¦--Attended TPT referral                                                                 ,soc.prop.attend.nhs.referral,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.attending.nhs.tb.service,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,ucost.prison.escort ,ucost.nhs.tb.service,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦           ¦   ¦       ¦       ¦   °--TPT outcomes                                                                      ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦           ¦   ¦       ¦       ¦       ¦--gets TPT                                                                      ,soc.prop.starting.tpt,cost.tpt.initiation,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.tpt.initiation,0,cost.tpt.initiation,0,0,0,0,0,0,0,0,ucost.prison.escort,ucost.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦           ¦   ¦       ¦       ¦       ¦   ¦--completed TPT                                                             ,soc.prop.completing.tpt,cost.tpt.complete,0,0,0,0,0,0,0,0,0,0,TPT.visits*(ucost.prison.escort),durTPT*(ucost.ltbi.drugs),TPT.visits*(ucost.tpt.opd.visit),durTPT*(ucost.dots),0,0,0,cost.tpt.complete,0,0,cost.tpt.complete,0,0,0,0,0,0,0,(TPT.visits*ucost.prison.escort + durTPT*ucost.dots),(durTPT*ucost.ltbi.drugs+ TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,1
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦           ¦   ¦       ¦       ¦       ¦   °--did not complete TPT                                                      ,1-soc.prop.completing.tpt,cost.tpt.incomplete,0,0,0,0,0,0,0,0,0,0,IncompDurTPT / durTPT * TPT.visits*ucost.prison.escort,IncompDurTPT*ucost.ltbi.drugs,IncompDurTPT / durTPT * TPT.visits*ucost.tpt.opd.visit,IncompDurTPT*ucost.dots,0,0,0,cost.tpt.incomplete,0,0,0,cost.tpt.incomplete,0,0,0,0,0,0,(IncompDurTPT/durTPT*TPT.visits*ucost.prison.escort + IncompDurTPT*ucost.dots),(IncompDurTPT*ucost.ltbi.drugs + IncompDurTPT/durTPT*TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦           ¦   ¦       ¦       ¦       °--does not get TPT                                                              ,1-soc.prop.starting.tpt,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦           ¦   ¦       ¦       °--Did not attend TPT referral                                                           ,1-soc.prop.attend.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦           ¦   ¦       °--In prison/IRC for <3 months                                                                   ,1-soc.prop.staying.3+months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦           ¦   ¦           ¦--Remaining in the UK (community or other prison/IRC)                                       ,soc.prop.staying.<3months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦           ¦   ¦           ¦   °--Refer for treatment and forward details to receiving prison/community TB nurse        ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦           ¦   ¦           ¦       ¦--Attended TPT referral                                                             ,soc.prop.attend.nhs.referral,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.attending.nhs.tb.service,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,ucost.prison.escort ,ucost.nhs.tb.service,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦           ¦   ¦           ¦       ¦   °--TPT outcomes                                                                  ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦           ¦   ¦           ¦       ¦       ¦--gets TPT                                                                  ,soc.prop.starting.tpt,cost.tpt.initiation,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.tpt.initiation,0,cost.tpt.initiation,0,0,0,0,0,0,0,0,ucost.prison.escort,ucost.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦           ¦   ¦           ¦       ¦       ¦   ¦--completed TPT                                                         ,soc.prop.completing.tpt,cost.tpt.complete,0,0,0,0,0,0,0,0,0,0,TPT.visits*(ucost.prison.escort),durTPT*(ucost.ltbi.drugs),TPT.visits*(ucost.tpt.opd.visit),durTPT*(ucost.dots),0,0,0,cost.tpt.complete,0,0,cost.tpt.complete,0,0,0,0,0,0,0,(TPT.visits*ucost.prison.escort + durTPT*ucost.dots),(durTPT*ucost.ltbi.drugs+ TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,1
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦           ¦   ¦           ¦       ¦       ¦   °--did not complete TPT                                                  ,1-soc.prop.completing.tpt,cost.tpt.incomplete,0,0,0,0,0,0,0,0,0,0,IncompDurTPT / durTPT * TPT.visits*ucost.prison.escort,IncompDurTPT*ucost.ltbi.drugs,IncompDurTPT / durTPT * TPT.visits*ucost.tpt.opd.visit,IncompDurTPT*ucost.dots,0,0,0,cost.tpt.incomplete,0,0,0,cost.tpt.incomplete,0,0,0,0,0,0,(IncompDurTPT/durTPT*TPT.visits*ucost.prison.escort + IncompDurTPT*ucost.dots),(IncompDurTPT*ucost.ltbi.drugs + IncompDurTPT/durTPT*TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦           ¦   ¦           ¦       ¦       °--does not get TPT                                                          ,1-soc.prop.starting.tpt,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦           ¦   ¦           ¦       °--Did not attend TPT referral                                                       ,1-soc.prop.attend.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦           ¦   ¦           °--Early removal scheme or deportation                                                       ,1-soc.prop.staying.<3months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦           ¦   °--Did not attend TB referral                                                                            ,1-soc.prop.attend.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   ¦           °--Not referred to NHS TB service                                                                            ,1-nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦           ¦   ¦       ¦           ¦   °--IGRA test -                                                                                                           ,1-soc.prop.igra.test.positive,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦           ¦   ¦       ¦           °--no IGRA test                                                                                                              ,1-soc.prop.igra.tested,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦           ¦   ¦       °--Did not attend TB referral                                                                                                            ,1-soc.prop.attend.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦           ¦   °--Normal chest x-ray                                                                                                                            ,1-soc.prop.abnormal.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦       °--LTBI pathway                                                                                                                              ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦           ¦--IGRA test                                                                                                                             ,soc.prop.igra.tested,cost.igra.test,0,0,0,0,0,0,0,0,0,cost.igra.test,0,0,0,0,0,0,0,cost.igra.test,0,0,0,0,0,0,0,0,0,0,0,ucost.igra.test,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦           ¦   ¦--IGRA test +                                                                                                                       ,soc.prop.igra.test.positive,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦           ¦   ¦   ¦--Previous chest x-ray                                                                                                          ,soc.prop.prev.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦           ¦   ¦   ¦   ¦--Abornomal chest x-ray                                                                                                     ,soc.prop.abnormal.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦           ¦   ¦   ¦   ¦   ¦--Referred to NHS TB service                                                                                            ,nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦           ¦   ¦   ¦   ¦   ¦   ¦--Attended TB referral                                                                                              ,soc.prop.attend.nhs.referral,cost.tb.evaluation,0,cost.tb.evaluation,0,0,0,cost.nhs.tb.service,0,ucost.prison.escort,cost.tb.investigations,0,0,0,0,0,0,0,cost.tb.evaluation,0,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort ,ucost.nhs.tb.service + ucost.tb.investigations,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦           ¦   ¦   ¦   ¦   ¦   ¦   ¦--TB                                                                                                            ,soc.prop.abn.xray.tb.dx,cost.contact.management,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,cost.contact.management,smear.positive * (cost.prison.isolation),0,0,0,smear.positive * (nContacts * ucost.contact.tracing),cost.contact.management,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0
     ¦   ¦   ¦           ¦           ¦   ¦   ¦   ¦   ¦   ¦   ¦   °--TB outcomes                                                                                               ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦           ¦   ¦   ¦   ¦   ¦   ¦   ¦       ¦--ATT                                                                                                   ,soc.prop.starting.att,cost.att.initiation,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,0,0,0,0,0,cost.att.initiation,0,cost.att.initiation,0,0,0,ucost.prison.escort,ucost.nhs.tb.service ,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0
     ¦   ¦   ¦           ¦           ¦   ¦   ¦   ¦   ¦   ¦   ¦       ¦   ¦--completed ATT                                                                                     ,soc.prop.completing.att,cost.att.complete,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort * (pDSTB * dstb.visits + (1 - pDSTB) * mdrtb.visits) ,pDSTB * DurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * DurMDRTB * ucost.mdratt.drugs,pDSTB * dstb.visits*ucost.dstb.opd.visit + (1 - pDSTB) * mdrtb.visits * ucost.mdrtb.opd.visit,ucost.dots * (pDSTB * DurDSTB + (1 - pDSTB) * DurMDRTB),(pDSTB * smear.positive * DurDSTBIsolation * ucost.dstb.ipd +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * ucost.mdrtb.ipd + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * ucost.mdrtb.ipd),ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation),0,0,0,0,0,0,cost.att.complete,0,0,cost.att.complete,0,0,(ucost.prison.escort * (pDSTB * dstb.visits + (1 - pDSTB) * mdrtb.visits)  + ucost.dots * (pDSTB * DurDSTB + (1 - pDSTB) * DurMDRTB) + ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation)),(pDSTB * DurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * DurMDRTB * ucost.mdratt.drugs + pDSTB * dstb.visits*(ucost.dstb.opd.visit) + (1 - pDSTB) * mdrtb.visits * (ucost.mdrtb.opd.visit) + (pDSTB * smear.positive * DurDSTBIsolation * (ucost.dstb.ipd) +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * (ucost.mdrtb.ipd) + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * (ucost.mdrtb.ipd))),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,1
     ¦   ¦   ¦           ¦           ¦   ¦   ¦   ¦   ¦   ¦   ¦       ¦   °--did not complete ATT                                                                              ,1-soc.prop.completing.att,cost.att.incomplete ,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort * (IncompDurDSTB/DurDSTB*pDSTB * dstb.visits + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits),pDSTB  * IncompDurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * IncompDurMDRTB  * ucost.mdratt.drugs,IncompDurDSTB / DurDSTB * pDSTB * dstb.visits*ucost.dstb.opd.visit + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits * ucost.mdrtb.opd.visit,ucost.dots * (pDSTB * IncompDurDSTB + (1 - pDSTB) * IncompDurMDRTB),(pDSTB * smear.positive * DurDSTBIsolation * ucost.dstb.ipd +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * ucost.mdrtb.ipd + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * ucost.mdrtb.ipd),ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation),0,0,0,0,0,0,cost.att.incomplete ,0,0,0,cost.att.incomplete ,0,(ucost.prison.escort * (IncompDurDSTB/DurDSTB*pDSTB * dstb.visits + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits) + ucost.dots * (pDSTB * IncompDurDSTB + (1 - pDSTB) * IncompDurMDRTB) + ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  + (1 - pDSTB) * smear.positive * DurMDRTB2Isolation+ (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation)),(pDSTB  * IncompDurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * IncompDurMDRTB * ucost.mdratt.drugs) + (IncompDurDSTB / DurDSTB * pDSTB * dstb.visits*ucost.dstb.opd.visit + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits * ucost.mdrtb.opd.visit) + ((pDSTB * smear.positive * DurDSTBIsolation * (ucost.dstb.ipd) +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * (ucost.mdrtb.ipd) +(1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * (ucost.mdrtb.ipd))),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦   ¦   ¦           ¦           ¦   ¦   ¦   ¦   ¦   ¦   ¦       °--no ATT                                                                                                ,1-soc.prop.starting.att,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦           ¦           ¦   ¦   ¦   ¦   ¦   ¦   °--Not TB                                                                                                        ,1-soc.prop.abn.xray.tb.dx,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦           ¦   ¦   ¦   ¦   ¦   ¦       ¦--In prison/IRC for >3 months                                                                               ,soc.prop.staying.3+months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦           ¦   ¦   ¦   ¦   ¦   ¦       ¦   °--Refer for treatment                                                                                   ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦           ¦   ¦   ¦   ¦   ¦   ¦       ¦       ¦--Attended TPT referral                                                                             ,soc.prop.attend.nhs.referral,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.attending.nhs.tb.service,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,ucost.prison.escort ,ucost.nhs.tb.service,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦           ¦   ¦   ¦   ¦   ¦   ¦       ¦       ¦   °--TPT outcomes                                                                                  ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦           ¦   ¦   ¦   ¦   ¦   ¦       ¦       ¦       ¦--gets TPT                                                                                  ,soc.prop.starting.tpt,cost.tpt.initiation,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.tpt.initiation,0,cost.tpt.initiation,0,0,0,0,0,0,0,0,ucost.prison.escort,ucost.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦           ¦   ¦   ¦   ¦   ¦   ¦       ¦       ¦       ¦   ¦--completed TPT                                                                         ,soc.prop.completing.tpt,cost.tpt.complete,0,0,0,0,0,0,0,0,0,0,TPT.visits*(ucost.prison.escort),durTPT*(ucost.ltbi.drugs),TPT.visits*(ucost.tpt.opd.visit),durTPT*(ucost.dots),0,0,0,cost.tpt.complete,0,0,cost.tpt.complete,0,0,0,0,0,0,0,(TPT.visits*ucost.prison.escort + durTPT*ucost.dots),(durTPT*ucost.ltbi.drugs+ TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,1
     ¦   ¦   ¦           ¦           ¦   ¦   ¦   ¦   ¦   ¦       ¦       ¦       ¦   °--did not complete TPT                                                                  ,1-soc.prop.completing.tpt,cost.tpt.incomplete,0,0,0,0,0,0,0,0,0,0,IncompDurTPT / durTPT * TPT.visits*ucost.prison.escort,IncompDurTPT*ucost.ltbi.drugs,IncompDurTPT / durTPT * TPT.visits*ucost.tpt.opd.visit,IncompDurTPT*ucost.dots,0,0,0,cost.tpt.incomplete,0,0,0,cost.tpt.incomplete,0,0,0,0,0,0,(IncompDurTPT/durTPT*TPT.visits*ucost.prison.escort + IncompDurTPT*ucost.dots),(IncompDurTPT*ucost.ltbi.drugs + IncompDurTPT/durTPT*TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1
     ¦   ¦   ¦           ¦           ¦   ¦   ¦   ¦   ¦   ¦       ¦       ¦       °--does not get TPT                                                                          ,1-soc.prop.starting.tpt,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦           ¦           ¦   ¦   ¦   ¦   ¦   ¦       ¦       °--Did not attend TB referral TPT referral                                                           ,1-soc.prop.attend.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦           ¦           ¦   ¦   ¦   ¦   ¦   ¦       °--In prison/IRC for <3 months                                                                               ,1-soc.prop.staying.3+months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦           ¦   ¦   ¦   ¦   ¦   ¦           ¦--Remaining in the UK (community or other prison/IRC)                                                   ,soc.prop.staying.<3months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦           ¦   ¦   ¦   ¦   ¦   ¦           ¦   °--Refer for treatment and forward details to receiving prison/community TB nurse                    ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦           ¦   ¦   ¦   ¦   ¦   ¦           ¦       ¦--Attended TPT referral                                                                         ,soc.prop.attend.nhs.referral,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.attending.nhs.tb.service,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,ucost.prison.escort ,ucost.nhs.tb.service,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦           ¦   ¦   ¦   ¦   ¦   ¦           ¦       ¦   °--TPT outcomes                                                                              ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦           ¦   ¦   ¦   ¦   ¦   ¦           ¦       ¦       ¦--gets TPT                                                                              ,soc.prop.starting.tpt,cost.tpt.initiation,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.tpt.initiation,0,cost.tpt.initiation,0,0,0,0,0,0,0,0,ucost.prison.escort,ucost.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦           ¦   ¦   ¦   ¦   ¦   ¦           ¦       ¦       ¦   ¦--completed TPT                                                                     ,soc.prop.completing.tpt,cost.tpt.complete,0,0,0,0,0,0,0,0,0,0,TPT.visits*(ucost.prison.escort),durTPT*(ucost.ltbi.drugs),TPT.visits*(ucost.tpt.opd.visit),durTPT*(ucost.dots),0,0,0,cost.tpt.complete,0,0,cost.tpt.complete,0,0,0,0,0,0,0,(TPT.visits*ucost.prison.escort + durTPT*ucost.dots),(durTPT*ucost.ltbi.drugs+ TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,1
     ¦   ¦   ¦           ¦           ¦   ¦   ¦   ¦   ¦   ¦           ¦       ¦       ¦   °--did not complete TPT                                                              ,1-soc.prop.completing.tpt,cost.tpt.incomplete,0,0,0,0,0,0,0,0,0,0,IncompDurTPT / durTPT * TPT.visits*ucost.prison.escort,IncompDurTPT*ucost.ltbi.drugs,IncompDurTPT / durTPT * TPT.visits*ucost.tpt.opd.visit,IncompDurTPT*ucost.dots,0,0,0,cost.tpt.incomplete,0,0,0,cost.tpt.incomplete,0,0,0,0,0,0,(IncompDurTPT/durTPT*TPT.visits*ucost.prison.escort + IncompDurTPT*ucost.dots),(IncompDurTPT*ucost.ltbi.drugs + IncompDurTPT/durTPT*TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1
     ¦   ¦   ¦           ¦           ¦   ¦   ¦   ¦   ¦   ¦           ¦       ¦       °--does not get TPT                                                                      ,1-soc.prop.starting.tpt,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦           ¦           ¦   ¦   ¦   ¦   ¦   ¦           ¦       °--Did not attend TPT referral                                                                   ,1-soc.prop.attend.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦           ¦           ¦   ¦   ¦   ¦   ¦   ¦           °--Early removal scheme or deportation                                                                   ,1-soc.prop.staying.<3months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦           ¦           ¦   ¦   ¦   ¦   ¦   °--Did not attend TB referral                                                                                        ,1-soc.prop.attend.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦           ¦           ¦   ¦   ¦   ¦   °--Not referred to NHS TB service                                                                                        ,1-nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦           ¦           ¦   ¦   ¦   °--Normal chest x-ray                                                                                                        ,1-soc.prop.abnormal.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦           ¦   ¦   ¦       ¦--In prison/IRC for >3 months                                                                                           ,soc.prop.staying.3+months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦           ¦   ¦   ¦       ¦   °--Refer for treatment                                                                                               ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦           ¦   ¦   ¦       ¦       ¦--Attended TPT referral                                                                                         ,soc.prop.attend.nhs.referral,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.attending.nhs.tb.service,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,ucost.prison.escort ,ucost.nhs.tb.service,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦           ¦   ¦   ¦       ¦       ¦   °--TPT outcomes                                                                                              ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦           ¦   ¦   ¦       ¦       ¦       ¦--gets TPT                                                                                              ,soc.prop.starting.tpt,cost.tpt.initiation,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.tpt.initiation,0,cost.tpt.initiation,0,0,0,0,0,0,0,0,ucost.prison.escort,ucost.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦           ¦   ¦   ¦       ¦       ¦       ¦   ¦--completed TPT                                                                                     ,soc.prop.completing.tpt,cost.tpt.complete,0,0,0,0,0,0,0,0,0,0,TPT.visits*(ucost.prison.escort),durTPT*(ucost.ltbi.drugs),TPT.visits*(ucost.tpt.opd.visit),durTPT*(ucost.dots),0,0,0,cost.tpt.complete,0,0,cost.tpt.complete,0,0,0,0,0,0,0,(TPT.visits*ucost.prison.escort + durTPT*ucost.dots),(durTPT*ucost.ltbi.drugs+ TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,1
     ¦   ¦   ¦           ¦           ¦   ¦   ¦       ¦       ¦       ¦   °--did not complete TPT                                                                              ,1-soc.prop.completing.tpt,cost.tpt.incomplete,0,0,0,0,0,0,0,0,0,0,IncompDurTPT / durTPT * TPT.visits*ucost.prison.escort,IncompDurTPT*ucost.ltbi.drugs,IncompDurTPT / durTPT * TPT.visits*ucost.tpt.opd.visit,IncompDurTPT*ucost.dots,0,0,0,cost.tpt.incomplete,0,0,0,cost.tpt.incomplete,0,0,0,0,0,0,(IncompDurTPT/durTPT*TPT.visits*ucost.prison.escort + IncompDurTPT*ucost.dots),(IncompDurTPT*ucost.ltbi.drugs + IncompDurTPT/durTPT*TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1
     ¦   ¦   ¦           ¦           ¦   ¦   ¦       ¦       ¦       °--does not get TPT                                                                                      ,1-soc.prop.starting.tpt,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦           ¦           ¦   ¦   ¦       ¦       °--Did not attend TPT referral                                                                                   ,1-soc.prop.attend.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦           ¦           ¦   ¦   ¦       °--In prison/IRC for <3 months                                                                                           ,1-soc.prop.staying.3+months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦           ¦   ¦   ¦           ¦--Remaining in the UK (community or other prison/IRC)                                                               ,soc.prop.staying.<3months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦           ¦   ¦   ¦           ¦   °--Refer for treatment and forward details to receiving prison/community TB nurse                                ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦           ¦   ¦   ¦           ¦       ¦--Attended TPT referral                                                                                     ,soc.prop.attend.nhs.referral,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.attending.nhs.tb.service,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,ucost.prison.escort ,ucost.nhs.tb.service,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦           ¦   ¦   ¦           ¦       ¦   °--TPT outcomes                                                                                          ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦           ¦   ¦   ¦           ¦       ¦       ¦--gets TPT                                                                                          ,soc.prop.starting.tpt,cost.tpt.initiation,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.tpt.initiation,0,cost.tpt.initiation,0,0,0,0,0,0,0,0,ucost.prison.escort,ucost.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦           ¦   ¦   ¦           ¦       ¦       ¦   ¦--completed TPT                                                                                 ,soc.prop.completing.tpt,cost.tpt.complete,0,0,0,0,0,0,0,0,0,0,TPT.visits*(ucost.prison.escort),durTPT*(ucost.ltbi.drugs),TPT.visits*(ucost.tpt.opd.visit),durTPT*(ucost.dots),0,0,0,cost.tpt.complete,0,0,cost.tpt.complete,0,0,0,0,0,0,0,(TPT.visits*ucost.prison.escort + durTPT*ucost.dots),(durTPT*ucost.ltbi.drugs+ TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,1
     ¦   ¦   ¦           ¦           ¦   ¦   ¦           ¦       ¦       ¦   °--did not complete TPT                                                                          ,1-soc.prop.completing.tpt,cost.tpt.incomplete,0,0,0,0,0,0,0,0,0,0,IncompDurTPT / durTPT * TPT.visits*ucost.prison.escort,IncompDurTPT*ucost.ltbi.drugs,IncompDurTPT / durTPT * TPT.visits*ucost.tpt.opd.visit,IncompDurTPT*ucost.dots,0,0,0,cost.tpt.incomplete,0,0,0,cost.tpt.incomplete,0,0,0,0,0,0,(IncompDurTPT/durTPT*TPT.visits*ucost.prison.escort + IncompDurTPT*ucost.dots),(IncompDurTPT*ucost.ltbi.drugs + IncompDurTPT/durTPT*TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1
     ¦   ¦   ¦           ¦           ¦   ¦   ¦           ¦       ¦       °--does not get TPT                                                                                  ,1-soc.prop.starting.tpt,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦           ¦           ¦   ¦   ¦           ¦       °--Did not attend TPT referral                                                                               ,1-soc.prop.attend.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦           ¦           ¦   ¦   ¦           °--Early removal scheme or deportation                                                                               ,1-soc.prop.staying.<3months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦           ¦           ¦   ¦   °--No previous chest x-ray                                                                                                       ,1-soc.prop.prev.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦           ¦   ¦       ¦--Chest x-ray                                                                                                               ,soc.prop.xray,cost.chest.xray,0,cost.chest.xray,0,ucost.chest.xray,0,0,ucost.prison.escort,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,ucost.chest.xray,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦           ¦   ¦       ¦   ¦--Abornomal chest x-ray                                                                                                 ,soc.prop.abnormal.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦           ¦   ¦       ¦   ¦   ¦--Referred to NHS TB service                                                                                        ,nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦           ¦   ¦       ¦   ¦   ¦   ¦--Attended TB referral                                                                                          ,soc.prop.attend.nhs.referral,cost.tb.evaluation,0,cost.tb.evaluation,0,0,0,cost.nhs.tb.service,0,ucost.prison.escort,cost.tb.investigations,0,0,0,0,0,0,0,cost.tb.evaluation,0,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort ,ucost.nhs.tb.service + ucost.tb.investigations,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦           ¦   ¦       ¦   ¦   ¦   ¦   ¦--TB                                                                                                        ,soc.prop.abn.xray.tb.dx,cost.contact.management,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,cost.contact.management,smear.positive * (cost.prison.isolation),0,0,0,smear.positive * (nContacts * ucost.contact.tracing),cost.contact.management,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0
     ¦   ¦   ¦           ¦           ¦   ¦       ¦   ¦   ¦   ¦   ¦   °--TB outcomes                                                                                           ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦           ¦   ¦       ¦   ¦   ¦   ¦   ¦       ¦--ATT                                                                                               ,soc.prop.starting.att,cost.att.initiation,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,0,0,0,0,0,cost.att.initiation,0,cost.att.initiation,0,0,0,ucost.prison.escort,ucost.nhs.tb.service ,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0
     ¦   ¦   ¦           ¦           ¦   ¦       ¦   ¦   ¦   ¦   ¦       ¦   ¦--completed ATT                                                                                 ,soc.prop.completing.att,cost.att.complete,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort * (pDSTB * dstb.visits + (1 - pDSTB) * mdrtb.visits) ,pDSTB * DurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * DurMDRTB * ucost.mdratt.drugs,pDSTB * dstb.visits*ucost.dstb.opd.visit + (1 - pDSTB) * mdrtb.visits * ucost.mdrtb.opd.visit,ucost.dots * (pDSTB * DurDSTB + (1 - pDSTB) * DurMDRTB),(pDSTB * smear.positive * DurDSTBIsolation * ucost.dstb.ipd +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * ucost.mdrtb.ipd + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * ucost.mdrtb.ipd),ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation),0,0,0,0,0,0,cost.att.complete,0,0,cost.att.complete,0,0,(ucost.prison.escort * (pDSTB * dstb.visits + (1 - pDSTB) * mdrtb.visits)  + ucost.dots * (pDSTB * DurDSTB + (1 - pDSTB) * DurMDRTB) + ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation)),(pDSTB * DurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * DurMDRTB * ucost.mdratt.drugs + pDSTB * dstb.visits*(ucost.dstb.opd.visit) + (1 - pDSTB) * mdrtb.visits * (ucost.mdrtb.opd.visit) + (pDSTB * smear.positive * DurDSTBIsolation * (ucost.dstb.ipd) +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * (ucost.mdrtb.ipd) + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * (ucost.mdrtb.ipd))),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,1
     ¦   ¦   ¦           ¦           ¦   ¦       ¦   ¦   ¦   ¦   ¦       ¦   °--did not complete ATT                                                                          ,1-soc.prop.completing.att,cost.att.incomplete ,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort * (IncompDurDSTB/DurDSTB*pDSTB * dstb.visits + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits),pDSTB  * IncompDurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * IncompDurMDRTB  * ucost.mdratt.drugs,IncompDurDSTB / DurDSTB * pDSTB * dstb.visits*ucost.dstb.opd.visit + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits * ucost.mdrtb.opd.visit,ucost.dots * (pDSTB * IncompDurDSTB + (1 - pDSTB) * IncompDurMDRTB),(pDSTB * smear.positive * DurDSTBIsolation * ucost.dstb.ipd +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * ucost.mdrtb.ipd + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * ucost.mdrtb.ipd),ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation),0,0,0,0,0,0,cost.att.incomplete ,0,0,0,cost.att.incomplete ,0,(ucost.prison.escort * (IncompDurDSTB/DurDSTB*pDSTB * dstb.visits + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits) + ucost.dots * (pDSTB * IncompDurDSTB + (1 - pDSTB) * IncompDurMDRTB) + ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  + (1 - pDSTB) * smear.positive * DurMDRTB2Isolation+ (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation)),(pDSTB  * IncompDurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * IncompDurMDRTB * ucost.mdratt.drugs) + (IncompDurDSTB / DurDSTB * pDSTB * dstb.visits*ucost.dstb.opd.visit + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits * ucost.mdrtb.opd.visit) + ((pDSTB * smear.positive * DurDSTBIsolation * (ucost.dstb.ipd) +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * (ucost.mdrtb.ipd) +(1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * (ucost.mdrtb.ipd))),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦   ¦   ¦           ¦           ¦   ¦       ¦   ¦   ¦   ¦   ¦       °--no ATT                                                                                            ,1-soc.prop.starting.att,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦           ¦           ¦   ¦       ¦   ¦   ¦   ¦   °--Not TB                                                                                                    ,1-soc.prop.abn.xray.tb.dx,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦           ¦   ¦       ¦   ¦   ¦   ¦       ¦--In prison/IRC for >3 months                                                                           ,soc.prop.staying.3+months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦           ¦   ¦       ¦   ¦   ¦   ¦       ¦   °--Refer for treatment                                                                               ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦           ¦   ¦       ¦   ¦   ¦   ¦       ¦       ¦--Attended TPT referral                                                                         ,soc.prop.attend.nhs.referral,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.attending.nhs.tb.service,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,ucost.prison.escort ,ucost.nhs.tb.service,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦           ¦   ¦       ¦   ¦   ¦   ¦       ¦       ¦   °--TPT outcomes                                                                              ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦           ¦   ¦       ¦   ¦   ¦   ¦       ¦       ¦       ¦--gets TPT                                                                              ,soc.prop.starting.tpt,cost.tpt.initiation,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.tpt.initiation,0,cost.tpt.initiation,0,0,0,0,0,0,0,0,ucost.prison.escort,ucost.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦           ¦   ¦       ¦   ¦   ¦   ¦       ¦       ¦       ¦   ¦--completed TPT                                                                     ,soc.prop.completing.tpt,cost.tpt.complete,0,0,0,0,0,0,0,0,0,0,TPT.visits*(ucost.prison.escort),durTPT*(ucost.ltbi.drugs),TPT.visits*(ucost.tpt.opd.visit),durTPT*(ucost.dots),0,0,0,cost.tpt.complete,0,0,cost.tpt.complete,0,0,0,0,0,0,0,(TPT.visits*ucost.prison.escort + durTPT*ucost.dots),(durTPT*ucost.ltbi.drugs+ TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,1
     ¦   ¦   ¦           ¦           ¦   ¦       ¦   ¦   ¦   ¦       ¦       ¦       ¦   °--did not complete TPT                                                              ,1-soc.prop.completing.tpt,cost.tpt.incomplete,0,0,0,0,0,0,0,0,0,0,IncompDurTPT / durTPT * TPT.visits*ucost.prison.escort,IncompDurTPT*ucost.ltbi.drugs,IncompDurTPT / durTPT * TPT.visits*ucost.tpt.opd.visit,IncompDurTPT*ucost.dots,0,0,0,cost.tpt.incomplete,0,0,0,cost.tpt.incomplete,0,0,0,0,0,0,(IncompDurTPT/durTPT*TPT.visits*ucost.prison.escort + IncompDurTPT*ucost.dots),(IncompDurTPT*ucost.ltbi.drugs + IncompDurTPT/durTPT*TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1
     ¦   ¦   ¦           ¦           ¦   ¦       ¦   ¦   ¦   ¦       ¦       ¦       °--does not get TPT                                                                      ,1-soc.prop.starting.tpt,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦           ¦           ¦   ¦       ¦   ¦   ¦   ¦       ¦       °--Did not attend TPT referral                                                                   ,1-soc.prop.attend.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦           ¦           ¦   ¦       ¦   ¦   ¦   ¦       °--In prison/IRC for <3 months                                                                           ,1-soc.prop.staying.3+months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦           ¦   ¦       ¦   ¦   ¦   ¦           ¦--Remaining in the UK (community or other prison/IRC)                                               ,soc.prop.staying.<3months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦           ¦   ¦       ¦   ¦   ¦   ¦           ¦   °--Refer for treatment and forward details to receiving prison/community TB nurse                ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦           ¦   ¦       ¦   ¦   ¦   ¦           ¦       ¦--Attended TPT referral                                                                     ,soc.prop.attend.nhs.referral,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.attending.nhs.tb.service,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,ucost.prison.escort ,ucost.nhs.tb.service,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦           ¦   ¦       ¦   ¦   ¦   ¦           ¦       ¦   °--TPT outcomes                                                                          ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦           ¦   ¦       ¦   ¦   ¦   ¦           ¦       ¦       ¦--gets TPT                                                                          ,soc.prop.starting.tpt,cost.tpt.initiation,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.tpt.initiation,0,cost.tpt.initiation,0,0,0,0,0,0,0,0,ucost.prison.escort,ucost.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦           ¦   ¦       ¦   ¦   ¦   ¦           ¦       ¦       ¦   ¦--completed TPT                                                                 ,soc.prop.completing.tpt,cost.tpt.complete,0,0,0,0,0,0,0,0,0,0,TPT.visits*(ucost.prison.escort),durTPT*(ucost.ltbi.drugs),TPT.visits*(ucost.tpt.opd.visit),durTPT*(ucost.dots),0,0,0,cost.tpt.complete,0,0,cost.tpt.complete,0,0,0,0,0,0,0,(TPT.visits*ucost.prison.escort + durTPT*ucost.dots),(durTPT*ucost.ltbi.drugs+ TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,1
     ¦   ¦   ¦           ¦           ¦   ¦       ¦   ¦   ¦   ¦           ¦       ¦       ¦   °--did not complete TPT                                                          ,1-soc.prop.completing.tpt,cost.tpt.incomplete,0,0,0,0,0,0,0,0,0,0,IncompDurTPT / durTPT * TPT.visits*ucost.prison.escort,IncompDurTPT*ucost.ltbi.drugs,IncompDurTPT / durTPT * TPT.visits*ucost.tpt.opd.visit,IncompDurTPT*ucost.dots,0,0,0,cost.tpt.incomplete,0,0,0,cost.tpt.incomplete,0,0,0,0,0,0,(IncompDurTPT/durTPT*TPT.visits*ucost.prison.escort + IncompDurTPT*ucost.dots),(IncompDurTPT*ucost.ltbi.drugs + IncompDurTPT/durTPT*TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1
     ¦   ¦   ¦           ¦           ¦   ¦       ¦   ¦   ¦   ¦           ¦       ¦       °--does not get TPT                                                                  ,1-soc.prop.starting.tpt,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦           ¦           ¦   ¦       ¦   ¦   ¦   ¦           ¦       °--Did not attend TPT referral                                                               ,1-soc.prop.attend.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦           ¦           ¦   ¦       ¦   ¦   ¦   ¦           °--Early removal scheme or deportation                                                               ,1-soc.prop.staying.<3months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦           ¦           ¦   ¦       ¦   ¦   ¦   °--Did not attend TB referral                                                                                    ,1-soc.prop.attend.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦           ¦           ¦   ¦       ¦   ¦   °--Not referred to NHS TB service                                                                                    ,1-nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦           ¦           ¦   ¦       ¦   °--Normal chest x-ray                                                                                                    ,1-soc.prop.abnormal.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦           ¦   ¦       ¦       ¦--In prison/IRC for >3 months                                                                                       ,soc.prop.staying.3+months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦           ¦   ¦       ¦       ¦   °--Refer for treatment                                                                                           ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦           ¦   ¦       ¦       ¦       ¦--Attended TPT referral                                                                                     ,soc.prop.attend.nhs.referral,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.attending.nhs.tb.service,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,ucost.prison.escort ,ucost.nhs.tb.service,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦           ¦   ¦       ¦       ¦       ¦   °--TPT outcomes                                                                                          ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦           ¦   ¦       ¦       ¦       ¦       ¦--gets TPT                                                                                          ,soc.prop.starting.tpt,cost.tpt.initiation,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.tpt.initiation,0,cost.tpt.initiation,0,0,0,0,0,0,0,0,ucost.prison.escort,ucost.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦           ¦   ¦       ¦       ¦       ¦       ¦   ¦--completed TPT                                                                                 ,soc.prop.completing.tpt,cost.tpt.complete,0,0,0,0,0,0,0,0,0,0,TPT.visits*(ucost.prison.escort),durTPT*(ucost.ltbi.drugs),TPT.visits*(ucost.tpt.opd.visit),durTPT*(ucost.dots),0,0,0,cost.tpt.complete,0,0,cost.tpt.complete,0,0,0,0,0,0,0,(TPT.visits*ucost.prison.escort + durTPT*ucost.dots),(durTPT*ucost.ltbi.drugs+ TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,1
     ¦   ¦   ¦           ¦           ¦   ¦       ¦       ¦       ¦       ¦   °--did not complete TPT                                                                          ,1-soc.prop.completing.tpt,cost.tpt.incomplete,0,0,0,0,0,0,0,0,0,0,IncompDurTPT / durTPT * TPT.visits*ucost.prison.escort,IncompDurTPT*ucost.ltbi.drugs,IncompDurTPT / durTPT * TPT.visits*ucost.tpt.opd.visit,IncompDurTPT*ucost.dots,0,0,0,cost.tpt.incomplete,0,0,0,cost.tpt.incomplete,0,0,0,0,0,0,(IncompDurTPT/durTPT*TPT.visits*ucost.prison.escort + IncompDurTPT*ucost.dots),(IncompDurTPT*ucost.ltbi.drugs + IncompDurTPT/durTPT*TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1
     ¦   ¦   ¦           ¦           ¦   ¦       ¦       ¦       ¦       °--does not get TPT                                                                                  ,1-soc.prop.starting.tpt,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦           ¦           ¦   ¦       ¦       ¦       °--Did not attend TPT referral                                                                               ,1-soc.prop.attend.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦           ¦           ¦   ¦       ¦       °--In prison/IRC for <3 months                                                                                       ,1-soc.prop.staying.3+months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦           ¦   ¦       ¦           ¦--Remaining in the UK (community or other prison/IRC)                                                           ,soc.prop.staying.<3months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦           ¦   ¦       ¦           ¦   °--Refer for treatment and forward details to receiving prison/community TB nurse                            ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦           ¦   ¦       ¦           ¦       ¦--Attended TPT referral                                                                                 ,soc.prop.attend.nhs.referral,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.attending.nhs.tb.service,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,ucost.prison.escort ,ucost.nhs.tb.service,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦           ¦   ¦       ¦           ¦       ¦   °--TPT outcomes                                                                                      ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦           ¦   ¦       ¦           ¦       ¦       ¦--gets TPT                                                                                      ,soc.prop.starting.tpt,cost.tpt.initiation,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.tpt.initiation,0,cost.tpt.initiation,0,0,0,0,0,0,0,0,ucost.prison.escort,ucost.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦           ¦   ¦       ¦           ¦       ¦       ¦   ¦--completed TPT                                                                             ,soc.prop.completing.tpt,cost.tpt.complete,0,0,0,0,0,0,0,0,0,0,TPT.visits*(ucost.prison.escort),durTPT*(ucost.ltbi.drugs),TPT.visits*(ucost.tpt.opd.visit),durTPT*(ucost.dots),0,0,0,cost.tpt.complete,0,0,cost.tpt.complete,0,0,0,0,0,0,0,(TPT.visits*ucost.prison.escort + durTPT*ucost.dots),(durTPT*ucost.ltbi.drugs+ TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,1
     ¦   ¦   ¦           ¦           ¦   ¦       ¦           ¦       ¦       ¦   °--did not complete TPT                                                                      ,1-soc.prop.completing.tpt,cost.tpt.incomplete,0,0,0,0,0,0,0,0,0,0,IncompDurTPT / durTPT * TPT.visits*ucost.prison.escort,IncompDurTPT*ucost.ltbi.drugs,IncompDurTPT / durTPT * TPT.visits*ucost.tpt.opd.visit,IncompDurTPT*ucost.dots,0,0,0,cost.tpt.incomplete,0,0,0,cost.tpt.incomplete,0,0,0,0,0,0,(IncompDurTPT/durTPT*TPT.visits*ucost.prison.escort + IncompDurTPT*ucost.dots),(IncompDurTPT*ucost.ltbi.drugs + IncompDurTPT/durTPT*TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1
     ¦   ¦   ¦           ¦           ¦   ¦       ¦           ¦       ¦       °--does not get TPT                                                                              ,1-soc.prop.starting.tpt,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦           ¦           ¦   ¦       ¦           ¦       °--Did not attend TPT referral                                                                           ,1-soc.prop.attend.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦           ¦           ¦   ¦       ¦           °--Early removal scheme or deportation                                                                           ,1-soc.prop.staying.<3months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦           ¦           ¦   ¦       °--No chest x-ray                                                                                                            ,1-soc.prop.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦           ¦   ¦           ¦--Referred to NHS TB service                                                                                            ,nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦           ¦   ¦           ¦   ¦--Attended TB referral                                                                                              ,soc.prop.attend.nhs.referral,cost.tb.evaluation,0,cost.tb.evaluation,0,0,0,cost.nhs.tb.service,0,ucost.prison.escort,cost.tb.investigations,0,0,0,0,0,0,0,cost.tb.evaluation,0,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort ,ucost.nhs.tb.service + ucost.tb.investigations,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦           ¦   ¦           ¦   ¦   ¦--TB                                                                                                            ,soc.prop.no.xray.tb.dx,cost.contact.management,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,cost.contact.management,smear.positive * (cost.prison.isolation),0,0,0,smear.positive * (nContacts * ucost.contact.tracing),cost.contact.management,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0
     ¦   ¦   ¦           ¦           ¦   ¦           ¦   ¦   ¦   °--TB outcomes                                                                                               ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦           ¦   ¦           ¦   ¦   ¦       ¦--ATT                                                                                                   ,soc.prop.starting.att,cost.att.initiation,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,0,0,0,0,0,cost.att.initiation,0,cost.att.initiation,0,0,0,ucost.prison.escort,ucost.nhs.tb.service ,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0
     ¦   ¦   ¦           ¦           ¦   ¦           ¦   ¦   ¦       ¦   ¦--completed ATT                                                                                     ,soc.prop.completing.att,cost.att.complete,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort * (pDSTB * dstb.visits + (1 - pDSTB) * mdrtb.visits) ,pDSTB * DurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * DurMDRTB * ucost.mdratt.drugs,pDSTB * dstb.visits*ucost.dstb.opd.visit + (1 - pDSTB) * mdrtb.visits * ucost.mdrtb.opd.visit,ucost.dots * (pDSTB * DurDSTB + (1 - pDSTB) * DurMDRTB),(pDSTB * smear.positive * DurDSTBIsolation * ucost.dstb.ipd +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * ucost.mdrtb.ipd + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * ucost.mdrtb.ipd),ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation),0,0,0,0,0,0,cost.att.complete,0,0,cost.att.complete,0,0,(ucost.prison.escort * (pDSTB * dstb.visits + (1 - pDSTB) * mdrtb.visits)  + ucost.dots * (pDSTB * DurDSTB + (1 - pDSTB) * DurMDRTB) + ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation)),(pDSTB * DurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * DurMDRTB * ucost.mdratt.drugs + pDSTB * dstb.visits*(ucost.dstb.opd.visit) + (1 - pDSTB) * mdrtb.visits * (ucost.mdrtb.opd.visit) + (pDSTB * smear.positive * DurDSTBIsolation * (ucost.dstb.ipd) +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * (ucost.mdrtb.ipd) + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * (ucost.mdrtb.ipd))),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,1
     ¦   ¦   ¦           ¦           ¦   ¦           ¦   ¦   ¦       ¦   °--did not complete ATT                                                                              ,1-soc.prop.completing.att,cost.att.incomplete ,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort * (IncompDurDSTB/DurDSTB*pDSTB * dstb.visits + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits),pDSTB  * IncompDurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * IncompDurMDRTB  * ucost.mdratt.drugs,IncompDurDSTB / DurDSTB * pDSTB * dstb.visits*ucost.dstb.opd.visit + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits * ucost.mdrtb.opd.visit,ucost.dots * (pDSTB * IncompDurDSTB + (1 - pDSTB) * IncompDurMDRTB),(pDSTB * smear.positive * DurDSTBIsolation * ucost.dstb.ipd +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * ucost.mdrtb.ipd + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * ucost.mdrtb.ipd),ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation),0,0,0,0,0,0,cost.att.incomplete ,0,0,0,cost.att.incomplete ,0,(ucost.prison.escort * (IncompDurDSTB/DurDSTB*pDSTB * dstb.visits + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits) + ucost.dots * (pDSTB * IncompDurDSTB + (1 - pDSTB) * IncompDurMDRTB) + ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  + (1 - pDSTB) * smear.positive * DurMDRTB2Isolation+ (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation)),(pDSTB  * IncompDurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * IncompDurMDRTB * ucost.mdratt.drugs) + (IncompDurDSTB / DurDSTB * pDSTB * dstb.visits*ucost.dstb.opd.visit + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits * ucost.mdrtb.opd.visit) + ((pDSTB * smear.positive * DurDSTBIsolation * (ucost.dstb.ipd) +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * (ucost.mdrtb.ipd) +(1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * (ucost.mdrtb.ipd))),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦   ¦   ¦           ¦           ¦   ¦           ¦   ¦   ¦       °--no ATT                                                                                                ,1-soc.prop.starting.att,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦           ¦           ¦   ¦           ¦   ¦   °--Not TB                                                                                                        ,1-soc.prop.no.xray.tb.dx,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦           ¦   ¦           ¦   ¦       ¦--In prison/IRC for >3 months                                                                               ,soc.prop.staying.3+months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦           ¦   ¦           ¦   ¦       ¦   °--Refer for treatment                                                                                   ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦           ¦   ¦           ¦   ¦       ¦       ¦--Attended TPT referral                                                                             ,soc.prop.attend.nhs.referral,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.attending.nhs.tb.service,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,ucost.prison.escort ,ucost.nhs.tb.service,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦           ¦   ¦           ¦   ¦       ¦       ¦   °--TPT outcomes                                                                                  ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦           ¦   ¦           ¦   ¦       ¦       ¦       ¦--gets TPT                                                                                  ,soc.prop.starting.tpt,cost.tpt.initiation,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.tpt.initiation,0,cost.tpt.initiation,0,0,0,0,0,0,0,0,ucost.prison.escort,ucost.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦           ¦   ¦           ¦   ¦       ¦       ¦       ¦   ¦--completed TPT                                                                         ,soc.prop.completing.tpt,cost.tpt.complete,0,0,0,0,0,0,0,0,0,0,TPT.visits*(ucost.prison.escort),durTPT*(ucost.ltbi.drugs),TPT.visits*(ucost.tpt.opd.visit),durTPT*(ucost.dots),0,0,0,cost.tpt.complete,0,0,cost.tpt.complete,0,0,0,0,0,0,0,(TPT.visits*ucost.prison.escort + durTPT*ucost.dots),(durTPT*ucost.ltbi.drugs+ TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,1
     ¦   ¦   ¦           ¦           ¦   ¦           ¦   ¦       ¦       ¦       ¦   °--did not complete TPT                                                                  ,1-soc.prop.completing.tpt,cost.tpt.incomplete,0,0,0,0,0,0,0,0,0,0,IncompDurTPT / durTPT * TPT.visits*ucost.prison.escort,IncompDurTPT*ucost.ltbi.drugs,IncompDurTPT / durTPT * TPT.visits*ucost.tpt.opd.visit,IncompDurTPT*ucost.dots,0,0,0,cost.tpt.incomplete,0,0,0,cost.tpt.incomplete,0,0,0,0,0,0,(IncompDurTPT/durTPT*TPT.visits*ucost.prison.escort + IncompDurTPT*ucost.dots),(IncompDurTPT*ucost.ltbi.drugs + IncompDurTPT/durTPT*TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1
     ¦   ¦   ¦           ¦           ¦   ¦           ¦   ¦       ¦       ¦       °--does not get TPT                                                                          ,1-soc.prop.starting.tpt,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦           ¦           ¦   ¦           ¦   ¦       ¦       °--Did not attend TPT referral                                                                       ,1-soc.prop.attend.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦           ¦           ¦   ¦           ¦   ¦       °--In prison/IRC for <3 months                                                                               ,1-soc.prop.staying.3+months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦           ¦   ¦           ¦   ¦           ¦--Remaining in the UK (community or other prison/IRC)                                                   ,soc.prop.staying.<3months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦           ¦   ¦           ¦   ¦           ¦   °--Refer for treatment and forward details to receiving prison/community TB nurse                    ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦           ¦   ¦           ¦   ¦           ¦       ¦--Attended TPT referral                                                                         ,soc.prop.attend.nhs.referral,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.attending.nhs.tb.service,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,ucost.prison.escort ,ucost.nhs.tb.service,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦           ¦   ¦           ¦   ¦           ¦       ¦   °--TPT outcomes                                                                              ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦           ¦   ¦           ¦   ¦           ¦       ¦       ¦--gets TPT                                                                              ,soc.prop.starting.tpt,cost.tpt.initiation,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.tpt.initiation,0,cost.tpt.initiation,0,0,0,0,0,0,0,0,ucost.prison.escort,ucost.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0
     ¦   ¦   ¦           ¦           ¦   ¦           ¦   ¦           ¦       ¦       ¦   ¦--completed TPT                                                                     ,soc.prop.completing.tpt,cost.tpt.complete,0,0,0,0,0,0,0,0,0,0,TPT.visits*(ucost.prison.escort),durTPT*(ucost.ltbi.drugs),TPT.visits*(ucost.tpt.opd.visit),durTPT*(ucost.dots),0,0,0,cost.tpt.complete,0,0,cost.tpt.complete,0,0,0,0,0,0,0,(TPT.visits*ucost.prison.escort + durTPT*ucost.dots),(durTPT*ucost.ltbi.drugs+ TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,1
     ¦   ¦   ¦           ¦           ¦   ¦           ¦   ¦           ¦       ¦       ¦   °--did not complete TPT                                                              ,1-soc.prop.completing.tpt,cost.tpt.incomplete,0,0,0,0,0,0,0,0,0,0,IncompDurTPT / durTPT * TPT.visits*ucost.prison.escort,IncompDurTPT*ucost.ltbi.drugs,IncompDurTPT / durTPT * TPT.visits*ucost.tpt.opd.visit,IncompDurTPT*ucost.dots,0,0,0,cost.tpt.incomplete,0,0,0,cost.tpt.incomplete,0,0,0,0,0,0,(IncompDurTPT/durTPT*TPT.visits*ucost.prison.escort + IncompDurTPT*ucost.dots),(IncompDurTPT*ucost.ltbi.drugs + IncompDurTPT/durTPT*TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1
     ¦   ¦   ¦           ¦           ¦   ¦           ¦   ¦           ¦       ¦       °--does not get TPT                                                                      ,1-soc.prop.starting.tpt,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦           ¦           ¦   ¦           ¦   ¦           ¦       °--Did not attend TPT referral                                                                   ,1-soc.prop.attend.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦           ¦           ¦   ¦           ¦   ¦           °--Early removal scheme or deportation                                                                   ,1-soc.prop.staying.<3months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦           ¦           ¦   ¦           ¦   °--Did not attend TB referral                                                                                        ,1-soc.prop.attend.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦           ¦           ¦   ¦           °--Not referred to NHS TB service                                                                                        ,1-nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦           ¦           ¦   °--IGRA test -                                                                                                                       ,1-soc.prop.igra.test.positive,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦           ¦           °--no IGRA test                                                                                                                          ,1-soc.prop.igra.tested,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦           °--No chest x-ray < 6 months                                                                                                                         ,1-soc.prop.prev.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦--Chest x-ray                                                                                                                                   ,soc.prop.xray,cost.chest.xray,0,cost.chest.xray,0,ucost.chest.xray,0,0,ucost.prison.escort,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,ucost.chest.xray,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦   ¦--Abornomal chest x-ray                                                                                                                     ,soc.prop.abnormal.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦   ¦   °--Urgent referral to local NHS TB service                                                                                               ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦   ¦       ¦--Attended TB referral                                                                                                              ,soc.prop.attend.nhs.referral,cost.tb.evaluation,0,cost.tb.evaluation,0,0,0,cost.nhs.tb.service,0,ucost.prison.escort,cost.tb.investigations,0,0,0,0,0,0,0,cost.tb.evaluation,0,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort ,ucost.nhs.tb.service + ucost.tb.investigations,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦   ¦       ¦   ¦--TB                                                                                                                            ,soc.prop.abn.xray.tb.dx,cost.contact.management,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,cost.contact.management,smear.positive * (cost.prison.isolation),0,0,0,smear.positive * (nContacts * ucost.contact.tracing),cost.contact.management,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0
     ¦   ¦   ¦               ¦   ¦       ¦   ¦   °--TB outcomes                                                                                                               ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦   ¦       ¦   ¦       ¦--ATT                                                                                                                   ,soc.prop.starting.att,cost.att.initiation,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,0,0,0,0,0,cost.att.initiation,0,cost.att.initiation,0,0,0,ucost.prison.escort,ucost.nhs.tb.service ,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0
     ¦   ¦   ¦               ¦   ¦       ¦   ¦       ¦   ¦--completed ATT                                                                                                     ,soc.prop.completing.att,cost.att.complete,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort * (pDSTB * dstb.visits + (1 - pDSTB) * mdrtb.visits) ,pDSTB * DurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * DurMDRTB * ucost.mdratt.drugs,pDSTB * dstb.visits*ucost.dstb.opd.visit + (1 - pDSTB) * mdrtb.visits * ucost.mdrtb.opd.visit,ucost.dots * (pDSTB * DurDSTB + (1 - pDSTB) * DurMDRTB),(pDSTB * smear.positive * DurDSTBIsolation * ucost.dstb.ipd +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * ucost.mdrtb.ipd + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * ucost.mdrtb.ipd),ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation),0,0,0,0,0,0,cost.att.complete,0,0,cost.att.complete,0,0,(ucost.prison.escort * (pDSTB * dstb.visits + (1 - pDSTB) * mdrtb.visits)  + ucost.dots * (pDSTB * DurDSTB + (1 - pDSTB) * DurMDRTB) + ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation)),(pDSTB * DurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * DurMDRTB * ucost.mdratt.drugs + pDSTB * dstb.visits*(ucost.dstb.opd.visit) + (1 - pDSTB) * mdrtb.visits * (ucost.mdrtb.opd.visit) + (pDSTB * smear.positive * DurDSTBIsolation * (ucost.dstb.ipd) +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * (ucost.mdrtb.ipd) + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * (ucost.mdrtb.ipd))),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,1
     ¦   ¦   ¦               ¦   ¦       ¦   ¦       ¦   °--did not complete ATT                                                                                              ,1-soc.prop.completing.att,cost.att.incomplete ,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort * (IncompDurDSTB/DurDSTB*pDSTB * dstb.visits + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits),pDSTB  * IncompDurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * IncompDurMDRTB  * ucost.mdratt.drugs,IncompDurDSTB / DurDSTB * pDSTB * dstb.visits*ucost.dstb.opd.visit + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits * ucost.mdrtb.opd.visit,ucost.dots * (pDSTB * IncompDurDSTB + (1 - pDSTB) * IncompDurMDRTB),(pDSTB * smear.positive * DurDSTBIsolation * ucost.dstb.ipd +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * ucost.mdrtb.ipd + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * ucost.mdrtb.ipd),ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation),0,0,0,0,0,0,cost.att.incomplete ,0,0,0,cost.att.incomplete ,0,(ucost.prison.escort * (IncompDurDSTB/DurDSTB*pDSTB * dstb.visits + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits) + ucost.dots * (pDSTB * IncompDurDSTB + (1 - pDSTB) * IncompDurMDRTB) + ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  + (1 - pDSTB) * smear.positive * DurMDRTB2Isolation+ (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation)),(pDSTB  * IncompDurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * IncompDurMDRTB * ucost.mdratt.drugs) + (IncompDurDSTB / DurDSTB * pDSTB * dstb.visits*ucost.dstb.opd.visit + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits * ucost.mdrtb.opd.visit) + ((pDSTB * smear.positive * DurDSTBIsolation * (ucost.dstb.ipd) +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * (ucost.mdrtb.ipd) +(1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * (ucost.mdrtb.ipd))),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦   ¦   ¦               ¦   ¦       ¦   ¦       °--no ATT                                                                                                                ,1-soc.prop.starting.att,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦               ¦   ¦       ¦   °--Not TB                                                                                                                        ,1-soc.prop.abn.xray.tb.dx,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦   ¦       ¦       °--LTBI pathway                                                                                                              ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦   ¦       ¦           ¦--IGRA test                                                                                                             ,soc.prop.igra.tested,cost.igra.test,0,0,0,0,0,0,0,0,0,cost.igra.test,0,0,0,0,0,0,0,cost.igra.test,0,0,0,0,0,0,0,0,0,0,0,ucost.igra.test,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦--IGRA test +                                                                                                       ,soc.prop.igra.test.positive,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦   ¦--Previous chest x-ray                                                                                          ,soc.prop.prev.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦   ¦   ¦--Abornomal chest x-ray                                                                                     ,soc.prop.abnormal.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦--Referred to NHS TB service                                                                            ,nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦--Attended TB referral                                                                              ,soc.prop.attend.nhs.referral,cost.tb.evaluation,0,cost.tb.evaluation,0,0,0,cost.nhs.tb.service,0,ucost.prison.escort,cost.tb.investigations,0,0,0,0,0,0,0,cost.tb.evaluation,0,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort ,ucost.nhs.tb.service + ucost.tb.investigations,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦   ¦--TB                                                                                            ,soc.prop.abn.xray.tb.dx,cost.contact.management,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,cost.contact.management,smear.positive * (cost.prison.isolation),0,0,0,smear.positive * (nContacts * ucost.contact.tracing),cost.contact.management,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦   ¦   °--TB outcomes                                                                               ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦   ¦       ¦--ATT                                                                                   ,soc.prop.starting.att,cost.att.initiation,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,0,0,0,0,0,cost.att.initiation,0,cost.att.initiation,0,0,0,ucost.prison.escort,ucost.nhs.tb.service ,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦   ¦       ¦   ¦--completed ATT                                                                     ,soc.prop.completing.att,cost.att.complete,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort * (pDSTB * dstb.visits + (1 - pDSTB) * mdrtb.visits) ,pDSTB * DurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * DurMDRTB * ucost.mdratt.drugs,pDSTB * dstb.visits*ucost.dstb.opd.visit + (1 - pDSTB) * mdrtb.visits * ucost.mdrtb.opd.visit,ucost.dots * (pDSTB * DurDSTB + (1 - pDSTB) * DurMDRTB),(pDSTB * smear.positive * DurDSTBIsolation * ucost.dstb.ipd +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * ucost.mdrtb.ipd + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * ucost.mdrtb.ipd),ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation),0,0,0,0,0,0,cost.att.complete,0,0,cost.att.complete,0,0,(ucost.prison.escort * (pDSTB * dstb.visits + (1 - pDSTB) * mdrtb.visits)  + ucost.dots * (pDSTB * DurDSTB + (1 - pDSTB) * DurMDRTB) + ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation)),(pDSTB * DurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * DurMDRTB * ucost.mdratt.drugs + pDSTB * dstb.visits*(ucost.dstb.opd.visit) + (1 - pDSTB) * mdrtb.visits * (ucost.mdrtb.opd.visit) + (pDSTB * smear.positive * DurDSTBIsolation * (ucost.dstb.ipd) +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * (ucost.mdrtb.ipd) + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * (ucost.mdrtb.ipd))),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,1
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦   ¦       ¦   °--did not complete ATT                                                              ,1-soc.prop.completing.att,cost.att.incomplete ,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort * (IncompDurDSTB/DurDSTB*pDSTB * dstb.visits + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits),pDSTB  * IncompDurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * IncompDurMDRTB  * ucost.mdratt.drugs,IncompDurDSTB / DurDSTB * pDSTB * dstb.visits*ucost.dstb.opd.visit + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits * ucost.mdrtb.opd.visit,ucost.dots * (pDSTB * IncompDurDSTB + (1 - pDSTB) * IncompDurMDRTB),(pDSTB * smear.positive * DurDSTBIsolation * ucost.dstb.ipd +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * ucost.mdrtb.ipd + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * ucost.mdrtb.ipd),ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation),0,0,0,0,0,0,cost.att.incomplete ,0,0,0,cost.att.incomplete ,0,(ucost.prison.escort * (IncompDurDSTB/DurDSTB*pDSTB * dstb.visits + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits) + ucost.dots * (pDSTB * IncompDurDSTB + (1 - pDSTB) * IncompDurMDRTB) + ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  + (1 - pDSTB) * smear.positive * DurMDRTB2Isolation+ (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation)),(pDSTB  * IncompDurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * IncompDurMDRTB * ucost.mdratt.drugs) + (IncompDurDSTB / DurDSTB * pDSTB * dstb.visits*ucost.dstb.opd.visit + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits * ucost.mdrtb.opd.visit) + ((pDSTB * smear.positive * DurDSTBIsolation * (ucost.dstb.ipd) +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * (ucost.mdrtb.ipd) +(1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * (ucost.mdrtb.ipd))),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦   ¦       °--no ATT                                                                                ,1-soc.prop.starting.att,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦   °--Not TB                                                                                        ,1-soc.prop.abn.xray.tb.dx,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦       ¦--In prison/IRC for >3 months                                                               ,soc.prop.staying.3+months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦       ¦   °--Refer for treatment                                                                   ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦       ¦       ¦--Attended TPT referral                                                             ,soc.prop.attend.nhs.referral,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.attending.nhs.tb.service,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,ucost.prison.escort ,ucost.nhs.tb.service,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦       ¦       ¦   °--TPT outcomes                                                                  ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦       ¦       ¦       ¦--gets TPT                                                                  ,soc.prop.starting.tpt,cost.tpt.initiation,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.tpt.initiation,0,cost.tpt.initiation,0,0,0,0,0,0,0,0,ucost.prison.escort,ucost.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦       ¦       ¦       ¦   ¦--completed TPT                                                         ,soc.prop.completing.tpt,cost.tpt.complete,0,0,0,0,0,0,0,0,0,0,TPT.visits*(ucost.prison.escort),durTPT*(ucost.ltbi.drugs),TPT.visits*(ucost.tpt.opd.visit),durTPT*(ucost.dots),0,0,0,cost.tpt.complete,0,0,cost.tpt.complete,0,0,0,0,0,0,0,(TPT.visits*ucost.prison.escort + durTPT*ucost.dots),(durTPT*ucost.ltbi.drugs+ TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,1
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦       ¦       ¦       ¦   °--did not complete TPT                                                  ,1-soc.prop.completing.tpt,cost.tpt.incomplete,0,0,0,0,0,0,0,0,0,0,IncompDurTPT / durTPT * TPT.visits*ucost.prison.escort,IncompDurTPT*ucost.ltbi.drugs,IncompDurTPT / durTPT * TPT.visits*ucost.tpt.opd.visit,IncompDurTPT*ucost.dots,0,0,0,cost.tpt.incomplete,0,0,0,cost.tpt.incomplete,0,0,0,0,0,0,(IncompDurTPT/durTPT*TPT.visits*ucost.prison.escort + IncompDurTPT*ucost.dots),(IncompDurTPT*ucost.ltbi.drugs + IncompDurTPT/durTPT*TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦       ¦       ¦       °--does not get TPT                                                          ,1-soc.prop.starting.tpt,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦       ¦       °--Did not attend TB referral TPT referral                                           ,1-soc.prop.attend.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦       °--In prison/IRC for <3 months                                                               ,1-soc.prop.staying.3+months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦           ¦--Remaining in the UK (community or other prison/IRC)                                   ,soc.prop.staying.<3months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦           ¦   °--Refer for treatment and forward details to receiving prison/community TB nurse    ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦           ¦       ¦--Attended TPT referral                                                         ,soc.prop.attend.nhs.referral,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.attending.nhs.tb.service,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,ucost.prison.escort ,ucost.nhs.tb.service,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦           ¦       ¦   °--TPT outcomes                                                              ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦           ¦       ¦       ¦--gets TPT                                                              ,soc.prop.starting.tpt,cost.tpt.initiation,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.tpt.initiation,0,cost.tpt.initiation,0,0,0,0,0,0,0,0,ucost.prison.escort,ucost.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦           ¦       ¦       ¦   ¦--completed TPT                                                     ,soc.prop.completing.tpt,cost.tpt.complete,0,0,0,0,0,0,0,0,0,0,TPT.visits*(ucost.prison.escort),durTPT*(ucost.ltbi.drugs),TPT.visits*(ucost.tpt.opd.visit),durTPT*(ucost.dots),0,0,0,cost.tpt.complete,0,0,cost.tpt.complete,0,0,0,0,0,0,0,(TPT.visits*ucost.prison.escort + durTPT*ucost.dots),(durTPT*ucost.ltbi.drugs+ TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,1
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦           ¦       ¦       ¦   °--did not complete TPT                                              ,1-soc.prop.completing.tpt,cost.tpt.incomplete,0,0,0,0,0,0,0,0,0,0,IncompDurTPT / durTPT * TPT.visits*ucost.prison.escort,IncompDurTPT*ucost.ltbi.drugs,IncompDurTPT / durTPT * TPT.visits*ucost.tpt.opd.visit,IncompDurTPT*ucost.dots,0,0,0,cost.tpt.incomplete,0,0,0,cost.tpt.incomplete,0,0,0,0,0,0,(IncompDurTPT/durTPT*TPT.visits*ucost.prison.escort + IncompDurTPT*ucost.dots),(IncompDurTPT*ucost.ltbi.drugs + IncompDurTPT/durTPT*TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦           ¦       ¦       °--does not get TPT                                                      ,1-soc.prop.starting.tpt,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦           ¦       °--Did not attend TPT referral                                                   ,1-soc.prop.attend.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦           °--Early removal scheme or deportation                                                   ,1-soc.prop.staying.<3months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   °--Did not attend TB referral                                                                        ,1-soc.prop.attend.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦   ¦   ¦   °--Not referred to NHS TB service                                                                        ,1-nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦   ¦   °--Normal chest x-ray                                                                                        ,1-soc.prop.abnormal.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦   ¦       ¦--In prison/IRC for >3 months                                                                           ,soc.prop.staying.3+months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦   ¦       ¦   °--Refer for treatment                                                                               ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦   ¦       ¦       ¦--Attended TPT referral                                                                         ,soc.prop.attend.nhs.referral,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.attending.nhs.tb.service,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,ucost.prison.escort ,ucost.nhs.tb.service,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦   ¦       ¦       ¦   °--TPT outcomes                                                                              ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦   ¦       ¦       ¦       ¦--gets TPT                                                                              ,soc.prop.starting.tpt,cost.tpt.initiation,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.tpt.initiation,0,cost.tpt.initiation,0,0,0,0,0,0,0,0,ucost.prison.escort,ucost.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦   ¦       ¦       ¦       ¦   ¦--completed TPT                                                                     ,soc.prop.completing.tpt,cost.tpt.complete,0,0,0,0,0,0,0,0,0,0,TPT.visits*(ucost.prison.escort),durTPT*(ucost.ltbi.drugs),TPT.visits*(ucost.tpt.opd.visit),durTPT*(ucost.dots),0,0,0,cost.tpt.complete,0,0,cost.tpt.complete,0,0,0,0,0,0,0,(TPT.visits*ucost.prison.escort + durTPT*ucost.dots),(durTPT*ucost.ltbi.drugs+ TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,1
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦   ¦       ¦       ¦       ¦   °--did not complete TPT                                                              ,1-soc.prop.completing.tpt,cost.tpt.incomplete,0,0,0,0,0,0,0,0,0,0,IncompDurTPT / durTPT * TPT.visits*ucost.prison.escort,IncompDurTPT*ucost.ltbi.drugs,IncompDurTPT / durTPT * TPT.visits*ucost.tpt.opd.visit,IncompDurTPT*ucost.dots,0,0,0,cost.tpt.incomplete,0,0,0,cost.tpt.incomplete,0,0,0,0,0,0,(IncompDurTPT/durTPT*TPT.visits*ucost.prison.escort + IncompDurTPT*ucost.dots),(IncompDurTPT*ucost.ltbi.drugs + IncompDurTPT/durTPT*TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦   ¦       ¦       ¦       °--does not get TPT                                                                      ,1-soc.prop.starting.tpt,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦   ¦       ¦       °--Did not attend TPT referral                                                                   ,1-soc.prop.attend.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦   ¦       °--In prison/IRC for <3 months                                                                           ,1-soc.prop.staying.3+months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦   ¦           ¦--Remaining in the UK (community or other prison/IRC)                                               ,soc.prop.staying.<3months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦   ¦           ¦   °--Refer for treatment and forward details to receiving prison/community TB nurse                ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦   ¦           ¦       ¦--Attended TPT referral                                                                     ,soc.prop.attend.nhs.referral,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.attending.nhs.tb.service,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,ucost.prison.escort ,ucost.nhs.tb.service,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦   ¦           ¦       ¦   °--TPT outcomes                                                                          ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦   ¦           ¦       ¦       ¦--gets TPT                                                                          ,soc.prop.starting.tpt,cost.tpt.initiation,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.tpt.initiation,0,cost.tpt.initiation,0,0,0,0,0,0,0,0,ucost.prison.escort,ucost.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦   ¦           ¦       ¦       ¦   ¦--completed TPT                                                                 ,soc.prop.completing.tpt,cost.tpt.complete,0,0,0,0,0,0,0,0,0,0,TPT.visits*(ucost.prison.escort),durTPT*(ucost.ltbi.drugs),TPT.visits*(ucost.tpt.opd.visit),durTPT*(ucost.dots),0,0,0,cost.tpt.complete,0,0,cost.tpt.complete,0,0,0,0,0,0,0,(TPT.visits*ucost.prison.escort + durTPT*ucost.dots),(durTPT*ucost.ltbi.drugs+ TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,1
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦   ¦           ¦       ¦       ¦   °--did not complete TPT                                                          ,1-soc.prop.completing.tpt,cost.tpt.incomplete,0,0,0,0,0,0,0,0,0,0,IncompDurTPT / durTPT * TPT.visits*ucost.prison.escort,IncompDurTPT*ucost.ltbi.drugs,IncompDurTPT / durTPT * TPT.visits*ucost.tpt.opd.visit,IncompDurTPT*ucost.dots,0,0,0,cost.tpt.incomplete,0,0,0,cost.tpt.incomplete,0,0,0,0,0,0,(IncompDurTPT/durTPT*TPT.visits*ucost.prison.escort + IncompDurTPT*ucost.dots),(IncompDurTPT*ucost.ltbi.drugs + IncompDurTPT/durTPT*TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦   ¦           ¦       ¦       °--does not get TPT                                                                  ,1-soc.prop.starting.tpt,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦   ¦           ¦       °--Did not attend TPT referral                                                               ,1-soc.prop.attend.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦   ¦           °--Early removal scheme or deportation                                                               ,1-soc.prop.staying.<3months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦   °--No previous chest x-ray                                                                                       ,1-soc.prop.prev.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦       ¦--Chest x-ray                                                                                               ,soc.prop.xray,cost.chest.xray,0,cost.chest.xray,0,ucost.chest.xray,0,0,ucost.prison.escort,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,ucost.chest.xray,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦       ¦   ¦--Abornomal chest x-ray                                                                                 ,soc.prop.abnormal.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦--Referred to NHS TB service                                                                        ,nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦--Attended TB referral                                                                          ,soc.prop.attend.nhs.referral,cost.tb.evaluation,0,cost.tb.evaluation,0,0,0,cost.nhs.tb.service,0,ucost.prison.escort,cost.tb.investigations,0,0,0,0,0,0,0,cost.tb.evaluation,0,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort ,ucost.nhs.tb.service + ucost.tb.investigations,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦   ¦--TB                                                                                        ,soc.prop.abn.xray.tb.dx,cost.contact.management,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,cost.contact.management,smear.positive * (cost.prison.isolation),0,0,0,smear.positive * (nContacts * ucost.contact.tracing),cost.contact.management,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦   ¦   °--TB outcomes                                                                           ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦   ¦       ¦--ATT                                                                               ,soc.prop.starting.att,cost.att.initiation,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,0,0,0,0,0,cost.att.initiation,0,cost.att.initiation,0,0,0,ucost.prison.escort,ucost.nhs.tb.service ,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦   ¦       ¦   ¦--completed ATT                                                                 ,soc.prop.completing.att,cost.att.complete,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort * (pDSTB * dstb.visits + (1 - pDSTB) * mdrtb.visits) ,pDSTB * DurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * DurMDRTB * ucost.mdratt.drugs,pDSTB * dstb.visits*ucost.dstb.opd.visit + (1 - pDSTB) * mdrtb.visits * ucost.mdrtb.opd.visit,ucost.dots * (pDSTB * DurDSTB + (1 - pDSTB) * DurMDRTB),(pDSTB * smear.positive * DurDSTBIsolation * ucost.dstb.ipd +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * ucost.mdrtb.ipd + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * ucost.mdrtb.ipd),ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation),0,0,0,0,0,0,cost.att.complete,0,0,cost.att.complete,0,0,(ucost.prison.escort * (pDSTB * dstb.visits + (1 - pDSTB) * mdrtb.visits)  + ucost.dots * (pDSTB * DurDSTB + (1 - pDSTB) * DurMDRTB) + ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation)),(pDSTB * DurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * DurMDRTB * ucost.mdratt.drugs + pDSTB * dstb.visits*(ucost.dstb.opd.visit) + (1 - pDSTB) * mdrtb.visits * (ucost.mdrtb.opd.visit) + (pDSTB * smear.positive * DurDSTBIsolation * (ucost.dstb.ipd) +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * (ucost.mdrtb.ipd) + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * (ucost.mdrtb.ipd))),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,1
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦   ¦       ¦   °--did not complete ATT                                                          ,1-soc.prop.completing.att,cost.att.incomplete ,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort * (IncompDurDSTB/DurDSTB*pDSTB * dstb.visits + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits),pDSTB  * IncompDurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * IncompDurMDRTB  * ucost.mdratt.drugs,IncompDurDSTB / DurDSTB * pDSTB * dstb.visits*ucost.dstb.opd.visit + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits * ucost.mdrtb.opd.visit,ucost.dots * (pDSTB * IncompDurDSTB + (1 - pDSTB) * IncompDurMDRTB),(pDSTB * smear.positive * DurDSTBIsolation * ucost.dstb.ipd +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * ucost.mdrtb.ipd + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * ucost.mdrtb.ipd),ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation),0,0,0,0,0,0,cost.att.incomplete ,0,0,0,cost.att.incomplete ,0,(ucost.prison.escort * (IncompDurDSTB/DurDSTB*pDSTB * dstb.visits + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits) + ucost.dots * (pDSTB * IncompDurDSTB + (1 - pDSTB) * IncompDurMDRTB) + ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  + (1 - pDSTB) * smear.positive * DurMDRTB2Isolation+ (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation)),(pDSTB  * IncompDurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * IncompDurMDRTB * ucost.mdratt.drugs) + (IncompDurDSTB / DurDSTB * pDSTB * dstb.visits*ucost.dstb.opd.visit + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits * ucost.mdrtb.opd.visit) + ((pDSTB * smear.positive * DurDSTBIsolation * (ucost.dstb.ipd) +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * (ucost.mdrtb.ipd) +(1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * (ucost.mdrtb.ipd))),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦   ¦       °--no ATT                                                                            ,1-soc.prop.starting.att,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦   °--Not TB                                                                                    ,1-soc.prop.abn.xray.tb.dx,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦       ¦--In prison/IRC for >3 months                                                           ,soc.prop.staying.3+months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦       ¦   °--Refer for treatment                                                               ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦       ¦       ¦--Attended TPT referral                                                         ,soc.prop.attend.nhs.referral,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.attending.nhs.tb.service,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,ucost.prison.escort ,ucost.nhs.tb.service,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦       ¦       ¦   °--TPT outcomes                                                              ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦       ¦       ¦       ¦--gets TPT                                                              ,soc.prop.starting.tpt,cost.tpt.initiation,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.tpt.initiation,0,cost.tpt.initiation,0,0,0,0,0,0,0,0,ucost.prison.escort,ucost.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦       ¦       ¦       ¦   ¦--completed TPT                                                     ,soc.prop.completing.tpt,cost.tpt.complete,0,0,0,0,0,0,0,0,0,0,TPT.visits*(ucost.prison.escort),durTPT*(ucost.ltbi.drugs),TPT.visits*(ucost.tpt.opd.visit),durTPT*(ucost.dots),0,0,0,cost.tpt.complete,0,0,cost.tpt.complete,0,0,0,0,0,0,0,(TPT.visits*ucost.prison.escort + durTPT*ucost.dots),(durTPT*ucost.ltbi.drugs+ TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,1
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦       ¦       ¦       ¦   °--did not complete TPT                                              ,1-soc.prop.completing.tpt,cost.tpt.incomplete,0,0,0,0,0,0,0,0,0,0,IncompDurTPT / durTPT * TPT.visits*ucost.prison.escort,IncompDurTPT*ucost.ltbi.drugs,IncompDurTPT / durTPT * TPT.visits*ucost.tpt.opd.visit,IncompDurTPT*ucost.dots,0,0,0,cost.tpt.incomplete,0,0,0,cost.tpt.incomplete,0,0,0,0,0,0,(IncompDurTPT/durTPT*TPT.visits*ucost.prison.escort + IncompDurTPT*ucost.dots),(IncompDurTPT*ucost.ltbi.drugs + IncompDurTPT/durTPT*TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦       ¦       ¦       °--does not get TPT                                                      ,1-soc.prop.starting.tpt,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦       ¦       °--Did not attend TPT referral                                                   ,1-soc.prop.attend.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦       °--In prison/IRC for <3 months                                                           ,1-soc.prop.staying.3+months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦           ¦--Remaining in the UK (community or other prison/IRC)                               ,soc.prop.staying.<3months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦           ¦   °--Refer for treatment and forward details to receiving prison/community TB nurse,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦           ¦       ¦--Attended TPT referral                                                     ,soc.prop.attend.nhs.referral,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.attending.nhs.tb.service,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,ucost.prison.escort ,ucost.nhs.tb.service,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦           ¦       ¦   °--TPT outcomes                                                          ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦           ¦       ¦       ¦--gets TPT                                                          ,soc.prop.starting.tpt,cost.tpt.initiation,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.tpt.initiation,0,cost.tpt.initiation,0,0,0,0,0,0,0,0,ucost.prison.escort,ucost.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦           ¦       ¦       ¦   ¦--completed TPT                                                 ,soc.prop.completing.tpt,cost.tpt.complete,0,0,0,0,0,0,0,0,0,0,TPT.visits*(ucost.prison.escort),durTPT*(ucost.ltbi.drugs),TPT.visits*(ucost.tpt.opd.visit),durTPT*(ucost.dots),0,0,0,cost.tpt.complete,0,0,cost.tpt.complete,0,0,0,0,0,0,0,(TPT.visits*ucost.prison.escort + durTPT*ucost.dots),(durTPT*ucost.ltbi.drugs+ TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,1
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦           ¦       ¦       ¦   °--did not complete TPT                                          ,1-soc.prop.completing.tpt,cost.tpt.incomplete,0,0,0,0,0,0,0,0,0,0,IncompDurTPT / durTPT * TPT.visits*ucost.prison.escort,IncompDurTPT*ucost.ltbi.drugs,IncompDurTPT / durTPT * TPT.visits*ucost.tpt.opd.visit,IncompDurTPT*ucost.dots,0,0,0,cost.tpt.incomplete,0,0,0,cost.tpt.incomplete,0,0,0,0,0,0,(IncompDurTPT/durTPT*TPT.visits*ucost.prison.escort + IncompDurTPT*ucost.dots),(IncompDurTPT*ucost.ltbi.drugs + IncompDurTPT/durTPT*TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦           ¦       ¦       °--does not get TPT                                                  ,1-soc.prop.starting.tpt,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦           ¦       °--Did not attend TPT referral                                               ,1-soc.prop.attend.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦           °--Early removal scheme or deportation                                               ,1-soc.prop.staying.<3months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   °--Did not attend TB referral                                                                    ,1-soc.prop.attend.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦       ¦   ¦   °--Not referred to NHS TB service                                                                    ,1-nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦       ¦   °--Normal chest x-ray                                                                                    ,1-soc.prop.abnormal.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦       ¦       ¦--In prison/IRC for >3 months                                                                       ,soc.prop.staying.3+months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦       ¦       ¦   °--Refer for treatment                                                                           ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦       ¦       ¦       ¦--Attended TPT referral                                                                     ,soc.prop.attend.nhs.referral,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.attending.nhs.tb.service,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,ucost.prison.escort ,ucost.nhs.tb.service,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦       ¦       ¦       ¦   °--TPT outcomes                                                                          ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦       ¦       ¦       ¦       ¦--gets TPT                                                                          ,soc.prop.starting.tpt,cost.tpt.initiation,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.tpt.initiation,0,cost.tpt.initiation,0,0,0,0,0,0,0,0,ucost.prison.escort,ucost.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦       ¦       ¦       ¦       ¦   ¦--completed TPT                                                                 ,soc.prop.completing.tpt,cost.tpt.complete,0,0,0,0,0,0,0,0,0,0,TPT.visits*(ucost.prison.escort),durTPT*(ucost.ltbi.drugs),TPT.visits*(ucost.tpt.opd.visit),durTPT*(ucost.dots),0,0,0,cost.tpt.complete,0,0,cost.tpt.complete,0,0,0,0,0,0,0,(TPT.visits*ucost.prison.escort + durTPT*ucost.dots),(durTPT*ucost.ltbi.drugs+ TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,1
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦       ¦       ¦       ¦       ¦   °--did not complete TPT                                                          ,1-soc.prop.completing.tpt,cost.tpt.incomplete,0,0,0,0,0,0,0,0,0,0,IncompDurTPT / durTPT * TPT.visits*ucost.prison.escort,IncompDurTPT*ucost.ltbi.drugs,IncompDurTPT / durTPT * TPT.visits*ucost.tpt.opd.visit,IncompDurTPT*ucost.dots,0,0,0,cost.tpt.incomplete,0,0,0,cost.tpt.incomplete,0,0,0,0,0,0,(IncompDurTPT/durTPT*TPT.visits*ucost.prison.escort + IncompDurTPT*ucost.dots),(IncompDurTPT*ucost.ltbi.drugs + IncompDurTPT/durTPT*TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦       ¦       ¦       ¦       °--does not get TPT                                                                  ,1-soc.prop.starting.tpt,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦       ¦       ¦       °--Did not attend TPT referral                                                               ,1-soc.prop.attend.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦       ¦       °--In prison/IRC for <3 months                                                                       ,1-soc.prop.staying.3+months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦       ¦           ¦--Remaining in the UK (community or other prison/IRC)                                           ,soc.prop.staying.<3months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦       ¦           ¦   °--Refer for treatment and forward details to receiving prison/community TB nurse            ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦       ¦           ¦       ¦--Attended TPT referral                                                                 ,soc.prop.attend.nhs.referral,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.attending.nhs.tb.service,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,ucost.prison.escort ,ucost.nhs.tb.service,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦       ¦           ¦       ¦   °--TPT outcomes                                                                      ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦       ¦           ¦       ¦       ¦--gets TPT                                                                      ,soc.prop.starting.tpt,cost.tpt.initiation,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.tpt.initiation,0,cost.tpt.initiation,0,0,0,0,0,0,0,0,ucost.prison.escort,ucost.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦       ¦           ¦       ¦       ¦   ¦--completed TPT                                                             ,soc.prop.completing.tpt,cost.tpt.complete,0,0,0,0,0,0,0,0,0,0,TPT.visits*(ucost.prison.escort),durTPT*(ucost.ltbi.drugs),TPT.visits*(ucost.tpt.opd.visit),durTPT*(ucost.dots),0,0,0,cost.tpt.complete,0,0,cost.tpt.complete,0,0,0,0,0,0,0,(TPT.visits*ucost.prison.escort + durTPT*ucost.dots),(durTPT*ucost.ltbi.drugs+ TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,1
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦       ¦           ¦       ¦       ¦   °--did not complete TPT                                                      ,1-soc.prop.completing.tpt,cost.tpt.incomplete,0,0,0,0,0,0,0,0,0,0,IncompDurTPT / durTPT * TPT.visits*ucost.prison.escort,IncompDurTPT*ucost.ltbi.drugs,IncompDurTPT / durTPT * TPT.visits*ucost.tpt.opd.visit,IncompDurTPT*ucost.dots,0,0,0,cost.tpt.incomplete,0,0,0,cost.tpt.incomplete,0,0,0,0,0,0,(IncompDurTPT/durTPT*TPT.visits*ucost.prison.escort + IncompDurTPT*ucost.dots),(IncompDurTPT*ucost.ltbi.drugs + IncompDurTPT/durTPT*TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦       ¦           ¦       ¦       °--does not get TPT                                                              ,1-soc.prop.starting.tpt,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦       ¦           ¦       °--Did not attend TPT referral                                                           ,1-soc.prop.attend.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦       ¦           °--Early removal scheme or deportation                                                           ,1-soc.prop.staying.<3months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦       °--No chest x-ray                                                                                            ,1-soc.prop.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦           ¦--Referred to NHS TB service                                                                            ,nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦           ¦   ¦--Attended TB referral                                                                              ,soc.prop.attend.nhs.referral,cost.tb.evaluation,0,cost.tb.evaluation,0,0,0,cost.nhs.tb.service,0,ucost.prison.escort,cost.tb.investigations,0,0,0,0,0,0,0,cost.tb.evaluation,0,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort ,ucost.nhs.tb.service + ucost.tb.investigations,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦           ¦   ¦   ¦--TB                                                                                            ,soc.prop.no.xray.tb.dx,cost.contact.management,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,cost.contact.management,smear.positive * (cost.prison.isolation),0,0,0,smear.positive * (nContacts * ucost.contact.tracing),cost.contact.management,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦           ¦   ¦   ¦   °--TB outcomes                                                                               ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦           ¦   ¦   ¦       ¦--ATT                                                                                   ,soc.prop.starting.att,cost.att.initiation,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,0,0,0,0,0,cost.att.initiation,0,cost.att.initiation,0,0,0,ucost.prison.escort,ucost.nhs.tb.service ,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦           ¦   ¦   ¦       ¦   ¦--completed ATT                                                                     ,soc.prop.completing.att,cost.att.complete,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort * (pDSTB * dstb.visits + (1 - pDSTB) * mdrtb.visits) ,pDSTB * DurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * DurMDRTB * ucost.mdratt.drugs,pDSTB * dstb.visits*ucost.dstb.opd.visit + (1 - pDSTB) * mdrtb.visits * ucost.mdrtb.opd.visit,ucost.dots * (pDSTB * DurDSTB + (1 - pDSTB) * DurMDRTB),(pDSTB * smear.positive * DurDSTBIsolation * ucost.dstb.ipd +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * ucost.mdrtb.ipd + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * ucost.mdrtb.ipd),ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation),0,0,0,0,0,0,cost.att.complete,0,0,cost.att.complete,0,0,(ucost.prison.escort * (pDSTB * dstb.visits + (1 - pDSTB) * mdrtb.visits)  + ucost.dots * (pDSTB * DurDSTB + (1 - pDSTB) * DurMDRTB) + ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation)),(pDSTB * DurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * DurMDRTB * ucost.mdratt.drugs + pDSTB * dstb.visits*(ucost.dstb.opd.visit) + (1 - pDSTB) * mdrtb.visits * (ucost.mdrtb.opd.visit) + (pDSTB * smear.positive * DurDSTBIsolation * (ucost.dstb.ipd) +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * (ucost.mdrtb.ipd) + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * (ucost.mdrtb.ipd))),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,1
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦           ¦   ¦   ¦       ¦   °--did not complete ATT                                                              ,1-soc.prop.completing.att,cost.att.incomplete ,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort * (IncompDurDSTB/DurDSTB*pDSTB * dstb.visits + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits),pDSTB  * IncompDurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * IncompDurMDRTB  * ucost.mdratt.drugs,IncompDurDSTB / DurDSTB * pDSTB * dstb.visits*ucost.dstb.opd.visit + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits * ucost.mdrtb.opd.visit,ucost.dots * (pDSTB * IncompDurDSTB + (1 - pDSTB) * IncompDurMDRTB),(pDSTB * smear.positive * DurDSTBIsolation * ucost.dstb.ipd +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * ucost.mdrtb.ipd + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * ucost.mdrtb.ipd),ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation),0,0,0,0,0,0,cost.att.incomplete ,0,0,0,cost.att.incomplete ,0,(ucost.prison.escort * (IncompDurDSTB/DurDSTB*pDSTB * dstb.visits + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits) + ucost.dots * (pDSTB * IncompDurDSTB + (1 - pDSTB) * IncompDurMDRTB) + ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  + (1 - pDSTB) * smear.positive * DurMDRTB2Isolation+ (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation)),(pDSTB  * IncompDurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * IncompDurMDRTB * ucost.mdratt.drugs) + (IncompDurDSTB / DurDSTB * pDSTB * dstb.visits*ucost.dstb.opd.visit + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits * ucost.mdrtb.opd.visit) + ((pDSTB * smear.positive * DurDSTBIsolation * (ucost.dstb.ipd) +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * (ucost.mdrtb.ipd) +(1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * (ucost.mdrtb.ipd))),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦           ¦   ¦   ¦       °--no ATT                                                                                ,1-soc.prop.starting.att,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦           ¦   ¦   °--Not TB                                                                                        ,1-soc.prop.no.xray.tb.dx,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦           ¦   ¦       ¦--In prison/IRC for >3 months                                                               ,soc.prop.staying.3+months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦           ¦   ¦       ¦   °--Refer for treatment                                                                   ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦           ¦   ¦       ¦       ¦--Attended TPT referral                                                             ,soc.prop.attend.nhs.referral,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.attending.nhs.tb.service,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,ucost.prison.escort ,ucost.nhs.tb.service,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦           ¦   ¦       ¦       ¦   °--TPT outcomes                                                                  ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦           ¦   ¦       ¦       ¦       ¦--gets TPT                                                                  ,soc.prop.starting.tpt,cost.tpt.initiation,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.tpt.initiation,0,cost.tpt.initiation,0,0,0,0,0,0,0,0,ucost.prison.escort,ucost.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦           ¦   ¦       ¦       ¦       ¦   ¦--completed TPT                                                         ,soc.prop.completing.tpt,cost.tpt.complete,0,0,0,0,0,0,0,0,0,0,TPT.visits*(ucost.prison.escort),durTPT*(ucost.ltbi.drugs),TPT.visits*(ucost.tpt.opd.visit),durTPT*(ucost.dots),0,0,0,cost.tpt.complete,0,0,cost.tpt.complete,0,0,0,0,0,0,0,(TPT.visits*ucost.prison.escort + durTPT*ucost.dots),(durTPT*ucost.ltbi.drugs+ TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,1
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦           ¦   ¦       ¦       ¦       ¦   °--did not complete TPT                                                  ,1-soc.prop.completing.tpt,cost.tpt.incomplete,0,0,0,0,0,0,0,0,0,0,IncompDurTPT / durTPT * TPT.visits*ucost.prison.escort,IncompDurTPT*ucost.ltbi.drugs,IncompDurTPT / durTPT * TPT.visits*ucost.tpt.opd.visit,IncompDurTPT*ucost.dots,0,0,0,cost.tpt.incomplete,0,0,0,cost.tpt.incomplete,0,0,0,0,0,0,(IncompDurTPT/durTPT*TPT.visits*ucost.prison.escort + IncompDurTPT*ucost.dots),(IncompDurTPT*ucost.ltbi.drugs + IncompDurTPT/durTPT*TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦           ¦   ¦       ¦       ¦       °--does not get TPT                                                          ,1-soc.prop.starting.tpt,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦           ¦   ¦       ¦       °--Did not attend TPT referral                                                       ,1-soc.prop.attend.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦           ¦   ¦       °--In prison/IRC for <3 months                                                               ,1-soc.prop.staying.3+months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦           ¦   ¦           ¦--Remaining in the UK (community or other prison/IRC)                                   ,soc.prop.staying.<3months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦           ¦   ¦           ¦   °--Refer for treatment and forward details to receiving prison/community TB nurse    ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦           ¦   ¦           ¦       ¦--Attended TPT referral                                                         ,soc.prop.attend.nhs.referral,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.attending.nhs.tb.service,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,ucost.prison.escort ,ucost.nhs.tb.service,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦           ¦   ¦           ¦       ¦   °--TPT outcomes                                                              ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦           ¦   ¦           ¦       ¦       ¦--gets TPT                                                              ,soc.prop.starting.tpt,cost.tpt.initiation,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.tpt.initiation,0,cost.tpt.initiation,0,0,0,0,0,0,0,0,ucost.prison.escort,ucost.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦           ¦   ¦           ¦       ¦       ¦   ¦--completed TPT                                                     ,soc.prop.completing.tpt,cost.tpt.complete,0,0,0,0,0,0,0,0,0,0,TPT.visits*(ucost.prison.escort),durTPT*(ucost.ltbi.drugs),TPT.visits*(ucost.tpt.opd.visit),durTPT*(ucost.dots),0,0,0,cost.tpt.complete,0,0,cost.tpt.complete,0,0,0,0,0,0,0,(TPT.visits*ucost.prison.escort + durTPT*ucost.dots),(durTPT*ucost.ltbi.drugs+ TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,1
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦           ¦   ¦           ¦       ¦       ¦   °--did not complete TPT                                              ,1-soc.prop.completing.tpt,cost.tpt.incomplete,0,0,0,0,0,0,0,0,0,0,IncompDurTPT / durTPT * TPT.visits*ucost.prison.escort,IncompDurTPT*ucost.ltbi.drugs,IncompDurTPT / durTPT * TPT.visits*ucost.tpt.opd.visit,IncompDurTPT*ucost.dots,0,0,0,cost.tpt.incomplete,0,0,0,cost.tpt.incomplete,0,0,0,0,0,0,(IncompDurTPT/durTPT*TPT.visits*ucost.prison.escort + IncompDurTPT*ucost.dots),(IncompDurTPT*ucost.ltbi.drugs + IncompDurTPT/durTPT*TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦           ¦   ¦           ¦       ¦       °--does not get TPT                                                      ,1-soc.prop.starting.tpt,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦           ¦   ¦           ¦       °--Did not attend TPT referral                                                   ,1-soc.prop.attend.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦           ¦   ¦           °--Early removal scheme or deportation                                                   ,1-soc.prop.staying.<3months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦           ¦   °--Did not attend TB referral                                                                        ,1-soc.prop.attend.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   ¦           °--Not referred to NHS TB service                                                                        ,1-nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦               ¦   ¦       ¦           ¦   °--IGRA test -                                                                                                       ,1-soc.prop.igra.test.positive,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦               ¦   ¦       ¦           °--no IGRA test                                                                                                          ,1-soc.prop.igra.tested,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦               ¦   ¦       °--Did not attend TB referral                                                                                                        ,1-soc.prop.attend.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦               ¦   °--Normal chest x-ray                                                                                                                        ,1-soc.prop.abnormal.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦       °--LTBI pathway                                                                                                                          ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦           ¦--IGRA test                                                                                                                         ,soc.prop.igra.tested,cost.igra.test,0,0,0,0,0,0,0,0,0,cost.igra.test,0,0,0,0,0,0,0,cost.igra.test,0,0,0,0,0,0,0,0,0,0,0,ucost.igra.test,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦           ¦   ¦--IGRA test +                                                                                                                   ,soc.prop.igra.test.positive,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦           ¦   ¦   ¦--Previous chest x-ray                                                                                                      ,soc.prop.prev.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦           ¦   ¦   ¦   ¦--Abornomal chest x-ray                                                                                                 ,soc.prop.abnormal.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦           ¦   ¦   ¦   ¦   ¦--Referred to NHS TB service                                                                                        ,nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦           ¦   ¦   ¦   ¦   ¦   ¦--Attended TB referral                                                                                          ,soc.prop.attend.nhs.referral,cost.tb.evaluation,0,cost.tb.evaluation,0,0,0,cost.nhs.tb.service,0,ucost.prison.escort,cost.tb.investigations,0,0,0,0,0,0,0,cost.tb.evaluation,0,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort ,ucost.nhs.tb.service + ucost.tb.investigations,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦           ¦   ¦   ¦   ¦   ¦   ¦   ¦--TB                                                                                                        ,soc.prop.abn.xray.tb.dx,cost.contact.management,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,cost.contact.management,smear.positive * (cost.prison.isolation),0,0,0,smear.positive * (nContacts * ucost.contact.tracing),cost.contact.management,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0
     ¦   ¦   ¦               ¦           ¦   ¦   ¦   ¦   ¦   ¦   ¦   °--TB outcomes                                                                                           ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦           ¦   ¦   ¦   ¦   ¦   ¦   ¦       ¦--ATT                                                                                               ,soc.prop.starting.att,cost.att.initiation,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,0,0,0,0,0,cost.att.initiation,0,cost.att.initiation,0,0,0,ucost.prison.escort,ucost.nhs.tb.service ,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0
     ¦   ¦   ¦               ¦           ¦   ¦   ¦   ¦   ¦   ¦   ¦       ¦   ¦--completed ATT                                                                                 ,soc.prop.completing.att,cost.att.complete,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort * (pDSTB * dstb.visits + (1 - pDSTB) * mdrtb.visits) ,pDSTB * DurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * DurMDRTB * ucost.mdratt.drugs,pDSTB * dstb.visits*ucost.dstb.opd.visit + (1 - pDSTB) * mdrtb.visits * ucost.mdrtb.opd.visit,ucost.dots * (pDSTB * DurDSTB + (1 - pDSTB) * DurMDRTB),(pDSTB * smear.positive * DurDSTBIsolation * ucost.dstb.ipd +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * ucost.mdrtb.ipd + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * ucost.mdrtb.ipd),ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation),0,0,0,0,0,0,cost.att.complete,0,0,cost.att.complete,0,0,(ucost.prison.escort * (pDSTB * dstb.visits + (1 - pDSTB) * mdrtb.visits)  + ucost.dots * (pDSTB * DurDSTB + (1 - pDSTB) * DurMDRTB) + ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation)),(pDSTB * DurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * DurMDRTB * ucost.mdratt.drugs + pDSTB * dstb.visits*(ucost.dstb.opd.visit) + (1 - pDSTB) * mdrtb.visits * (ucost.mdrtb.opd.visit) + (pDSTB * smear.positive * DurDSTBIsolation * (ucost.dstb.ipd) +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * (ucost.mdrtb.ipd) + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * (ucost.mdrtb.ipd))),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,1
     ¦   ¦   ¦               ¦           ¦   ¦   ¦   ¦   ¦   ¦   ¦       ¦   °--did not complete ATT                                                                          ,1-soc.prop.completing.att,cost.att.incomplete ,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort * (IncompDurDSTB/DurDSTB*pDSTB * dstb.visits + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits),pDSTB  * IncompDurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * IncompDurMDRTB  * ucost.mdratt.drugs,IncompDurDSTB / DurDSTB * pDSTB * dstb.visits*ucost.dstb.opd.visit + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits * ucost.mdrtb.opd.visit,ucost.dots * (pDSTB * IncompDurDSTB + (1 - pDSTB) * IncompDurMDRTB),(pDSTB * smear.positive * DurDSTBIsolation * ucost.dstb.ipd +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * ucost.mdrtb.ipd + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * ucost.mdrtb.ipd),ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation),0,0,0,0,0,0,cost.att.incomplete ,0,0,0,cost.att.incomplete ,0,(ucost.prison.escort * (IncompDurDSTB/DurDSTB*pDSTB * dstb.visits + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits) + ucost.dots * (pDSTB * IncompDurDSTB + (1 - pDSTB) * IncompDurMDRTB) + ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  + (1 - pDSTB) * smear.positive * DurMDRTB2Isolation+ (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation)),(pDSTB  * IncompDurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * IncompDurMDRTB * ucost.mdratt.drugs) + (IncompDurDSTB / DurDSTB * pDSTB * dstb.visits*ucost.dstb.opd.visit + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits * ucost.mdrtb.opd.visit) + ((pDSTB * smear.positive * DurDSTBIsolation * (ucost.dstb.ipd) +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * (ucost.mdrtb.ipd) +(1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * (ucost.mdrtb.ipd))),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦   ¦   ¦               ¦           ¦   ¦   ¦   ¦   ¦   ¦   ¦       °--no ATT                                                                                            ,1-soc.prop.starting.att,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦               ¦           ¦   ¦   ¦   ¦   ¦   ¦   °--Not TB                                                                                                    ,1-soc.prop.abn.xray.tb.dx,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦           ¦   ¦   ¦   ¦   ¦   ¦       ¦--In prison/IRC for >3 months                                                                           ,soc.prop.staying.3+months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦           ¦   ¦   ¦   ¦   ¦   ¦       ¦   °--Refer for treatment                                                                               ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦           ¦   ¦   ¦   ¦   ¦   ¦       ¦       ¦--Attended TPT referral                                                                         ,soc.prop.attend.nhs.referral,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.attending.nhs.tb.service,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,ucost.prison.escort ,ucost.nhs.tb.service,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦           ¦   ¦   ¦   ¦   ¦   ¦       ¦       ¦   °--TPT outcomes                                                                              ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦           ¦   ¦   ¦   ¦   ¦   ¦       ¦       ¦       ¦--gets TPT                                                                              ,soc.prop.starting.tpt,cost.tpt.initiation,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.tpt.initiation,0,cost.tpt.initiation,0,0,0,0,0,0,0,0,ucost.prison.escort,ucost.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦           ¦   ¦   ¦   ¦   ¦   ¦       ¦       ¦       ¦   ¦--completed TPT                                                                     ,soc.prop.completing.tpt,cost.tpt.complete,0,0,0,0,0,0,0,0,0,0,TPT.visits*(ucost.prison.escort),durTPT*(ucost.ltbi.drugs),TPT.visits*(ucost.tpt.opd.visit),durTPT*(ucost.dots),0,0,0,cost.tpt.complete,0,0,cost.tpt.complete,0,0,0,0,0,0,0,(TPT.visits*ucost.prison.escort + durTPT*ucost.dots),(durTPT*ucost.ltbi.drugs+ TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,1
     ¦   ¦   ¦               ¦           ¦   ¦   ¦   ¦   ¦   ¦       ¦       ¦       ¦   °--did not complete TPT                                                              ,1-soc.prop.completing.tpt,cost.tpt.incomplete,0,0,0,0,0,0,0,0,0,0,IncompDurTPT / durTPT * TPT.visits*ucost.prison.escort,IncompDurTPT*ucost.ltbi.drugs,IncompDurTPT / durTPT * TPT.visits*ucost.tpt.opd.visit,IncompDurTPT*ucost.dots,0,0,0,cost.tpt.incomplete,0,0,0,cost.tpt.incomplete,0,0,0,0,0,0,(IncompDurTPT/durTPT*TPT.visits*ucost.prison.escort + IncompDurTPT*ucost.dots),(IncompDurTPT*ucost.ltbi.drugs + IncompDurTPT/durTPT*TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1
     ¦   ¦   ¦               ¦           ¦   ¦   ¦   ¦   ¦   ¦       ¦       ¦       °--does not get TPT                                                                      ,1-soc.prop.starting.tpt,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦               ¦           ¦   ¦   ¦   ¦   ¦   ¦       ¦       °--Did not attend TB referral TPT referral                                                       ,1-soc.prop.attend.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦               ¦           ¦   ¦   ¦   ¦   ¦   ¦       °--In prison/IRC for <3 months                                                                           ,1-soc.prop.staying.3+months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦           ¦   ¦   ¦   ¦   ¦   ¦           ¦--Remaining in the UK (community or other prison/IRC)                                               ,soc.prop.staying.<3months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦           ¦   ¦   ¦   ¦   ¦   ¦           ¦   °--Refer for treatment and forward details to receiving prison/community TB nurse                ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦           ¦   ¦   ¦   ¦   ¦   ¦           ¦       ¦--Attended TPT referral                                                                     ,soc.prop.attend.nhs.referral,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.attending.nhs.tb.service,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,ucost.prison.escort ,ucost.nhs.tb.service,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦           ¦   ¦   ¦   ¦   ¦   ¦           ¦       ¦   °--TPT outcomes                                                                          ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦           ¦   ¦   ¦   ¦   ¦   ¦           ¦       ¦       ¦--gets TPT                                                                          ,soc.prop.starting.tpt,cost.tpt.initiation,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.tpt.initiation,0,cost.tpt.initiation,0,0,0,0,0,0,0,0,ucost.prison.escort,ucost.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦           ¦   ¦   ¦   ¦   ¦   ¦           ¦       ¦       ¦   ¦--completed TPT                                                                 ,soc.prop.completing.tpt,cost.tpt.complete,0,0,0,0,0,0,0,0,0,0,TPT.visits*(ucost.prison.escort),durTPT*(ucost.ltbi.drugs),TPT.visits*(ucost.tpt.opd.visit),durTPT*(ucost.dots),0,0,0,cost.tpt.complete,0,0,cost.tpt.complete,0,0,0,0,0,0,0,(TPT.visits*ucost.prison.escort + durTPT*ucost.dots),(durTPT*ucost.ltbi.drugs+ TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,1
     ¦   ¦   ¦               ¦           ¦   ¦   ¦   ¦   ¦   ¦           ¦       ¦       ¦   °--did not complete TPT                                                          ,1-soc.prop.completing.tpt,cost.tpt.incomplete,0,0,0,0,0,0,0,0,0,0,IncompDurTPT / durTPT * TPT.visits*ucost.prison.escort,IncompDurTPT*ucost.ltbi.drugs,IncompDurTPT / durTPT * TPT.visits*ucost.tpt.opd.visit,IncompDurTPT*ucost.dots,0,0,0,cost.tpt.incomplete,0,0,0,cost.tpt.incomplete,0,0,0,0,0,0,(IncompDurTPT/durTPT*TPT.visits*ucost.prison.escort + IncompDurTPT*ucost.dots),(IncompDurTPT*ucost.ltbi.drugs + IncompDurTPT/durTPT*TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1
     ¦   ¦   ¦               ¦           ¦   ¦   ¦   ¦   ¦   ¦           ¦       ¦       °--does not get TPT                                                                  ,1-soc.prop.starting.tpt,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦               ¦           ¦   ¦   ¦   ¦   ¦   ¦           ¦       °--Did not attend TPT referral                                                               ,1-soc.prop.attend.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦               ¦           ¦   ¦   ¦   ¦   ¦   ¦           °--Early removal scheme or deportation                                                               ,1-soc.prop.staying.<3months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦               ¦           ¦   ¦   ¦   ¦   ¦   °--Did not attend TB referral                                                                                    ,1-soc.prop.attend.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦               ¦           ¦   ¦   ¦   ¦   °--Not referred to NHS TB service                                                                                    ,1-nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦               ¦           ¦   ¦   ¦   °--Normal chest x-ray                                                                                                    ,1-soc.prop.abnormal.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦           ¦   ¦   ¦       ¦--In prison/IRC for >3 months                                                                                       ,soc.prop.staying.3+months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦           ¦   ¦   ¦       ¦   °--Refer for treatment                                                                                           ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦           ¦   ¦   ¦       ¦       ¦--Attended TPT referral                                                                                     ,soc.prop.attend.nhs.referral,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.attending.nhs.tb.service,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,ucost.prison.escort ,ucost.nhs.tb.service,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦           ¦   ¦   ¦       ¦       ¦   °--TPT outcomes                                                                                          ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦           ¦   ¦   ¦       ¦       ¦       ¦--gets TPT                                                                                          ,soc.prop.starting.tpt,cost.tpt.initiation,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.tpt.initiation,0,cost.tpt.initiation,0,0,0,0,0,0,0,0,ucost.prison.escort,ucost.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦           ¦   ¦   ¦       ¦       ¦       ¦   ¦--completed TPT                                                                                 ,soc.prop.completing.tpt,cost.tpt.complete,0,0,0,0,0,0,0,0,0,0,TPT.visits*(ucost.prison.escort),durTPT*(ucost.ltbi.drugs),TPT.visits*(ucost.tpt.opd.visit),durTPT*(ucost.dots),0,0,0,cost.tpt.complete,0,0,cost.tpt.complete,0,0,0,0,0,0,0,(TPT.visits*ucost.prison.escort + durTPT*ucost.dots),(durTPT*ucost.ltbi.drugs+ TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,1
     ¦   ¦   ¦               ¦           ¦   ¦   ¦       ¦       ¦       ¦   °--did not complete TPT                                                                          ,1-soc.prop.completing.tpt,cost.tpt.incomplete,0,0,0,0,0,0,0,0,0,0,IncompDurTPT / durTPT * TPT.visits*ucost.prison.escort,IncompDurTPT*ucost.ltbi.drugs,IncompDurTPT / durTPT * TPT.visits*ucost.tpt.opd.visit,IncompDurTPT*ucost.dots,0,0,0,cost.tpt.incomplete,0,0,0,cost.tpt.incomplete,0,0,0,0,0,0,(IncompDurTPT/durTPT*TPT.visits*ucost.prison.escort + IncompDurTPT*ucost.dots),(IncompDurTPT*ucost.ltbi.drugs + IncompDurTPT/durTPT*TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1
     ¦   ¦   ¦               ¦           ¦   ¦   ¦       ¦       ¦       °--does not get TPT                                                                                  ,1-soc.prop.starting.tpt,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦               ¦           ¦   ¦   ¦       ¦       °--Did not attend TPT referral                                                                               ,1-soc.prop.attend.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦               ¦           ¦   ¦   ¦       °--In prison/IRC for <3 months                                                                                       ,1-soc.prop.staying.3+months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦           ¦   ¦   ¦           ¦--Remaining in the UK (community or other prison/IRC)                                                           ,soc.prop.staying.<3months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦           ¦   ¦   ¦           ¦   °--Refer for treatment and forward details to receiving prison/community TB nurse                            ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦           ¦   ¦   ¦           ¦       ¦--Attended TPT referral                                                                                 ,soc.prop.attend.nhs.referral,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.attending.nhs.tb.service,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,ucost.prison.escort ,ucost.nhs.tb.service,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦           ¦   ¦   ¦           ¦       ¦   °--TPT outcomes                                                                                      ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦           ¦   ¦   ¦           ¦       ¦       ¦--gets TPT                                                                                      ,soc.prop.starting.tpt,cost.tpt.initiation,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.tpt.initiation,0,cost.tpt.initiation,0,0,0,0,0,0,0,0,ucost.prison.escort,ucost.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦           ¦   ¦   ¦           ¦       ¦       ¦   ¦--completed TPT                                                                             ,soc.prop.completing.tpt,cost.tpt.complete,0,0,0,0,0,0,0,0,0,0,TPT.visits*(ucost.prison.escort),durTPT*(ucost.ltbi.drugs),TPT.visits*(ucost.tpt.opd.visit),durTPT*(ucost.dots),0,0,0,cost.tpt.complete,0,0,cost.tpt.complete,0,0,0,0,0,0,0,(TPT.visits*ucost.prison.escort + durTPT*ucost.dots),(durTPT*ucost.ltbi.drugs+ TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,1
     ¦   ¦   ¦               ¦           ¦   ¦   ¦           ¦       ¦       ¦   °--did not complete TPT                                                                      ,1-soc.prop.completing.tpt,cost.tpt.incomplete,0,0,0,0,0,0,0,0,0,0,IncompDurTPT / durTPT * TPT.visits*ucost.prison.escort,IncompDurTPT*ucost.ltbi.drugs,IncompDurTPT / durTPT * TPT.visits*ucost.tpt.opd.visit,IncompDurTPT*ucost.dots,0,0,0,cost.tpt.incomplete,0,0,0,cost.tpt.incomplete,0,0,0,0,0,0,(IncompDurTPT/durTPT*TPT.visits*ucost.prison.escort + IncompDurTPT*ucost.dots),(IncompDurTPT*ucost.ltbi.drugs + IncompDurTPT/durTPT*TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1
     ¦   ¦   ¦               ¦           ¦   ¦   ¦           ¦       ¦       °--does not get TPT                                                                              ,1-soc.prop.starting.tpt,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦               ¦           ¦   ¦   ¦           ¦       °--Did not attend TPT referral                                                                           ,1-soc.prop.attend.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦               ¦           ¦   ¦   ¦           °--Early removal scheme or deportation                                                                           ,1-soc.prop.staying.<3months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦               ¦           ¦   ¦   °--No previous chest x-ray                                                                                                   ,1-soc.prop.prev.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦           ¦   ¦       ¦--Chest x-ray                                                                                                           ,soc.prop.xray,cost.chest.xray,0,cost.chest.xray,0,ucost.chest.xray,0,0,ucost.prison.escort,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,ucost.chest.xray,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦           ¦   ¦       ¦   ¦--Abornomal chest x-ray                                                                                             ,soc.prop.abnormal.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦           ¦   ¦       ¦   ¦   ¦--Referred to NHS TB service                                                                                    ,nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦           ¦   ¦       ¦   ¦   ¦   ¦--Attended TB referral                                                                                      ,soc.prop.attend.nhs.referral,cost.tb.evaluation,0,cost.tb.evaluation,0,0,0,cost.nhs.tb.service,0,ucost.prison.escort,cost.tb.investigations,0,0,0,0,0,0,0,cost.tb.evaluation,0,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort ,ucost.nhs.tb.service + ucost.tb.investigations,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦           ¦   ¦       ¦   ¦   ¦   ¦   ¦--TB                                                                                                    ,soc.prop.abn.xray.tb.dx,cost.contact.management,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,cost.contact.management,smear.positive * (cost.prison.isolation),0,0,0,smear.positive * (nContacts * ucost.contact.tracing),cost.contact.management,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0
     ¦   ¦   ¦               ¦           ¦   ¦       ¦   ¦   ¦   ¦   ¦   °--TB outcomes                                                                                       ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦           ¦   ¦       ¦   ¦   ¦   ¦   ¦       ¦--ATT                                                                                           ,soc.prop.starting.att,cost.att.initiation,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,0,0,0,0,0,cost.att.initiation,0,cost.att.initiation,0,0,0,ucost.prison.escort,ucost.nhs.tb.service ,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0
     ¦   ¦   ¦               ¦           ¦   ¦       ¦   ¦   ¦   ¦   ¦       ¦   ¦--completed ATT                                                                             ,soc.prop.completing.att,cost.att.complete,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort * (pDSTB * dstb.visits + (1 - pDSTB) * mdrtb.visits) ,pDSTB * DurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * DurMDRTB * ucost.mdratt.drugs,pDSTB * dstb.visits*ucost.dstb.opd.visit + (1 - pDSTB) * mdrtb.visits * ucost.mdrtb.opd.visit,ucost.dots * (pDSTB * DurDSTB + (1 - pDSTB) * DurMDRTB),(pDSTB * smear.positive * DurDSTBIsolation * ucost.dstb.ipd +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * ucost.mdrtb.ipd + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * ucost.mdrtb.ipd),ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation),0,0,0,0,0,0,cost.att.complete,0,0,cost.att.complete,0,0,(ucost.prison.escort * (pDSTB * dstb.visits + (1 - pDSTB) * mdrtb.visits)  + ucost.dots * (pDSTB * DurDSTB + (1 - pDSTB) * DurMDRTB) + ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation)),(pDSTB * DurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * DurMDRTB * ucost.mdratt.drugs + pDSTB * dstb.visits*(ucost.dstb.opd.visit) + (1 - pDSTB) * mdrtb.visits * (ucost.mdrtb.opd.visit) + (pDSTB * smear.positive * DurDSTBIsolation * (ucost.dstb.ipd) +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * (ucost.mdrtb.ipd) + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * (ucost.mdrtb.ipd))),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,1
     ¦   ¦   ¦               ¦           ¦   ¦       ¦   ¦   ¦   ¦   ¦       ¦   °--did not complete ATT                                                                      ,1-soc.prop.completing.att,cost.att.incomplete ,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort * (IncompDurDSTB/DurDSTB*pDSTB * dstb.visits + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits),pDSTB  * IncompDurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * IncompDurMDRTB  * ucost.mdratt.drugs,IncompDurDSTB / DurDSTB * pDSTB * dstb.visits*ucost.dstb.opd.visit + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits * ucost.mdrtb.opd.visit,ucost.dots * (pDSTB * IncompDurDSTB + (1 - pDSTB) * IncompDurMDRTB),(pDSTB * smear.positive * DurDSTBIsolation * ucost.dstb.ipd +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * ucost.mdrtb.ipd + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * ucost.mdrtb.ipd),ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation),0,0,0,0,0,0,cost.att.incomplete ,0,0,0,cost.att.incomplete ,0,(ucost.prison.escort * (IncompDurDSTB/DurDSTB*pDSTB * dstb.visits + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits) + ucost.dots * (pDSTB * IncompDurDSTB + (1 - pDSTB) * IncompDurMDRTB) + ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  + (1 - pDSTB) * smear.positive * DurMDRTB2Isolation+ (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation)),(pDSTB  * IncompDurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * IncompDurMDRTB * ucost.mdratt.drugs) + (IncompDurDSTB / DurDSTB * pDSTB * dstb.visits*ucost.dstb.opd.visit + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits * ucost.mdrtb.opd.visit) + ((pDSTB * smear.positive * DurDSTBIsolation * (ucost.dstb.ipd) +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * (ucost.mdrtb.ipd) +(1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * (ucost.mdrtb.ipd))),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦   ¦   ¦               ¦           ¦   ¦       ¦   ¦   ¦   ¦   ¦       °--no ATT                                                                                        ,1-soc.prop.starting.att,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦               ¦           ¦   ¦       ¦   ¦   ¦   ¦   °--Not TB                                                                                                ,1-soc.prop.abn.xray.tb.dx,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦           ¦   ¦       ¦   ¦   ¦   ¦       ¦--In prison/IRC for >3 months                                                                       ,soc.prop.staying.3+months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦           ¦   ¦       ¦   ¦   ¦   ¦       ¦   °--Refer for treatment                                                                           ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦           ¦   ¦       ¦   ¦   ¦   ¦       ¦       ¦--Attended TPT referral                                                                     ,soc.prop.attend.nhs.referral,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.attending.nhs.tb.service,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,ucost.prison.escort ,ucost.nhs.tb.service,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦           ¦   ¦       ¦   ¦   ¦   ¦       ¦       ¦   °--TPT outcomes                                                                          ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦           ¦   ¦       ¦   ¦   ¦   ¦       ¦       ¦       ¦--gets TPT                                                                          ,soc.prop.starting.tpt,cost.tpt.initiation,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.tpt.initiation,0,cost.tpt.initiation,0,0,0,0,0,0,0,0,ucost.prison.escort,ucost.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦           ¦   ¦       ¦   ¦   ¦   ¦       ¦       ¦       ¦   ¦--completed TPT                                                                 ,soc.prop.completing.tpt,cost.tpt.complete,0,0,0,0,0,0,0,0,0,0,TPT.visits*(ucost.prison.escort),durTPT*(ucost.ltbi.drugs),TPT.visits*(ucost.tpt.opd.visit),durTPT*(ucost.dots),0,0,0,cost.tpt.complete,0,0,cost.tpt.complete,0,0,0,0,0,0,0,(TPT.visits*ucost.prison.escort + durTPT*ucost.dots),(durTPT*ucost.ltbi.drugs+ TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,1
     ¦   ¦   ¦               ¦           ¦   ¦       ¦   ¦   ¦   ¦       ¦       ¦       ¦   °--did not complete TPT                                                          ,1-soc.prop.completing.tpt,cost.tpt.incomplete,0,0,0,0,0,0,0,0,0,0,IncompDurTPT / durTPT * TPT.visits*ucost.prison.escort,IncompDurTPT*ucost.ltbi.drugs,IncompDurTPT / durTPT * TPT.visits*ucost.tpt.opd.visit,IncompDurTPT*ucost.dots,0,0,0,cost.tpt.incomplete,0,0,0,cost.tpt.incomplete,0,0,0,0,0,0,(IncompDurTPT/durTPT*TPT.visits*ucost.prison.escort + IncompDurTPT*ucost.dots),(IncompDurTPT*ucost.ltbi.drugs + IncompDurTPT/durTPT*TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1
     ¦   ¦   ¦               ¦           ¦   ¦       ¦   ¦   ¦   ¦       ¦       ¦       °--does not get TPT                                                                  ,1-soc.prop.starting.tpt,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦               ¦           ¦   ¦       ¦   ¦   ¦   ¦       ¦       °--Did not attend TPT referral                                                               ,1-soc.prop.attend.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦               ¦           ¦   ¦       ¦   ¦   ¦   ¦       °--In prison/IRC for <3 months                                                                       ,1-soc.prop.staying.3+months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦           ¦   ¦       ¦   ¦   ¦   ¦           ¦--Remaining in the UK (community or other prison/IRC)                                           ,soc.prop.staying.<3months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦           ¦   ¦       ¦   ¦   ¦   ¦           ¦   °--Refer for treatment and forward details to receiving prison/community TB nurse            ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦           ¦   ¦       ¦   ¦   ¦   ¦           ¦       ¦--Attended TPT referral                                                                 ,soc.prop.attend.nhs.referral,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.attending.nhs.tb.service,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,ucost.prison.escort ,ucost.nhs.tb.service,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦           ¦   ¦       ¦   ¦   ¦   ¦           ¦       ¦   °--TPT outcomes                                                                      ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦           ¦   ¦       ¦   ¦   ¦   ¦           ¦       ¦       ¦--gets TPT                                                                      ,soc.prop.starting.tpt,cost.tpt.initiation,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.tpt.initiation,0,cost.tpt.initiation,0,0,0,0,0,0,0,0,ucost.prison.escort,ucost.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦           ¦   ¦       ¦   ¦   ¦   ¦           ¦       ¦       ¦   ¦--completed TPT                                                             ,soc.prop.completing.tpt,cost.tpt.complete,0,0,0,0,0,0,0,0,0,0,TPT.visits*(ucost.prison.escort),durTPT*(ucost.ltbi.drugs),TPT.visits*(ucost.tpt.opd.visit),durTPT*(ucost.dots),0,0,0,cost.tpt.complete,0,0,cost.tpt.complete,0,0,0,0,0,0,0,(TPT.visits*ucost.prison.escort + durTPT*ucost.dots),(durTPT*ucost.ltbi.drugs+ TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,1
     ¦   ¦   ¦               ¦           ¦   ¦       ¦   ¦   ¦   ¦           ¦       ¦       ¦   °--did not complete TPT                                                      ,1-soc.prop.completing.tpt,cost.tpt.incomplete,0,0,0,0,0,0,0,0,0,0,IncompDurTPT / durTPT * TPT.visits*ucost.prison.escort,IncompDurTPT*ucost.ltbi.drugs,IncompDurTPT / durTPT * TPT.visits*ucost.tpt.opd.visit,IncompDurTPT*ucost.dots,0,0,0,cost.tpt.incomplete,0,0,0,cost.tpt.incomplete,0,0,0,0,0,0,(IncompDurTPT/durTPT*TPT.visits*ucost.prison.escort + IncompDurTPT*ucost.dots),(IncompDurTPT*ucost.ltbi.drugs + IncompDurTPT/durTPT*TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1
     ¦   ¦   ¦               ¦           ¦   ¦       ¦   ¦   ¦   ¦           ¦       ¦       °--does not get TPT                                                              ,1-soc.prop.starting.tpt,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦               ¦           ¦   ¦       ¦   ¦   ¦   ¦           ¦       °--Did not attend TPT referral                                                           ,1-soc.prop.attend.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦               ¦           ¦   ¦       ¦   ¦   ¦   ¦           °--Early removal scheme or deportation                                                           ,1-soc.prop.staying.<3months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦               ¦           ¦   ¦       ¦   ¦   ¦   °--Did not attend TB referral                                                                                ,1-soc.prop.attend.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦               ¦           ¦   ¦       ¦   ¦   °--Not referred to NHS TB service                                                                                ,1-nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦               ¦           ¦   ¦       ¦   °--Normal chest x-ray                                                                                                ,1-soc.prop.abnormal.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦           ¦   ¦       ¦       ¦--In prison/IRC for >3 months                                                                                   ,soc.prop.staying.3+months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦           ¦   ¦       ¦       ¦   °--Refer for treatment                                                                                       ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦           ¦   ¦       ¦       ¦       ¦--Attended TPT referral                                                                                 ,soc.prop.attend.nhs.referral,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.attending.nhs.tb.service,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,ucost.prison.escort ,ucost.nhs.tb.service,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦           ¦   ¦       ¦       ¦       ¦   °--TPT outcomes                                                                                      ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦           ¦   ¦       ¦       ¦       ¦       ¦--gets TPT                                                                                      ,soc.prop.starting.tpt,cost.tpt.initiation,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.tpt.initiation,0,cost.tpt.initiation,0,0,0,0,0,0,0,0,ucost.prison.escort,ucost.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦           ¦   ¦       ¦       ¦       ¦       ¦   ¦--completed TPT                                                                             ,soc.prop.completing.tpt,cost.tpt.complete,0,0,0,0,0,0,0,0,0,0,TPT.visits*(ucost.prison.escort),durTPT*(ucost.ltbi.drugs),TPT.visits*(ucost.tpt.opd.visit),durTPT*(ucost.dots),0,0,0,cost.tpt.complete,0,0,cost.tpt.complete,0,0,0,0,0,0,0,(TPT.visits*ucost.prison.escort + durTPT*ucost.dots),(durTPT*ucost.ltbi.drugs+ TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,1
     ¦   ¦   ¦               ¦           ¦   ¦       ¦       ¦       ¦       ¦   °--did not complete TPT                                                                      ,1-soc.prop.completing.tpt,cost.tpt.incomplete,0,0,0,0,0,0,0,0,0,0,IncompDurTPT / durTPT * TPT.visits*ucost.prison.escort,IncompDurTPT*ucost.ltbi.drugs,IncompDurTPT / durTPT * TPT.visits*ucost.tpt.opd.visit,IncompDurTPT*ucost.dots,0,0,0,cost.tpt.incomplete,0,0,0,cost.tpt.incomplete,0,0,0,0,0,0,(IncompDurTPT/durTPT*TPT.visits*ucost.prison.escort + IncompDurTPT*ucost.dots),(IncompDurTPT*ucost.ltbi.drugs + IncompDurTPT/durTPT*TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1
     ¦   ¦   ¦               ¦           ¦   ¦       ¦       ¦       ¦       °--does not get TPT                                                                              ,1-soc.prop.starting.tpt,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦               ¦           ¦   ¦       ¦       ¦       °--Did not attend TPT referral                                                                           ,1-soc.prop.attend.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦               ¦           ¦   ¦       ¦       °--In prison/IRC for <3 months                                                                                   ,1-soc.prop.staying.3+months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦           ¦   ¦       ¦           ¦--Remaining in the UK (community or other prison/IRC)                                                       ,soc.prop.staying.<3months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦           ¦   ¦       ¦           ¦   °--Refer for treatment and forward details to receiving prison/community TB nurse                        ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦           ¦   ¦       ¦           ¦       ¦--Attended TPT referral                                                                             ,soc.prop.attend.nhs.referral,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.attending.nhs.tb.service,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,ucost.prison.escort ,ucost.nhs.tb.service,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦           ¦   ¦       ¦           ¦       ¦   °--TPT outcomes                                                                                  ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦           ¦   ¦       ¦           ¦       ¦       ¦--gets TPT                                                                                  ,soc.prop.starting.tpt,cost.tpt.initiation,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.tpt.initiation,0,cost.tpt.initiation,0,0,0,0,0,0,0,0,ucost.prison.escort,ucost.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦           ¦   ¦       ¦           ¦       ¦       ¦   ¦--completed TPT                                                                         ,soc.prop.completing.tpt,cost.tpt.complete,0,0,0,0,0,0,0,0,0,0,TPT.visits*(ucost.prison.escort),durTPT*(ucost.ltbi.drugs),TPT.visits*(ucost.tpt.opd.visit),durTPT*(ucost.dots),0,0,0,cost.tpt.complete,0,0,cost.tpt.complete,0,0,0,0,0,0,0,(TPT.visits*ucost.prison.escort + durTPT*ucost.dots),(durTPT*ucost.ltbi.drugs+ TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,1
     ¦   ¦   ¦               ¦           ¦   ¦       ¦           ¦       ¦       ¦   °--did not complete TPT                                                                  ,1-soc.prop.completing.tpt,cost.tpt.incomplete,0,0,0,0,0,0,0,0,0,0,IncompDurTPT / durTPT * TPT.visits*ucost.prison.escort,IncompDurTPT*ucost.ltbi.drugs,IncompDurTPT / durTPT * TPT.visits*ucost.tpt.opd.visit,IncompDurTPT*ucost.dots,0,0,0,cost.tpt.incomplete,0,0,0,cost.tpt.incomplete,0,0,0,0,0,0,(IncompDurTPT/durTPT*TPT.visits*ucost.prison.escort + IncompDurTPT*ucost.dots),(IncompDurTPT*ucost.ltbi.drugs + IncompDurTPT/durTPT*TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1
     ¦   ¦   ¦               ¦           ¦   ¦       ¦           ¦       ¦       °--does not get TPT                                                                          ,1-soc.prop.starting.tpt,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦               ¦           ¦   ¦       ¦           ¦       °--Did not attend TPT referral                                                                       ,1-soc.prop.attend.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦               ¦           ¦   ¦       ¦           °--Early removal scheme or deportation                                                                       ,1-soc.prop.staying.<3months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦               ¦           ¦   ¦       °--No chest x-ray                                                                                                        ,1-soc.prop.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦           ¦   ¦           ¦--Referred to NHS TB service                                                                                        ,nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦           ¦   ¦           ¦   ¦--Attended TB referral                                                                                          ,soc.prop.attend.nhs.referral,cost.tb.evaluation,0,cost.tb.evaluation,0,0,0,cost.nhs.tb.service,0,ucost.prison.escort,cost.tb.investigations,0,0,0,0,0,0,0,cost.tb.evaluation,0,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort ,ucost.nhs.tb.service + ucost.tb.investigations,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦           ¦   ¦           ¦   ¦   ¦--TB                                                                                                        ,soc.prop.no.xray.tb.dx,cost.contact.management,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,cost.contact.management,smear.positive * (cost.prison.isolation),0,0,0,smear.positive * (nContacts * ucost.contact.tracing),cost.contact.management,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0
     ¦   ¦   ¦               ¦           ¦   ¦           ¦   ¦   ¦   °--TB outcomes                                                                                           ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦           ¦   ¦           ¦   ¦   ¦       ¦--ATT                                                                                               ,soc.prop.starting.att,cost.att.initiation,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,0,0,0,0,0,cost.att.initiation,0,cost.att.initiation,0,0,0,ucost.prison.escort,ucost.nhs.tb.service ,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0
     ¦   ¦   ¦               ¦           ¦   ¦           ¦   ¦   ¦       ¦   ¦--completed ATT                                                                                 ,soc.prop.completing.att,cost.att.complete,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort * (pDSTB * dstb.visits + (1 - pDSTB) * mdrtb.visits) ,pDSTB * DurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * DurMDRTB * ucost.mdratt.drugs,pDSTB * dstb.visits*ucost.dstb.opd.visit + (1 - pDSTB) * mdrtb.visits * ucost.mdrtb.opd.visit,ucost.dots * (pDSTB * DurDSTB + (1 - pDSTB) * DurMDRTB),(pDSTB * smear.positive * DurDSTBIsolation * ucost.dstb.ipd +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * ucost.mdrtb.ipd + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * ucost.mdrtb.ipd),ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation),0,0,0,0,0,0,cost.att.complete,0,0,cost.att.complete,0,0,(ucost.prison.escort * (pDSTB * dstb.visits + (1 - pDSTB) * mdrtb.visits)  + ucost.dots * (pDSTB * DurDSTB + (1 - pDSTB) * DurMDRTB) + ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation)),(pDSTB * DurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * DurMDRTB * ucost.mdratt.drugs + pDSTB * dstb.visits*(ucost.dstb.opd.visit) + (1 - pDSTB) * mdrtb.visits * (ucost.mdrtb.opd.visit) + (pDSTB * smear.positive * DurDSTBIsolation * (ucost.dstb.ipd) +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * (ucost.mdrtb.ipd) + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * (ucost.mdrtb.ipd))),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,1
     ¦   ¦   ¦               ¦           ¦   ¦           ¦   ¦   ¦       ¦   °--did not complete ATT                                                                          ,1-soc.prop.completing.att,cost.att.incomplete ,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort * (IncompDurDSTB/DurDSTB*pDSTB * dstb.visits + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits),pDSTB  * IncompDurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * IncompDurMDRTB  * ucost.mdratt.drugs,IncompDurDSTB / DurDSTB * pDSTB * dstb.visits*ucost.dstb.opd.visit + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits * ucost.mdrtb.opd.visit,ucost.dots * (pDSTB * IncompDurDSTB + (1 - pDSTB) * IncompDurMDRTB),(pDSTB * smear.positive * DurDSTBIsolation * ucost.dstb.ipd +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * ucost.mdrtb.ipd + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * ucost.mdrtb.ipd),ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation),0,0,0,0,0,0,cost.att.incomplete ,0,0,0,cost.att.incomplete ,0,(ucost.prison.escort * (IncompDurDSTB/DurDSTB*pDSTB * dstb.visits + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits) + ucost.dots * (pDSTB * IncompDurDSTB + (1 - pDSTB) * IncompDurMDRTB) + ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  + (1 - pDSTB) * smear.positive * DurMDRTB2Isolation+ (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation)),(pDSTB  * IncompDurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * IncompDurMDRTB * ucost.mdratt.drugs) + (IncompDurDSTB / DurDSTB * pDSTB * dstb.visits*ucost.dstb.opd.visit + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits * ucost.mdrtb.opd.visit) + ((pDSTB * smear.positive * DurDSTBIsolation * (ucost.dstb.ipd) +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * (ucost.mdrtb.ipd) +(1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * (ucost.mdrtb.ipd))),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦   ¦   ¦               ¦           ¦   ¦           ¦   ¦   ¦       °--no ATT                                                                                            ,1-soc.prop.starting.att,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦               ¦           ¦   ¦           ¦   ¦   °--Not TB                                                                                                    ,1-soc.prop.no.xray.tb.dx,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦           ¦   ¦           ¦   ¦       ¦--In prison/IRC for >3 months                                                                           ,soc.prop.staying.3+months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦           ¦   ¦           ¦   ¦       ¦   °--Refer for treatment                                                                               ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦           ¦   ¦           ¦   ¦       ¦       ¦--Attended TPT referral                                                                         ,soc.prop.attend.nhs.referral,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.attending.nhs.tb.service,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,ucost.prison.escort ,ucost.nhs.tb.service,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦           ¦   ¦           ¦   ¦       ¦       ¦   °--TPT outcomes                                                                              ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦           ¦   ¦           ¦   ¦       ¦       ¦       ¦--gets TPT                                                                              ,soc.prop.starting.tpt,cost.tpt.initiation,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.tpt.initiation,0,cost.tpt.initiation,0,0,0,0,0,0,0,0,ucost.prison.escort,ucost.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦           ¦   ¦           ¦   ¦       ¦       ¦       ¦   ¦--completed TPT                                                                     ,soc.prop.completing.tpt,cost.tpt.complete,0,0,0,0,0,0,0,0,0,0,TPT.visits*(ucost.prison.escort),durTPT*(ucost.ltbi.drugs),TPT.visits*(ucost.tpt.opd.visit),durTPT*(ucost.dots),0,0,0,cost.tpt.complete,0,0,cost.tpt.complete,0,0,0,0,0,0,0,(TPT.visits*ucost.prison.escort + durTPT*ucost.dots),(durTPT*ucost.ltbi.drugs+ TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,1
     ¦   ¦   ¦               ¦           ¦   ¦           ¦   ¦       ¦       ¦       ¦   °--did not complete TPT                                                              ,1-soc.prop.completing.tpt,cost.tpt.incomplete,0,0,0,0,0,0,0,0,0,0,IncompDurTPT / durTPT * TPT.visits*ucost.prison.escort,IncompDurTPT*ucost.ltbi.drugs,IncompDurTPT / durTPT * TPT.visits*ucost.tpt.opd.visit,IncompDurTPT*ucost.dots,0,0,0,cost.tpt.incomplete,0,0,0,cost.tpt.incomplete,0,0,0,0,0,0,(IncompDurTPT/durTPT*TPT.visits*ucost.prison.escort + IncompDurTPT*ucost.dots),(IncompDurTPT*ucost.ltbi.drugs + IncompDurTPT/durTPT*TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1
     ¦   ¦   ¦               ¦           ¦   ¦           ¦   ¦       ¦       ¦       °--does not get TPT                                                                      ,1-soc.prop.starting.tpt,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦               ¦           ¦   ¦           ¦   ¦       ¦       °--Did not attend TPT referral                                                                   ,1-soc.prop.attend.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦               ¦           ¦   ¦           ¦   ¦       °--In prison/IRC for <3 months                                                                           ,1-soc.prop.staying.3+months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦           ¦   ¦           ¦   ¦           ¦--Remaining in the UK (community or other prison/IRC)                                               ,soc.prop.staying.<3months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦           ¦   ¦           ¦   ¦           ¦   °--Refer for treatment and forward details to receiving prison/community TB nurse                ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦           ¦   ¦           ¦   ¦           ¦       ¦--Attended TPT referral                                                                     ,soc.prop.attend.nhs.referral,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.attending.nhs.tb.service,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,ucost.prison.escort ,ucost.nhs.tb.service,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦           ¦   ¦           ¦   ¦           ¦       ¦   °--TPT outcomes                                                                          ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦           ¦   ¦           ¦   ¦           ¦       ¦       ¦--gets TPT                                                                          ,soc.prop.starting.tpt,cost.tpt.initiation,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.tpt.initiation,0,cost.tpt.initiation,0,0,0,0,0,0,0,0,ucost.prison.escort,ucost.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0
     ¦   ¦   ¦               ¦           ¦   ¦           ¦   ¦           ¦       ¦       ¦   ¦--completed TPT                                                                 ,soc.prop.completing.tpt,cost.tpt.complete,0,0,0,0,0,0,0,0,0,0,TPT.visits*(ucost.prison.escort),durTPT*(ucost.ltbi.drugs),TPT.visits*(ucost.tpt.opd.visit),durTPT*(ucost.dots),0,0,0,cost.tpt.complete,0,0,cost.tpt.complete,0,0,0,0,0,0,0,(TPT.visits*ucost.prison.escort + durTPT*ucost.dots),(durTPT*ucost.ltbi.drugs+ TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,1
     ¦   ¦   ¦               ¦           ¦   ¦           ¦   ¦           ¦       ¦       ¦   °--did not complete TPT                                                          ,1-soc.prop.completing.tpt,cost.tpt.incomplete,0,0,0,0,0,0,0,0,0,0,IncompDurTPT / durTPT * TPT.visits*ucost.prison.escort,IncompDurTPT*ucost.ltbi.drugs,IncompDurTPT / durTPT * TPT.visits*ucost.tpt.opd.visit,IncompDurTPT*ucost.dots,0,0,0,cost.tpt.incomplete,0,0,0,cost.tpt.incomplete,0,0,0,0,0,0,(IncompDurTPT/durTPT*TPT.visits*ucost.prison.escort + IncompDurTPT*ucost.dots),(IncompDurTPT*ucost.ltbi.drugs + IncompDurTPT/durTPT*TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1
     ¦   ¦   ¦               ¦           ¦   ¦           ¦   ¦           ¦       ¦       °--does not get TPT                                                                  ,1-soc.prop.starting.tpt,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦               ¦           ¦   ¦           ¦   ¦           ¦       °--Did not attend TPT referral                                                               ,1-soc.prop.attend.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦               ¦           ¦   ¦           ¦   ¦           °--Early removal scheme or deportation                                                               ,1-soc.prop.staying.<3months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦               ¦           ¦   ¦           ¦   °--Did not attend TB referral                                                                                    ,1-soc.prop.attend.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦               ¦           ¦   ¦           °--Not referred to NHS TB service                                                                                    ,1-nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦               ¦           ¦   °--IGRA test -                                                                                                                   ,1-soc.prop.igra.test.positive,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦               ¦           °--no IGRA test                                                                                                                      ,1-soc.prop.igra.tested,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦               °--No chest x-ray                                                                                                                                ,1-soc.prop.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦                   °--LTBI pathway                                                                                                                              ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦                       ¦--IGRA test                                                                                                                             ,soc.prop.igra.tested,cost.igra.test,0,0,0,0,0,0,0,0,0,cost.igra.test,0,0,0,0,0,0,0,cost.igra.test,0,0,0,0,0,0,0,0,0,0,0,ucost.igra.test,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦                       ¦   ¦--IGRA test +                                                                                                                       ,soc.prop.igra.test.positive,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦                       ¦   ¦   ¦--Previous chest x-ray                                                                                                          ,soc.prop.prev.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦                       ¦   ¦   ¦   ¦--Abornomal chest x-ray                                                                                                     ,soc.prop.abnormal.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦                       ¦   ¦   ¦   ¦   ¦--Referred to NHS TB service                                                                                            ,nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦                       ¦   ¦   ¦   ¦   ¦   ¦--Attended TB referral                                                                                              ,soc.prop.attend.nhs.referral,cost.tb.evaluation,0,cost.tb.evaluation,0,0,0,cost.nhs.tb.service,0,ucost.prison.escort,cost.tb.investigations,0,0,0,0,0,0,0,cost.tb.evaluation,0,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort ,ucost.nhs.tb.service + ucost.tb.investigations,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦                       ¦   ¦   ¦   ¦   ¦   ¦   ¦--TB                                                                                                            ,soc.prop.abn.xray.tb.dx,cost.contact.management,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,cost.contact.management,smear.positive * (cost.prison.isolation),0,0,0,smear.positive * (nContacts * ucost.contact.tracing),cost.contact.management,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0
     ¦   ¦   ¦                       ¦   ¦   ¦   ¦   ¦   ¦   ¦   °--TB outcomes                                                                                               ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦                       ¦   ¦   ¦   ¦   ¦   ¦   ¦       ¦--ATT                                                                                                   ,soc.prop.starting.att,cost.att.initiation,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,0,0,0,0,0,cost.att.initiation,0,cost.att.initiation,0,0,0,ucost.prison.escort,ucost.nhs.tb.service ,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0
     ¦   ¦   ¦                       ¦   ¦   ¦   ¦   ¦   ¦   ¦       ¦   ¦--completed ATT                                                                                     ,soc.prop.completing.att,cost.att.complete,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort * (pDSTB * dstb.visits + (1 - pDSTB) * mdrtb.visits) ,pDSTB * DurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * DurMDRTB * ucost.mdratt.drugs,pDSTB * dstb.visits*ucost.dstb.opd.visit + (1 - pDSTB) * mdrtb.visits * ucost.mdrtb.opd.visit,ucost.dots * (pDSTB * DurDSTB + (1 - pDSTB) * DurMDRTB),(pDSTB * smear.positive * DurDSTBIsolation * ucost.dstb.ipd +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * ucost.mdrtb.ipd + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * ucost.mdrtb.ipd),ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation),0,0,0,0,0,0,cost.att.complete,0,0,cost.att.complete,0,0,(ucost.prison.escort * (pDSTB * dstb.visits + (1 - pDSTB) * mdrtb.visits)  + ucost.dots * (pDSTB * DurDSTB + (1 - pDSTB) * DurMDRTB) + ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation)),(pDSTB * DurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * DurMDRTB * ucost.mdratt.drugs + pDSTB * dstb.visits*(ucost.dstb.opd.visit) + (1 - pDSTB) * mdrtb.visits * (ucost.mdrtb.opd.visit) + (pDSTB * smear.positive * DurDSTBIsolation * (ucost.dstb.ipd) +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * (ucost.mdrtb.ipd) + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * (ucost.mdrtb.ipd))),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,1
     ¦   ¦   ¦                       ¦   ¦   ¦   ¦   ¦   ¦   ¦       ¦   °--did not complete ATT                                                                              ,1-soc.prop.completing.att,cost.att.incomplete ,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort * (IncompDurDSTB/DurDSTB*pDSTB * dstb.visits + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits),pDSTB  * IncompDurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * IncompDurMDRTB  * ucost.mdratt.drugs,IncompDurDSTB / DurDSTB * pDSTB * dstb.visits*ucost.dstb.opd.visit + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits * ucost.mdrtb.opd.visit,ucost.dots * (pDSTB * IncompDurDSTB + (1 - pDSTB) * IncompDurMDRTB),(pDSTB * smear.positive * DurDSTBIsolation * ucost.dstb.ipd +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * ucost.mdrtb.ipd + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * ucost.mdrtb.ipd),ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation),0,0,0,0,0,0,cost.att.incomplete ,0,0,0,cost.att.incomplete ,0,(ucost.prison.escort * (IncompDurDSTB/DurDSTB*pDSTB * dstb.visits + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits) + ucost.dots * (pDSTB * IncompDurDSTB + (1 - pDSTB) * IncompDurMDRTB) + ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  + (1 - pDSTB) * smear.positive * DurMDRTB2Isolation+ (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation)),(pDSTB  * IncompDurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * IncompDurMDRTB * ucost.mdratt.drugs) + (IncompDurDSTB / DurDSTB * pDSTB * dstb.visits*ucost.dstb.opd.visit + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits * ucost.mdrtb.opd.visit) + ((pDSTB * smear.positive * DurDSTBIsolation * (ucost.dstb.ipd) +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * (ucost.mdrtb.ipd) +(1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * (ucost.mdrtb.ipd))),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦   ¦   ¦                       ¦   ¦   ¦   ¦   ¦   ¦   ¦       °--no ATT                                                                                                ,1-soc.prop.starting.att,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦                       ¦   ¦   ¦   ¦   ¦   ¦   °--Not TB                                                                                                        ,1-soc.prop.abn.xray.tb.dx,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦                       ¦   ¦   ¦   ¦   ¦   ¦       ¦--In prison/IRC for >3 months                                                                               ,soc.prop.staying.3+months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦                       ¦   ¦   ¦   ¦   ¦   ¦       ¦   °--Refer for treatment                                                                                   ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦                       ¦   ¦   ¦   ¦   ¦   ¦       ¦       ¦--Attended TPT referral                                                                             ,soc.prop.attend.nhs.referral,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.attending.nhs.tb.service,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,ucost.prison.escort ,ucost.nhs.tb.service,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦                       ¦   ¦   ¦   ¦   ¦   ¦       ¦       ¦   °--TPT outcomes                                                                                  ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦                       ¦   ¦   ¦   ¦   ¦   ¦       ¦       ¦       ¦--gets TPT                                                                                  ,soc.prop.starting.tpt,cost.tpt.initiation,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.tpt.initiation,0,cost.tpt.initiation,0,0,0,0,0,0,0,0,ucost.prison.escort,ucost.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0
     ¦   ¦   ¦                       ¦   ¦   ¦   ¦   ¦   ¦       ¦       ¦       ¦   ¦--completed TPT                                                                         ,soc.prop.completing.tpt,cost.tpt.complete,0,0,0,0,0,0,0,0,0,0,TPT.visits*(ucost.prison.escort),durTPT*(ucost.ltbi.drugs),TPT.visits*(ucost.tpt.opd.visit),durTPT*(ucost.dots),0,0,0,cost.tpt.complete,0,0,cost.tpt.complete,0,0,0,0,0,0,0,(TPT.visits*ucost.prison.escort + durTPT*ucost.dots),(durTPT*ucost.ltbi.drugs+ TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,1
     ¦   ¦   ¦                       ¦   ¦   ¦   ¦   ¦   ¦       ¦       ¦       ¦   °--did not complete TPT                                                                  ,1-soc.prop.completing.tpt,cost.tpt.incomplete,0,0,0,0,0,0,0,0,0,0,IncompDurTPT / durTPT * TPT.visits*ucost.prison.escort,IncompDurTPT*ucost.ltbi.drugs,IncompDurTPT / durTPT * TPT.visits*ucost.tpt.opd.visit,IncompDurTPT*ucost.dots,0,0,0,cost.tpt.incomplete,0,0,0,cost.tpt.incomplete,0,0,0,0,0,0,(IncompDurTPT/durTPT*TPT.visits*ucost.prison.escort + IncompDurTPT*ucost.dots),(IncompDurTPT*ucost.ltbi.drugs + IncompDurTPT/durTPT*TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1
     ¦   ¦   ¦                       ¦   ¦   ¦   ¦   ¦   ¦       ¦       ¦       °--does not get TPT                                                                          ,1-soc.prop.starting.tpt,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦                       ¦   ¦   ¦   ¦   ¦   ¦       ¦       °--Did not attend TB referral TPT referral                                                           ,1-soc.prop.attend.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦                       ¦   ¦   ¦   ¦   ¦   ¦       °--In prison/IRC for <3 months                                                                               ,1-soc.prop.staying.3+months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦                       ¦   ¦   ¦   ¦   ¦   ¦           ¦--Remaining in the UK (community or other prison/IRC)                                                   ,soc.prop.staying.<3months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦                       ¦   ¦   ¦   ¦   ¦   ¦           ¦   °--Refer for treatment and forward details to receiving prison/community TB nurse                    ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦                       ¦   ¦   ¦   ¦   ¦   ¦           ¦       ¦--Attended TPT referral                                                                         ,soc.prop.attend.nhs.referral,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.attending.nhs.tb.service,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,ucost.prison.escort ,ucost.nhs.tb.service,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦                       ¦   ¦   ¦   ¦   ¦   ¦           ¦       ¦   °--TPT outcomes                                                                              ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦                       ¦   ¦   ¦   ¦   ¦   ¦           ¦       ¦       ¦--gets TPT                                                                              ,soc.prop.starting.tpt,cost.tpt.initiation,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.tpt.initiation,0,cost.tpt.initiation,0,0,0,0,0,0,0,0,ucost.prison.escort,ucost.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0
     ¦   ¦   ¦                       ¦   ¦   ¦   ¦   ¦   ¦           ¦       ¦       ¦   ¦--completed TPT                                                                     ,soc.prop.completing.tpt,cost.tpt.complete,0,0,0,0,0,0,0,0,0,0,TPT.visits*(ucost.prison.escort),durTPT*(ucost.ltbi.drugs),TPT.visits*(ucost.tpt.opd.visit),durTPT*(ucost.dots),0,0,0,cost.tpt.complete,0,0,cost.tpt.complete,0,0,0,0,0,0,0,(TPT.visits*ucost.prison.escort + durTPT*ucost.dots),(durTPT*ucost.ltbi.drugs+ TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,1
     ¦   ¦   ¦                       ¦   ¦   ¦   ¦   ¦   ¦           ¦       ¦       ¦   °--did not complete TPT                                                              ,1-soc.prop.completing.tpt,cost.tpt.incomplete,0,0,0,0,0,0,0,0,0,0,IncompDurTPT / durTPT * TPT.visits*ucost.prison.escort,IncompDurTPT*ucost.ltbi.drugs,IncompDurTPT / durTPT * TPT.visits*ucost.tpt.opd.visit,IncompDurTPT*ucost.dots,0,0,0,cost.tpt.incomplete,0,0,0,cost.tpt.incomplete,0,0,0,0,0,0,(IncompDurTPT/durTPT*TPT.visits*ucost.prison.escort + IncompDurTPT*ucost.dots),(IncompDurTPT*ucost.ltbi.drugs + IncompDurTPT/durTPT*TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1
     ¦   ¦   ¦                       ¦   ¦   ¦   ¦   ¦   ¦           ¦       ¦       °--does not get TPT                                                                      ,1-soc.prop.starting.tpt,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦                       ¦   ¦   ¦   ¦   ¦   ¦           ¦       °--Did not attend TPT referral                                                                   ,1-soc.prop.attend.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦                       ¦   ¦   ¦   ¦   ¦   ¦           °--Early removal scheme or deportation                                                                   ,1-soc.prop.staying.<3months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦                       ¦   ¦   ¦   ¦   ¦   °--Did not attend TB referral                                                                                        ,1-soc.prop.attend.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦                       ¦   ¦   ¦   ¦   °--Not referred to NHS TB service                                                                                        ,1-nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦                       ¦   ¦   ¦   °--Normal chest x-ray                                                                                                        ,1-soc.prop.abnormal.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦                       ¦   ¦   ¦       ¦--In prison/IRC for >3 months                                                                                           ,soc.prop.staying.3+months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦                       ¦   ¦   ¦       ¦   °--Refer for treatment                                                                                               ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦                       ¦   ¦   ¦       ¦       ¦--Attended TPT referral                                                                                         ,soc.prop.attend.nhs.referral,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.attending.nhs.tb.service,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,ucost.prison.escort ,ucost.nhs.tb.service,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦                       ¦   ¦   ¦       ¦       ¦   °--TPT outcomes                                                                                              ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦                       ¦   ¦   ¦       ¦       ¦       ¦--gets TPT                                                                                              ,soc.prop.starting.tpt,cost.tpt.initiation,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.tpt.initiation,0,cost.tpt.initiation,0,0,0,0,0,0,0,0,ucost.prison.escort,ucost.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0
     ¦   ¦   ¦                       ¦   ¦   ¦       ¦       ¦       ¦   ¦--completed TPT                                                                                     ,soc.prop.completing.tpt,cost.tpt.complete,0,0,0,0,0,0,0,0,0,0,TPT.visits*(ucost.prison.escort),durTPT*(ucost.ltbi.drugs),TPT.visits*(ucost.tpt.opd.visit),durTPT*(ucost.dots),0,0,0,cost.tpt.complete,0,0,cost.tpt.complete,0,0,0,0,0,0,0,(TPT.visits*ucost.prison.escort + durTPT*ucost.dots),(durTPT*ucost.ltbi.drugs+ TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,1
     ¦   ¦   ¦                       ¦   ¦   ¦       ¦       ¦       ¦   °--did not complete TPT                                                                              ,1-soc.prop.completing.tpt,cost.tpt.incomplete,0,0,0,0,0,0,0,0,0,0,IncompDurTPT / durTPT * TPT.visits*ucost.prison.escort,IncompDurTPT*ucost.ltbi.drugs,IncompDurTPT / durTPT * TPT.visits*ucost.tpt.opd.visit,IncompDurTPT*ucost.dots,0,0,0,cost.tpt.incomplete,0,0,0,cost.tpt.incomplete,0,0,0,0,0,0,(IncompDurTPT/durTPT*TPT.visits*ucost.prison.escort + IncompDurTPT*ucost.dots),(IncompDurTPT*ucost.ltbi.drugs + IncompDurTPT/durTPT*TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1
     ¦   ¦   ¦                       ¦   ¦   ¦       ¦       ¦       °--does not get TPT                                                                                      ,1-soc.prop.starting.tpt,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦                       ¦   ¦   ¦       ¦       °--Did not attend TPT referral                                                                                   ,1-soc.prop.attend.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦                       ¦   ¦   ¦       °--In prison/IRC for <3 months                                                                                           ,1-soc.prop.staying.3+months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦                       ¦   ¦   ¦           ¦--Remaining in the UK (community or other prison/IRC)                                                               ,soc.prop.staying.<3months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦                       ¦   ¦   ¦           ¦   °--Refer for treatment and forward details to receiving prison/community TB nurse                                ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦                       ¦   ¦   ¦           ¦       ¦--Attended TPT referral                                                                                     ,soc.prop.attend.nhs.referral,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.attending.nhs.tb.service,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,ucost.prison.escort ,ucost.nhs.tb.service,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦                       ¦   ¦   ¦           ¦       ¦   °--TPT outcomes                                                                                          ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦                       ¦   ¦   ¦           ¦       ¦       ¦--gets TPT                                                                                          ,soc.prop.starting.tpt,cost.tpt.initiation,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.tpt.initiation,0,cost.tpt.initiation,0,0,0,0,0,0,0,0,ucost.prison.escort,ucost.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0
     ¦   ¦   ¦                       ¦   ¦   ¦           ¦       ¦       ¦   ¦--completed TPT                                                                                 ,soc.prop.completing.tpt,cost.tpt.complete,0,0,0,0,0,0,0,0,0,0,TPT.visits*(ucost.prison.escort),durTPT*(ucost.ltbi.drugs),TPT.visits*(ucost.tpt.opd.visit),durTPT*(ucost.dots),0,0,0,cost.tpt.complete,0,0,cost.tpt.complete,0,0,0,0,0,0,0,(TPT.visits*ucost.prison.escort + durTPT*ucost.dots),(durTPT*ucost.ltbi.drugs+ TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,1
     ¦   ¦   ¦                       ¦   ¦   ¦           ¦       ¦       ¦   °--did not complete TPT                                                                          ,1-soc.prop.completing.tpt,cost.tpt.incomplete,0,0,0,0,0,0,0,0,0,0,IncompDurTPT / durTPT * TPT.visits*ucost.prison.escort,IncompDurTPT*ucost.ltbi.drugs,IncompDurTPT / durTPT * TPT.visits*ucost.tpt.opd.visit,IncompDurTPT*ucost.dots,0,0,0,cost.tpt.incomplete,0,0,0,cost.tpt.incomplete,0,0,0,0,0,0,(IncompDurTPT/durTPT*TPT.visits*ucost.prison.escort + IncompDurTPT*ucost.dots),(IncompDurTPT*ucost.ltbi.drugs + IncompDurTPT/durTPT*TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1
     ¦   ¦   ¦                       ¦   ¦   ¦           ¦       ¦       °--does not get TPT                                                                                  ,1-soc.prop.starting.tpt,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦                       ¦   ¦   ¦           ¦       °--Did not attend TPT referral                                                                               ,1-soc.prop.attend.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦                       ¦   ¦   ¦           °--Early removal scheme or deportation                                                                               ,1-soc.prop.staying.<3months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦                       ¦   ¦   °--No previous chest x-ray                                                                                                       ,1-soc.prop.prev.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦                       ¦   ¦       ¦--Chest x-ray                                                                                                               ,soc.prop.xray,cost.chest.xray,0,cost.chest.xray,0,ucost.chest.xray,0,0,ucost.prison.escort,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,ucost.chest.xray,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦                       ¦   ¦       ¦   ¦--Abornomal chest x-ray                                                                                                 ,soc.prop.abnormal.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦                       ¦   ¦       ¦   ¦   ¦--Referred to NHS TB service                                                                                        ,nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦                       ¦   ¦       ¦   ¦   ¦   ¦--Attended TB referral                                                                                          ,soc.prop.attend.nhs.referral,cost.tb.evaluation,0,cost.tb.evaluation,0,0,0,cost.nhs.tb.service,0,ucost.prison.escort,cost.tb.investigations,0,0,0,0,0,0,0,cost.tb.evaluation,0,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort ,ucost.nhs.tb.service + ucost.tb.investigations,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦                       ¦   ¦       ¦   ¦   ¦   ¦   ¦--TB                                                                                                        ,soc.prop.abn.xray.tb.dx,cost.contact.management,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,cost.contact.management,smear.positive * (cost.prison.isolation),0,0,0,smear.positive * (nContacts * ucost.contact.tracing),cost.contact.management,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0
     ¦   ¦   ¦                       ¦   ¦       ¦   ¦   ¦   ¦   ¦   °--TB outcomes                                                                                           ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦                       ¦   ¦       ¦   ¦   ¦   ¦   ¦       ¦--ATT                                                                                               ,soc.prop.starting.att,cost.att.initiation,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,0,0,0,0,0,cost.att.initiation,0,cost.att.initiation,0,0,0,ucost.prison.escort,ucost.nhs.tb.service ,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0
     ¦   ¦   ¦                       ¦   ¦       ¦   ¦   ¦   ¦   ¦       ¦   ¦--completed ATT                                                                                 ,soc.prop.completing.att,cost.att.complete,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort * (pDSTB * dstb.visits + (1 - pDSTB) * mdrtb.visits) ,pDSTB * DurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * DurMDRTB * ucost.mdratt.drugs,pDSTB * dstb.visits*ucost.dstb.opd.visit + (1 - pDSTB) * mdrtb.visits * ucost.mdrtb.opd.visit,ucost.dots * (pDSTB * DurDSTB + (1 - pDSTB) * DurMDRTB),(pDSTB * smear.positive * DurDSTBIsolation * ucost.dstb.ipd +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * ucost.mdrtb.ipd + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * ucost.mdrtb.ipd),ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation),0,0,0,0,0,0,cost.att.complete,0,0,cost.att.complete,0,0,(ucost.prison.escort * (pDSTB * dstb.visits + (1 - pDSTB) * mdrtb.visits)  + ucost.dots * (pDSTB * DurDSTB + (1 - pDSTB) * DurMDRTB) + ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation)),(pDSTB * DurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * DurMDRTB * ucost.mdratt.drugs + pDSTB * dstb.visits*(ucost.dstb.opd.visit) + (1 - pDSTB) * mdrtb.visits * (ucost.mdrtb.opd.visit) + (pDSTB * smear.positive * DurDSTBIsolation * (ucost.dstb.ipd) +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * (ucost.mdrtb.ipd) + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * (ucost.mdrtb.ipd))),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,1
     ¦   ¦   ¦                       ¦   ¦       ¦   ¦   ¦   ¦   ¦       ¦   °--did not complete ATT                                                                          ,1-soc.prop.completing.att,cost.att.incomplete ,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort * (IncompDurDSTB/DurDSTB*pDSTB * dstb.visits + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits),pDSTB  * IncompDurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * IncompDurMDRTB  * ucost.mdratt.drugs,IncompDurDSTB / DurDSTB * pDSTB * dstb.visits*ucost.dstb.opd.visit + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits * ucost.mdrtb.opd.visit,ucost.dots * (pDSTB * IncompDurDSTB + (1 - pDSTB) * IncompDurMDRTB),(pDSTB * smear.positive * DurDSTBIsolation * ucost.dstb.ipd +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * ucost.mdrtb.ipd + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * ucost.mdrtb.ipd),ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation),0,0,0,0,0,0,cost.att.incomplete ,0,0,0,cost.att.incomplete ,0,(ucost.prison.escort * (IncompDurDSTB/DurDSTB*pDSTB * dstb.visits + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits) + ucost.dots * (pDSTB * IncompDurDSTB + (1 - pDSTB) * IncompDurMDRTB) + ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  + (1 - pDSTB) * smear.positive * DurMDRTB2Isolation+ (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation)),(pDSTB  * IncompDurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * IncompDurMDRTB * ucost.mdratt.drugs) + (IncompDurDSTB / DurDSTB * pDSTB * dstb.visits*ucost.dstb.opd.visit + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits * ucost.mdrtb.opd.visit) + ((pDSTB * smear.positive * DurDSTBIsolation * (ucost.dstb.ipd) +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * (ucost.mdrtb.ipd) +(1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * (ucost.mdrtb.ipd))),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦   ¦   ¦                       ¦   ¦       ¦   ¦   ¦   ¦   ¦       °--no ATT                                                                                            ,1-soc.prop.starting.att,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦                       ¦   ¦       ¦   ¦   ¦   ¦   °--Not TB                                                                                                    ,1-soc.prop.abn.xray.tb.dx,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦                       ¦   ¦       ¦   ¦   ¦   ¦       ¦--In prison/IRC for >3 months                                                                           ,soc.prop.staying.3+months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦                       ¦   ¦       ¦   ¦   ¦   ¦       ¦   °--Refer for treatment                                                                               ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦                       ¦   ¦       ¦   ¦   ¦   ¦       ¦       ¦--Attended TPT referral                                                                         ,soc.prop.attend.nhs.referral,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.attending.nhs.tb.service,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,ucost.prison.escort ,ucost.nhs.tb.service,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦                       ¦   ¦       ¦   ¦   ¦   ¦       ¦       ¦   °--TPT outcomes                                                                              ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦                       ¦   ¦       ¦   ¦   ¦   ¦       ¦       ¦       ¦--gets TPT                                                                              ,soc.prop.starting.tpt,cost.tpt.initiation,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.tpt.initiation,0,cost.tpt.initiation,0,0,0,0,0,0,0,0,ucost.prison.escort,ucost.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0
     ¦   ¦   ¦                       ¦   ¦       ¦   ¦   ¦   ¦       ¦       ¦       ¦   ¦--completed TPT                                                                     ,soc.prop.completing.tpt,cost.tpt.complete,0,0,0,0,0,0,0,0,0,0,TPT.visits*(ucost.prison.escort),durTPT*(ucost.ltbi.drugs),TPT.visits*(ucost.tpt.opd.visit),durTPT*(ucost.dots),0,0,0,cost.tpt.complete,0,0,cost.tpt.complete,0,0,0,0,0,0,0,(TPT.visits*ucost.prison.escort + durTPT*ucost.dots),(durTPT*ucost.ltbi.drugs+ TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,1
     ¦   ¦   ¦                       ¦   ¦       ¦   ¦   ¦   ¦       ¦       ¦       ¦   °--did not complete TPT                                                              ,1-soc.prop.completing.tpt,cost.tpt.incomplete,0,0,0,0,0,0,0,0,0,0,IncompDurTPT / durTPT * TPT.visits*ucost.prison.escort,IncompDurTPT*ucost.ltbi.drugs,IncompDurTPT / durTPT * TPT.visits*ucost.tpt.opd.visit,IncompDurTPT*ucost.dots,0,0,0,cost.tpt.incomplete,0,0,0,cost.tpt.incomplete,0,0,0,0,0,0,(IncompDurTPT/durTPT*TPT.visits*ucost.prison.escort + IncompDurTPT*ucost.dots),(IncompDurTPT*ucost.ltbi.drugs + IncompDurTPT/durTPT*TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1
     ¦   ¦   ¦                       ¦   ¦       ¦   ¦   ¦   ¦       ¦       ¦       °--does not get TPT                                                                      ,1-soc.prop.starting.tpt,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦                       ¦   ¦       ¦   ¦   ¦   ¦       ¦       °--Did not attend TPT referral                                                                   ,1-soc.prop.attend.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦                       ¦   ¦       ¦   ¦   ¦   ¦       °--In prison/IRC for <3 months                                                                           ,1-soc.prop.staying.3+months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦                       ¦   ¦       ¦   ¦   ¦   ¦           ¦--Remaining in the UK (community or other prison/IRC)                                               ,soc.prop.staying.<3months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦                       ¦   ¦       ¦   ¦   ¦   ¦           ¦   °--Refer for treatment and forward details to receiving prison/community TB nurse                ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦                       ¦   ¦       ¦   ¦   ¦   ¦           ¦       ¦--Attended TPT referral                                                                     ,soc.prop.attend.nhs.referral,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.attending.nhs.tb.service,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,ucost.prison.escort ,ucost.nhs.tb.service,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦                       ¦   ¦       ¦   ¦   ¦   ¦           ¦       ¦   °--TPT outcomes                                                                          ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦                       ¦   ¦       ¦   ¦   ¦   ¦           ¦       ¦       ¦--gets TPT                                                                          ,soc.prop.starting.tpt,cost.tpt.initiation,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.tpt.initiation,0,cost.tpt.initiation,0,0,0,0,0,0,0,0,ucost.prison.escort,ucost.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0
     ¦   ¦   ¦                       ¦   ¦       ¦   ¦   ¦   ¦           ¦       ¦       ¦   ¦--completed TPT                                                                 ,soc.prop.completing.tpt,cost.tpt.complete,0,0,0,0,0,0,0,0,0,0,TPT.visits*(ucost.prison.escort),durTPT*(ucost.ltbi.drugs),TPT.visits*(ucost.tpt.opd.visit),durTPT*(ucost.dots),0,0,0,cost.tpt.complete,0,0,cost.tpt.complete,0,0,0,0,0,0,0,(TPT.visits*ucost.prison.escort + durTPT*ucost.dots),(durTPT*ucost.ltbi.drugs+ TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,1
     ¦   ¦   ¦                       ¦   ¦       ¦   ¦   ¦   ¦           ¦       ¦       ¦   °--did not complete TPT                                                          ,1-soc.prop.completing.tpt,cost.tpt.incomplete,0,0,0,0,0,0,0,0,0,0,IncompDurTPT / durTPT * TPT.visits*ucost.prison.escort,IncompDurTPT*ucost.ltbi.drugs,IncompDurTPT / durTPT * TPT.visits*ucost.tpt.opd.visit,IncompDurTPT*ucost.dots,0,0,0,cost.tpt.incomplete,0,0,0,cost.tpt.incomplete,0,0,0,0,0,0,(IncompDurTPT/durTPT*TPT.visits*ucost.prison.escort + IncompDurTPT*ucost.dots),(IncompDurTPT*ucost.ltbi.drugs + IncompDurTPT/durTPT*TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1
     ¦   ¦   ¦                       ¦   ¦       ¦   ¦   ¦   ¦           ¦       ¦       °--does not get TPT                                                                  ,1-soc.prop.starting.tpt,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦                       ¦   ¦       ¦   ¦   ¦   ¦           ¦       °--Did not attend TPT referral                                                               ,1-soc.prop.attend.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦                       ¦   ¦       ¦   ¦   ¦   ¦           °--Early removal scheme or deportation                                                               ,1-soc.prop.staying.<3months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦                       ¦   ¦       ¦   ¦   ¦   °--Did not attend TB referral                                                                                    ,1-soc.prop.attend.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦                       ¦   ¦       ¦   ¦   °--Not referred to NHS TB service                                                                                    ,1-nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦                       ¦   ¦       ¦   °--Normal chest x-ray                                                                                                    ,1-soc.prop.abnormal.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦                       ¦   ¦       ¦       ¦--In prison/IRC for >3 months                                                                                       ,soc.prop.staying.3+months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦                       ¦   ¦       ¦       ¦   °--Refer for treatment                                                                                           ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦                       ¦   ¦       ¦       ¦       ¦--Attended TPT referral                                                                                     ,soc.prop.attend.nhs.referral,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.attending.nhs.tb.service,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,ucost.prison.escort ,ucost.nhs.tb.service,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦                       ¦   ¦       ¦       ¦       ¦   °--TPT outcomes                                                                                          ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦                       ¦   ¦       ¦       ¦       ¦       ¦--gets TPT                                                                                          ,soc.prop.starting.tpt,cost.tpt.initiation,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.tpt.initiation,0,cost.tpt.initiation,0,0,0,0,0,0,0,0,ucost.prison.escort,ucost.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0
     ¦   ¦   ¦                       ¦   ¦       ¦       ¦       ¦       ¦   ¦--completed TPT                                                                                 ,soc.prop.completing.tpt,cost.tpt.complete,0,0,0,0,0,0,0,0,0,0,TPT.visits*(ucost.prison.escort),durTPT*(ucost.ltbi.drugs),TPT.visits*(ucost.tpt.opd.visit),durTPT*(ucost.dots),0,0,0,cost.tpt.complete,0,0,cost.tpt.complete,0,0,0,0,0,0,0,(TPT.visits*ucost.prison.escort + durTPT*ucost.dots),(durTPT*ucost.ltbi.drugs+ TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,1
     ¦   ¦   ¦                       ¦   ¦       ¦       ¦       ¦       ¦   °--did not complete TPT                                                                          ,1-soc.prop.completing.tpt,cost.tpt.incomplete,0,0,0,0,0,0,0,0,0,0,IncompDurTPT / durTPT * TPT.visits*ucost.prison.escort,IncompDurTPT*ucost.ltbi.drugs,IncompDurTPT / durTPT * TPT.visits*ucost.tpt.opd.visit,IncompDurTPT*ucost.dots,0,0,0,cost.tpt.incomplete,0,0,0,cost.tpt.incomplete,0,0,0,0,0,0,(IncompDurTPT/durTPT*TPT.visits*ucost.prison.escort + IncompDurTPT*ucost.dots),(IncompDurTPT*ucost.ltbi.drugs + IncompDurTPT/durTPT*TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1
     ¦   ¦   ¦                       ¦   ¦       ¦       ¦       ¦       °--does not get TPT                                                                                  ,1-soc.prop.starting.tpt,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦                       ¦   ¦       ¦       ¦       °--Did not attend TPT referral                                                                               ,1-soc.prop.attend.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦                       ¦   ¦       ¦       °--In prison/IRC for <3 months                                                                                       ,1-soc.prop.staying.3+months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦                       ¦   ¦       ¦           ¦--Remaining in the UK (community or other prison/IRC)                                                           ,soc.prop.staying.<3months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦                       ¦   ¦       ¦           ¦   °--Refer for treatment and forward details to receiving prison/community TB nurse                            ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦                       ¦   ¦       ¦           ¦       ¦--Attended TPT referral                                                                                 ,soc.prop.attend.nhs.referral,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.attending.nhs.tb.service,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,ucost.prison.escort ,ucost.nhs.tb.service,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦                       ¦   ¦       ¦           ¦       ¦   °--TPT outcomes                                                                                      ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦                       ¦   ¦       ¦           ¦       ¦       ¦--gets TPT                                                                                      ,soc.prop.starting.tpt,cost.tpt.initiation,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.tpt.initiation,0,cost.tpt.initiation,0,0,0,0,0,0,0,0,ucost.prison.escort,ucost.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0
     ¦   ¦   ¦                       ¦   ¦       ¦           ¦       ¦       ¦   ¦--completed TPT                                                                             ,soc.prop.completing.tpt,cost.tpt.complete,0,0,0,0,0,0,0,0,0,0,TPT.visits*(ucost.prison.escort),durTPT*(ucost.ltbi.drugs),TPT.visits*(ucost.tpt.opd.visit),durTPT*(ucost.dots),0,0,0,cost.tpt.complete,0,0,cost.tpt.complete,0,0,0,0,0,0,0,(TPT.visits*ucost.prison.escort + durTPT*ucost.dots),(durTPT*ucost.ltbi.drugs+ TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,1
     ¦   ¦   ¦                       ¦   ¦       ¦           ¦       ¦       ¦   °--did not complete TPT                                                                      ,1-soc.prop.completing.tpt,cost.tpt.incomplete,0,0,0,0,0,0,0,0,0,0,IncompDurTPT / durTPT * TPT.visits*ucost.prison.escort,IncompDurTPT*ucost.ltbi.drugs,IncompDurTPT / durTPT * TPT.visits*ucost.tpt.opd.visit,IncompDurTPT*ucost.dots,0,0,0,cost.tpt.incomplete,0,0,0,cost.tpt.incomplete,0,0,0,0,0,0,(IncompDurTPT/durTPT*TPT.visits*ucost.prison.escort + IncompDurTPT*ucost.dots),(IncompDurTPT*ucost.ltbi.drugs + IncompDurTPT/durTPT*TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1
     ¦   ¦   ¦                       ¦   ¦       ¦           ¦       ¦       °--does not get TPT                                                                              ,1-soc.prop.starting.tpt,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦                       ¦   ¦       ¦           ¦       °--Did not attend TPT referral                                                                           ,1-soc.prop.attend.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦                       ¦   ¦       ¦           °--Early removal scheme or deportation                                                                           ,1-soc.prop.staying.<3months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦                       ¦   ¦       °--No chest x-ray                                                                                                            ,1-soc.prop.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦                       ¦   ¦           ¦--Referred to NHS TB service                                                                                            ,nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦                       ¦   ¦           ¦   ¦--Attended TB referral                                                                                              ,soc.prop.attend.nhs.referral,cost.tb.evaluation,0,cost.tb.evaluation,0,0,0,cost.nhs.tb.service,0,ucost.prison.escort,cost.tb.investigations,0,0,0,0,0,0,0,cost.tb.evaluation,0,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort ,ucost.nhs.tb.service + ucost.tb.investigations,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦                       ¦   ¦           ¦   ¦   ¦--TB                                                                                                            ,soc.prop.no.xray.tb.dx,cost.contact.management,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,cost.contact.management,smear.positive * (cost.prison.isolation),0,0,0,smear.positive * (nContacts * ucost.contact.tracing),cost.contact.management,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0
     ¦   ¦   ¦                       ¦   ¦           ¦   ¦   ¦   °--TB outcomes                                                                                               ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦                       ¦   ¦           ¦   ¦   ¦       ¦--ATT                                                                                                   ,soc.prop.starting.att,cost.att.initiation,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,0,0,0,0,0,cost.att.initiation,0,cost.att.initiation,0,0,0,ucost.prison.escort,ucost.nhs.tb.service ,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0
     ¦   ¦   ¦                       ¦   ¦           ¦   ¦   ¦       ¦   ¦--completed ATT                                                                                     ,soc.prop.completing.att,cost.att.complete,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort * (pDSTB * dstb.visits + (1 - pDSTB) * mdrtb.visits) ,pDSTB * DurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * DurMDRTB * ucost.mdratt.drugs,pDSTB * dstb.visits*ucost.dstb.opd.visit + (1 - pDSTB) * mdrtb.visits * ucost.mdrtb.opd.visit,ucost.dots * (pDSTB * DurDSTB + (1 - pDSTB) * DurMDRTB),(pDSTB * smear.positive * DurDSTBIsolation * ucost.dstb.ipd +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * ucost.mdrtb.ipd + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * ucost.mdrtb.ipd),ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation),0,0,0,0,0,0,cost.att.complete,0,0,cost.att.complete,0,0,(ucost.prison.escort * (pDSTB * dstb.visits + (1 - pDSTB) * mdrtb.visits)  + ucost.dots * (pDSTB * DurDSTB + (1 - pDSTB) * DurMDRTB) + ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation)),(pDSTB * DurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * DurMDRTB * ucost.mdratt.drugs + pDSTB * dstb.visits*(ucost.dstb.opd.visit) + (1 - pDSTB) * mdrtb.visits * (ucost.mdrtb.opd.visit) + (pDSTB * smear.positive * DurDSTBIsolation * (ucost.dstb.ipd) +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * (ucost.mdrtb.ipd) + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * (ucost.mdrtb.ipd))),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,1
     ¦   ¦   ¦                       ¦   ¦           ¦   ¦   ¦       ¦   °--did not complete ATT                                                                              ,1-soc.prop.completing.att,cost.att.incomplete ,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort * (IncompDurDSTB/DurDSTB*pDSTB * dstb.visits + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits),pDSTB  * IncompDurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * IncompDurMDRTB  * ucost.mdratt.drugs,IncompDurDSTB / DurDSTB * pDSTB * dstb.visits*ucost.dstb.opd.visit + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits * ucost.mdrtb.opd.visit,ucost.dots * (pDSTB * IncompDurDSTB + (1 - pDSTB) * IncompDurMDRTB),(pDSTB * smear.positive * DurDSTBIsolation * ucost.dstb.ipd +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * ucost.mdrtb.ipd + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * ucost.mdrtb.ipd),ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation),0,0,0,0,0,0,cost.att.incomplete ,0,0,0,cost.att.incomplete ,0,(ucost.prison.escort * (IncompDurDSTB/DurDSTB*pDSTB * dstb.visits + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits) + ucost.dots * (pDSTB * IncompDurDSTB + (1 - pDSTB) * IncompDurMDRTB) + ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  + (1 - pDSTB) * smear.positive * DurMDRTB2Isolation+ (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation)),(pDSTB  * IncompDurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * IncompDurMDRTB * ucost.mdratt.drugs) + (IncompDurDSTB / DurDSTB * pDSTB * dstb.visits*ucost.dstb.opd.visit + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits * ucost.mdrtb.opd.visit) + ((pDSTB * smear.positive * DurDSTBIsolation * (ucost.dstb.ipd) +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * (ucost.mdrtb.ipd) +(1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * (ucost.mdrtb.ipd))),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦   ¦   ¦                       ¦   ¦           ¦   ¦   ¦       °--no ATT                                                                                                ,1-soc.prop.starting.att,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦                       ¦   ¦           ¦   ¦   °--Not TB                                                                                                        ,1-soc.prop.no.xray.tb.dx,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦                       ¦   ¦           ¦   ¦       ¦--In prison/IRC for >3 months                                                                               ,soc.prop.staying.3+months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦                       ¦   ¦           ¦   ¦       ¦   °--Refer for treatment                                                                                   ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦                       ¦   ¦           ¦   ¦       ¦       ¦--Attended TPT referral                                                                             ,soc.prop.attend.nhs.referral,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.attending.nhs.tb.service,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,ucost.prison.escort ,ucost.nhs.tb.service,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦                       ¦   ¦           ¦   ¦       ¦       ¦   °--TPT outcomes                                                                                  ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦                       ¦   ¦           ¦   ¦       ¦       ¦       ¦--gets TPT                                                                                  ,soc.prop.starting.tpt,cost.tpt.initiation,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.tpt.initiation,0,cost.tpt.initiation,0,0,0,0,0,0,0,0,ucost.prison.escort,ucost.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0
     ¦   ¦   ¦                       ¦   ¦           ¦   ¦       ¦       ¦       ¦   ¦--completed TPT                                                                         ,soc.prop.completing.tpt,cost.tpt.complete,0,0,0,0,0,0,0,0,0,0,TPT.visits*(ucost.prison.escort),durTPT*(ucost.ltbi.drugs),TPT.visits*(ucost.tpt.opd.visit),durTPT*(ucost.dots),0,0,0,cost.tpt.complete,0,0,cost.tpt.complete,0,0,0,0,0,0,0,(TPT.visits*ucost.prison.escort + durTPT*ucost.dots),(durTPT*ucost.ltbi.drugs+ TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,1
     ¦   ¦   ¦                       ¦   ¦           ¦   ¦       ¦       ¦       ¦   °--did not complete TPT                                                                  ,1-soc.prop.completing.tpt,cost.tpt.incomplete,0,0,0,0,0,0,0,0,0,0,IncompDurTPT / durTPT * TPT.visits*ucost.prison.escort,IncompDurTPT*ucost.ltbi.drugs,IncompDurTPT / durTPT * TPT.visits*ucost.tpt.opd.visit,IncompDurTPT*ucost.dots,0,0,0,cost.tpt.incomplete,0,0,0,cost.tpt.incomplete,0,0,0,0,0,0,(IncompDurTPT/durTPT*TPT.visits*ucost.prison.escort + IncompDurTPT*ucost.dots),(IncompDurTPT*ucost.ltbi.drugs + IncompDurTPT/durTPT*TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1
     ¦   ¦   ¦                       ¦   ¦           ¦   ¦       ¦       ¦       °--does not get TPT                                                                          ,1-soc.prop.starting.tpt,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦                       ¦   ¦           ¦   ¦       ¦       °--Did not attend TPT referral                                                                       ,1-soc.prop.attend.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦                       ¦   ¦           ¦   ¦       °--In prison/IRC for <3 months                                                                               ,1-soc.prop.staying.3+months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦                       ¦   ¦           ¦   ¦           ¦--Remaining in the UK (community or other prison/IRC)                                                   ,soc.prop.staying.<3months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦                       ¦   ¦           ¦   ¦           ¦   °--Refer for treatment and forward details to receiving prison/community TB nurse                    ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦                       ¦   ¦           ¦   ¦           ¦       ¦--Attended TPT referral                                                                         ,soc.prop.attend.nhs.referral,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.attending.nhs.tb.service,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,ucost.prison.escort ,ucost.nhs.tb.service,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦                       ¦   ¦           ¦   ¦           ¦       ¦   °--TPT outcomes                                                                              ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦   ¦                       ¦   ¦           ¦   ¦           ¦       ¦       ¦--gets TPT                                                                              ,soc.prop.starting.tpt,cost.tpt.initiation,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.tpt.initiation,0,cost.tpt.initiation,0,0,0,0,0,0,0,0,ucost.prison.escort,ucost.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0
     ¦   ¦   ¦                       ¦   ¦           ¦   ¦           ¦       ¦       ¦   ¦--completed TPT                                                                     ,soc.prop.completing.tpt,cost.tpt.complete,0,0,0,0,0,0,0,0,0,0,TPT.visits*(ucost.prison.escort),durTPT*(ucost.ltbi.drugs),TPT.visits*(ucost.tpt.opd.visit),durTPT*(ucost.dots),0,0,0,cost.tpt.complete,0,0,cost.tpt.complete,0,0,0,0,0,0,0,(TPT.visits*ucost.prison.escort + durTPT*ucost.dots),(durTPT*ucost.ltbi.drugs+ TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,1
     ¦   ¦   ¦                       ¦   ¦           ¦   ¦           ¦       ¦       ¦   °--did not complete TPT                                                              ,1-soc.prop.completing.tpt,cost.tpt.incomplete,0,0,0,0,0,0,0,0,0,0,IncompDurTPT / durTPT * TPT.visits*ucost.prison.escort,IncompDurTPT*ucost.ltbi.drugs,IncompDurTPT / durTPT * TPT.visits*ucost.tpt.opd.visit,IncompDurTPT*ucost.dots,0,0,0,cost.tpt.incomplete,0,0,0,cost.tpt.incomplete,0,0,0,0,0,0,(IncompDurTPT/durTPT*TPT.visits*ucost.prison.escort + IncompDurTPT*ucost.dots),(IncompDurTPT*ucost.ltbi.drugs + IncompDurTPT/durTPT*TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1
     ¦   ¦   ¦                       ¦   ¦           ¦   ¦           ¦       ¦       °--does not get TPT                                                                      ,1-soc.prop.starting.tpt,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦                       ¦   ¦           ¦   ¦           ¦       °--Did not attend TPT referral                                                                   ,1-soc.prop.attend.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦                       ¦   ¦           ¦   ¦           °--Early removal scheme or deportation                                                                   ,1-soc.prop.staying.<3months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦                       ¦   ¦           ¦   °--Did not attend TB referral                                                                                        ,1-soc.prop.attend.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦                       ¦   ¦           °--Not referred to NHS TB service                                                                                        ,1-nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦                       ¦   °--IGRA test -                                                                                                                       ,1-soc.prop.igra.test.positive,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   ¦                       °--no IGRA test                                                                                                                          ,1-soc.prop.igra.tested,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦   °--Did not start TB treatment                                                                                                                                    ,1-prop.previous.tb.started.att,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦       °--Refer to TB services                                                                                                                                      ,1,cost.prison.isolation,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,cost.prison.isolation,0,0,0,0,cost.prison.isolation,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0
     ¦   ¦           ¦--Attended                                                                                                                                              ,soc.prop.attend.nhs.referral,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,0,0,0,0,0,cost.attending.nhs.tb.service,0,cost.attending.nhs.tb.service,0,0,0,ucost.prison.escort ,ucost.nhs.tb.service ,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦   ¦           ¦   ¦--ATT                                                                                                                                               ,soc.prop.starting.att,cost.att.initiation,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,0,0,0,0,0,cost.att.initiation,0,cost.att.initiation,0,0,0,ucost.prison.escort,ucost.nhs.tb.service ,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0
     ¦   ¦           ¦   ¦   ¦--Completed ATT                                                                                                                                 ,soc.prop.completing.att,cost.att.complete,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort * (pDSTB * dstb.visits + (1 - pDSTB) * mdrtb.visits) ,pDSTB * DurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * DurMDRTB * ucost.mdratt.drugs,pDSTB * dstb.visits*ucost.dstb.opd.visit + (1 - pDSTB) * mdrtb.visits * ucost.mdrtb.opd.visit,ucost.dots * (pDSTB * DurDSTB + (1 - pDSTB) * DurMDRTB),(pDSTB * smear.positive * DurDSTBIsolation * ucost.dstb.ipd +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * ucost.mdrtb.ipd + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * ucost.mdrtb.ipd),ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation),0,0,0,0,0,0,cost.att.complete,0,0,cost.att.complete,0,0,(ucost.prison.escort * (pDSTB * dstb.visits + (1 - pDSTB) * mdrtb.visits)  + ucost.dots * (pDSTB * DurDSTB + (1 - pDSTB) * DurMDRTB) + ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation)),(pDSTB * DurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * DurMDRTB * ucost.mdratt.drugs + pDSTB * dstb.visits*(ucost.dstb.opd.visit) + (1 - pDSTB) * mdrtb.visits * (ucost.mdrtb.opd.visit) + (pDSTB * smear.positive * DurDSTBIsolation * (ucost.dstb.ipd) +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * (ucost.mdrtb.ipd) + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * (ucost.mdrtb.ipd))),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,1
     ¦   ¦           ¦   ¦   °--did not complete ATT                                                                                                                          ,1-soc.prop.completing.att,cost.att.incomplete ,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort * (IncompDurDSTB/DurDSTB*pDSTB * dstb.visits + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits),pDSTB  * IncompDurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * IncompDurMDRTB  * ucost.mdratt.drugs,IncompDurDSTB / DurDSTB * pDSTB * dstb.visits*ucost.dstb.opd.visit + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits * ucost.mdrtb.opd.visit,ucost.dots * (pDSTB * IncompDurDSTB + (1 - pDSTB) * IncompDurMDRTB),(pDSTB * smear.positive * DurDSTBIsolation * ucost.dstb.ipd +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * ucost.mdrtb.ipd + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * ucost.mdrtb.ipd),ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation),0,0,0,0,0,0,cost.att.incomplete ,0,0,0,cost.att.incomplete ,0,(ucost.prison.escort * (IncompDurDSTB/DurDSTB*pDSTB * dstb.visits + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits) + ucost.dots * (pDSTB * IncompDurDSTB + (1 - pDSTB) * IncompDurMDRTB) + ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  + (1 - pDSTB) * smear.positive * DurMDRTB2Isolation+ (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation)),(pDSTB  * IncompDurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * IncompDurMDRTB * ucost.mdratt.drugs) + (IncompDurDSTB / DurDSTB * pDSTB * dstb.visits*ucost.dstb.opd.visit + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits * ucost.mdrtb.opd.visit) + ((pDSTB * smear.positive * DurDSTBIsolation * (ucost.dstb.ipd) +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * (ucost.mdrtb.ipd) +(1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * (ucost.mdrtb.ipd))),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦   ¦           ¦   °--no ATT                                                                                                                                            ,1-soc.prop.starting.att,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   ¦           °--did not Attend                                                                                                                                        ,1-soc.prop.attend.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦   °--No previous TB diagnosis                                                                                                                                          ,1-soc.prop.prev.tb.dx,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦--TB symptoms                                                                                                                                                   ,soc.prop.presumtive.tb,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦--Prison GP assessment                                                                                                                                      ,soc.prop.prison.gp.assessment,cost.prison.gp.assessment,0,cost.prison.gp.assessment,cost.prison.gp.assessment,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,cost.prison.gp.assessment,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦   ¦--Clinical suspicion of TB                                                                                                                              ,soc.prop.clinical.tb.suspicion,cost.prison.isolation,0,cost.prison.isolation,0,0,cost.prison.isolation,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,cost.prison.isolation,0,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0
     ¦       ¦   ¦   ¦   °--Urgent referral to local NHS TB service                                                                                                           ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦   ¦       ¦--Attended TB referral                                                                                                                          ,soc.prop.attend.nhs.referral,cost.tb.evaluation,0,cost.tb.evaluation,0,0,0,cost.nhs.tb.service,0,ucost.prison.escort,cost.tb.investigations,0,0,0,0,0,0,0,cost.tb.evaluation,0,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort ,ucost.nhs.tb.service + ucost.tb.investigations,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦   ¦       ¦   ¦--TB                                                                                                                                        ,soc.prop.no.prev.tb.dx.symp.tb.dx,cost.contact.management,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,cost.contact.management,smear.positive * (cost.prison.isolation),0,0,0,smear.positive * (nContacts * ucost.contact.tracing),cost.contact.management,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0
     ¦       ¦   ¦   ¦       ¦   ¦   °--TB outcomes                                                                                                                           ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦   ¦       ¦   ¦       ¦--ATT                                                                                                                               ,soc.prop.starting.att,cost.att.initiation,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,0,0,0,0,0,cost.att.initiation,0,cost.att.initiation,0,0,0,ucost.prison.escort,ucost.nhs.tb.service ,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0
     ¦       ¦   ¦   ¦       ¦   ¦       ¦   ¦--completed ATT                                                                                                                 ,soc.prop.completing.att,cost.att.complete,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort * (pDSTB * dstb.visits + (1 - pDSTB) * mdrtb.visits) ,pDSTB * DurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * DurMDRTB * ucost.mdratt.drugs,pDSTB * dstb.visits*ucost.dstb.opd.visit + (1 - pDSTB) * mdrtb.visits * ucost.mdrtb.opd.visit,ucost.dots * (pDSTB * DurDSTB + (1 - pDSTB) * DurMDRTB),(pDSTB * smear.positive * DurDSTBIsolation * ucost.dstb.ipd +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * ucost.mdrtb.ipd + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * ucost.mdrtb.ipd),ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation),0,0,0,0,0,0,cost.att.complete,0,0,cost.att.complete,0,0,(ucost.prison.escort * (pDSTB * dstb.visits + (1 - pDSTB) * mdrtb.visits)  + ucost.dots * (pDSTB * DurDSTB + (1 - pDSTB) * DurMDRTB) + ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation)),(pDSTB * DurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * DurMDRTB * ucost.mdratt.drugs + pDSTB * dstb.visits*(ucost.dstb.opd.visit) + (1 - pDSTB) * mdrtb.visits * (ucost.mdrtb.opd.visit) + (pDSTB * smear.positive * DurDSTBIsolation * (ucost.dstb.ipd) +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * (ucost.mdrtb.ipd) + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * (ucost.mdrtb.ipd))),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,1
     ¦       ¦   ¦   ¦       ¦   ¦       ¦   °--did not complete ATT                                                                                                          ,1-soc.prop.completing.att,cost.att.incomplete ,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort * (IncompDurDSTB/DurDSTB*pDSTB * dstb.visits + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits),pDSTB  * IncompDurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * IncompDurMDRTB  * ucost.mdratt.drugs,IncompDurDSTB / DurDSTB * pDSTB * dstb.visits*ucost.dstb.opd.visit + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits * ucost.mdrtb.opd.visit,ucost.dots * (pDSTB * IncompDurDSTB + (1 - pDSTB) * IncompDurMDRTB),(pDSTB * smear.positive * DurDSTBIsolation * ucost.dstb.ipd +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * ucost.mdrtb.ipd + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * ucost.mdrtb.ipd),ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation),0,0,0,0,0,0,cost.att.incomplete ,0,0,0,cost.att.incomplete ,0,(ucost.prison.escort * (IncompDurDSTB/DurDSTB*pDSTB * dstb.visits + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits) + ucost.dots * (pDSTB * IncompDurDSTB + (1 - pDSTB) * IncompDurMDRTB) + ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  + (1 - pDSTB) * smear.positive * DurMDRTB2Isolation+ (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation)),(pDSTB  * IncompDurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * IncompDurMDRTB * ucost.mdratt.drugs) + (IncompDurDSTB / DurDSTB * pDSTB * dstb.visits*ucost.dstb.opd.visit + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits * ucost.mdrtb.opd.visit) + ((pDSTB * smear.positive * DurDSTBIsolation * (ucost.dstb.ipd) +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * (ucost.mdrtb.ipd) +(1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * (ucost.mdrtb.ipd))),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦       ¦   ¦   ¦       ¦   ¦       °--no ATT                                                                                                                            ,1-soc.prop.starting.att,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦       ¦   ¦   ¦       ¦   °--Not TB                                                                                                                                    ,1-soc.prop.no.prev.tb.dx.symp.tb.dx,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦   ¦       ¦       °--LTBI pathway                                                                                                                          ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦   ¦       ¦           ¦--IGRA test                                                                                                                         ,soc.prop.igra.tested,cost.igra.test,0,0,0,0,0,0,0,0,0,cost.igra.test,0,0,0,0,0,0,0,cost.igra.test,0,0,0,0,0,0,0,0,0,0,0,ucost.igra.test,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦   ¦       ¦           ¦   ¦--IGRA test +                                                                                                                   ,soc.prop.igra.test.positive,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦--Previous chest x-ray                                                                                                      ,soc.prop.prev.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦   ¦--Abornomal chest x-ray                                                                                                 ,soc.prop.abnormal.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦--Referred to NHS TB service                                                                                        ,nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦--Attended TB referral                                                                                          ,soc.prop.attend.nhs.referral,cost.tb.evaluation,0,cost.tb.evaluation,0,0,0,cost.nhs.tb.service,0,ucost.prison.escort,cost.tb.investigations,0,0,0,0,0,0,0,cost.tb.evaluation,0,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort ,ucost.nhs.tb.service + ucost.tb.investigations,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦   ¦--TB                                                                                                        ,soc.prop.abn.xray.tb.dx,cost.contact.management,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,cost.contact.management,smear.positive * (cost.prison.isolation),0,0,0,smear.positive * (nContacts * ucost.contact.tracing),cost.contact.management,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0
     ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦   ¦   °--TB outcomes                                                                                           ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦   ¦       ¦--ATT                                                                                               ,soc.prop.starting.att,cost.att.initiation,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,0,0,0,0,0,cost.att.initiation,0,cost.att.initiation,0,0,0,ucost.prison.escort,ucost.nhs.tb.service ,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0
     ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦   ¦       ¦   ¦--completed ATT                                                                                 ,soc.prop.completing.att,cost.att.complete,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort * (pDSTB * dstb.visits + (1 - pDSTB) * mdrtb.visits) ,pDSTB * DurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * DurMDRTB * ucost.mdratt.drugs,pDSTB * dstb.visits*ucost.dstb.opd.visit + (1 - pDSTB) * mdrtb.visits * ucost.mdrtb.opd.visit,ucost.dots * (pDSTB * DurDSTB + (1 - pDSTB) * DurMDRTB),(pDSTB * smear.positive * DurDSTBIsolation * ucost.dstb.ipd +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * ucost.mdrtb.ipd + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * ucost.mdrtb.ipd),ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation),0,0,0,0,0,0,cost.att.complete,0,0,cost.att.complete,0,0,(ucost.prison.escort * (pDSTB * dstb.visits + (1 - pDSTB) * mdrtb.visits)  + ucost.dots * (pDSTB * DurDSTB + (1 - pDSTB) * DurMDRTB) + ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation)),(pDSTB * DurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * DurMDRTB * ucost.mdratt.drugs + pDSTB * dstb.visits*(ucost.dstb.opd.visit) + (1 - pDSTB) * mdrtb.visits * (ucost.mdrtb.opd.visit) + (pDSTB * smear.positive * DurDSTBIsolation * (ucost.dstb.ipd) +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * (ucost.mdrtb.ipd) + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * (ucost.mdrtb.ipd))),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,1
     ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦   ¦       ¦   °--did not complete ATT                                                                          ,1-soc.prop.completing.att,cost.att.incomplete ,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort * (IncompDurDSTB/DurDSTB*pDSTB * dstb.visits + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits),pDSTB  * IncompDurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * IncompDurMDRTB  * ucost.mdratt.drugs,IncompDurDSTB / DurDSTB * pDSTB * dstb.visits*ucost.dstb.opd.visit + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits * ucost.mdrtb.opd.visit,ucost.dots * (pDSTB * IncompDurDSTB + (1 - pDSTB) * IncompDurMDRTB),(pDSTB * smear.positive * DurDSTBIsolation * ucost.dstb.ipd +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * ucost.mdrtb.ipd + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * ucost.mdrtb.ipd),ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation),0,0,0,0,0,0,cost.att.incomplete ,0,0,0,cost.att.incomplete ,0,(ucost.prison.escort * (IncompDurDSTB/DurDSTB*pDSTB * dstb.visits + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits) + ucost.dots * (pDSTB * IncompDurDSTB + (1 - pDSTB) * IncompDurMDRTB) + ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  + (1 - pDSTB) * smear.positive * DurMDRTB2Isolation+ (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation)),(pDSTB  * IncompDurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * IncompDurMDRTB * ucost.mdratt.drugs) + (IncompDurDSTB / DurDSTB * pDSTB * dstb.visits*ucost.dstb.opd.visit + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits * ucost.mdrtb.opd.visit) + ((pDSTB * smear.positive * DurDSTBIsolation * (ucost.dstb.ipd) +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * (ucost.mdrtb.ipd) +(1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * (ucost.mdrtb.ipd))),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦   ¦       °--no ATT                                                                                            ,1-soc.prop.starting.att,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦   °--Not TB                                                                                                    ,1-soc.prop.abn.xray.tb.dx,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦       ¦--In prison/IRC for >3 months                                                                           ,soc.prop.staying.3+months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦       ¦   °--Refer for treatment                                                                               ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦       ¦       ¦--Attended TPT referral                                                                         ,soc.prop.attend.nhs.referral,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.attending.nhs.tb.service,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,ucost.prison.escort ,ucost.nhs.tb.service,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦       ¦       ¦   °--TPT outcomes                                                                              ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦       ¦       ¦       ¦--gets TPT                                                                              ,soc.prop.starting.tpt,cost.tpt.initiation,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.tpt.initiation,0,cost.tpt.initiation,0,0,0,0,0,0,0,0,ucost.prison.escort,ucost.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0
     ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦       ¦       ¦       ¦   ¦--completed TPT                                                                     ,soc.prop.completing.tpt,cost.tpt.complete,0,0,0,0,0,0,0,0,0,0,TPT.visits*(ucost.prison.escort),durTPT*(ucost.ltbi.drugs),TPT.visits*(ucost.tpt.opd.visit),durTPT*(ucost.dots),0,0,0,cost.tpt.complete,0,0,cost.tpt.complete,0,0,0,0,0,0,0,(TPT.visits*ucost.prison.escort + durTPT*ucost.dots),(durTPT*ucost.ltbi.drugs+ TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,1
     ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦       ¦       ¦       ¦   °--did not complete TPT                                                              ,1-soc.prop.completing.tpt,cost.tpt.incomplete,0,0,0,0,0,0,0,0,0,0,IncompDurTPT / durTPT * TPT.visits*ucost.prison.escort,IncompDurTPT*ucost.ltbi.drugs,IncompDurTPT / durTPT * TPT.visits*ucost.tpt.opd.visit,IncompDurTPT*ucost.dots,0,0,0,cost.tpt.incomplete,0,0,0,cost.tpt.incomplete,0,0,0,0,0,0,(IncompDurTPT/durTPT*TPT.visits*ucost.prison.escort + IncompDurTPT*ucost.dots),(IncompDurTPT*ucost.ltbi.drugs + IncompDurTPT/durTPT*TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1
     ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦       ¦       ¦       °--does not get TPT                                                                      ,1-soc.prop.starting.tpt,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦       ¦       °--Did not attend TB referral TPT referral                                                       ,1-soc.prop.attend.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦       °--In prison/IRC for <3 months                                                                           ,1-soc.prop.staying.3+months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦           ¦--Remaining in the UK (community or other prison/IRC)                                               ,soc.prop.staying.<3months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦           ¦   °--Refer for treatment and forward details to receiving prison/community TB nurse                ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦           ¦       ¦--Attended TPT referral                                                                     ,soc.prop.attend.nhs.referral,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.attending.nhs.tb.service,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,ucost.prison.escort ,ucost.nhs.tb.service,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦           ¦       ¦   °--TPT outcomes                                                                          ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦           ¦       ¦       ¦--gets TPT                                                                          ,soc.prop.starting.tpt,cost.tpt.initiation,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.tpt.initiation,0,cost.tpt.initiation,0,0,0,0,0,0,0,0,ucost.prison.escort,ucost.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0
     ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦           ¦       ¦       ¦   ¦--completed TPT                                                                 ,soc.prop.completing.tpt,cost.tpt.complete,0,0,0,0,0,0,0,0,0,0,TPT.visits*(ucost.prison.escort),durTPT*(ucost.ltbi.drugs),TPT.visits*(ucost.tpt.opd.visit),durTPT*(ucost.dots),0,0,0,cost.tpt.complete,0,0,cost.tpt.complete,0,0,0,0,0,0,0,(TPT.visits*ucost.prison.escort + durTPT*ucost.dots),(durTPT*ucost.ltbi.drugs+ TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,1
     ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦           ¦       ¦       ¦   °--did not complete TPT                                                          ,1-soc.prop.completing.tpt,cost.tpt.incomplete,0,0,0,0,0,0,0,0,0,0,IncompDurTPT / durTPT * TPT.visits*ucost.prison.escort,IncompDurTPT*ucost.ltbi.drugs,IncompDurTPT / durTPT * TPT.visits*ucost.tpt.opd.visit,IncompDurTPT*ucost.dots,0,0,0,cost.tpt.incomplete,0,0,0,cost.tpt.incomplete,0,0,0,0,0,0,(IncompDurTPT/durTPT*TPT.visits*ucost.prison.escort + IncompDurTPT*ucost.dots),(IncompDurTPT*ucost.ltbi.drugs + IncompDurTPT/durTPT*TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1
     ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦           ¦       ¦       °--does not get TPT                                                                  ,1-soc.prop.starting.tpt,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦           ¦       °--Did not attend TPT referral                                                               ,1-soc.prop.attend.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦           °--Early removal scheme or deportation                                                               ,1-soc.prop.staying.<3months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   °--Did not attend TB referral                                                                                    ,1-soc.prop.attend.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦   ¦   °--Not referred to NHS TB service                                                                                    ,1-nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦   °--Normal chest x-ray                                                                                                    ,1-soc.prop.abnormal.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦       ¦--In prison/IRC for >3 months                                                                                       ,soc.prop.staying.3+months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦       ¦   °--Refer for treatment                                                                                           ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦       ¦       ¦--Attended TPT referral                                                                                     ,soc.prop.attend.nhs.referral,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.attending.nhs.tb.service,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,ucost.prison.escort ,ucost.nhs.tb.service,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦       ¦       ¦   °--TPT outcomes                                                                                          ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦       ¦       ¦       ¦--gets TPT                                                                                          ,soc.prop.starting.tpt,cost.tpt.initiation,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.tpt.initiation,0,cost.tpt.initiation,0,0,0,0,0,0,0,0,ucost.prison.escort,ucost.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0
     ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦       ¦       ¦       ¦   ¦--completed TPT                                                                                 ,soc.prop.completing.tpt,cost.tpt.complete,0,0,0,0,0,0,0,0,0,0,TPT.visits*(ucost.prison.escort),durTPT*(ucost.ltbi.drugs),TPT.visits*(ucost.tpt.opd.visit),durTPT*(ucost.dots),0,0,0,cost.tpt.complete,0,0,cost.tpt.complete,0,0,0,0,0,0,0,(TPT.visits*ucost.prison.escort + durTPT*ucost.dots),(durTPT*ucost.ltbi.drugs+ TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,1
     ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦       ¦       ¦       ¦   °--did not complete TPT                                                                          ,1-soc.prop.completing.tpt,cost.tpt.incomplete,0,0,0,0,0,0,0,0,0,0,IncompDurTPT / durTPT * TPT.visits*ucost.prison.escort,IncompDurTPT*ucost.ltbi.drugs,IncompDurTPT / durTPT * TPT.visits*ucost.tpt.opd.visit,IncompDurTPT*ucost.dots,0,0,0,cost.tpt.incomplete,0,0,0,cost.tpt.incomplete,0,0,0,0,0,0,(IncompDurTPT/durTPT*TPT.visits*ucost.prison.escort + IncompDurTPT*ucost.dots),(IncompDurTPT*ucost.ltbi.drugs + IncompDurTPT/durTPT*TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1
     ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦       ¦       ¦       °--does not get TPT                                                                                  ,1-soc.prop.starting.tpt,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦       ¦       °--Did not attend TPT referral                                                                               ,1-soc.prop.attend.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦       °--In prison/IRC for <3 months                                                                                       ,1-soc.prop.staying.3+months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦           ¦--Remaining in the UK (community or other prison/IRC)                                                           ,soc.prop.staying.<3months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦           ¦   °--Refer for treatment and forward details to receiving prison/community TB nurse                            ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦           ¦       ¦--Attended TPT referral                                                                                 ,soc.prop.attend.nhs.referral,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.attending.nhs.tb.service,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,ucost.prison.escort ,ucost.nhs.tb.service,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦           ¦       ¦   °--TPT outcomes                                                                                      ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦           ¦       ¦       ¦--gets TPT                                                                                      ,soc.prop.starting.tpt,cost.tpt.initiation,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.tpt.initiation,0,cost.tpt.initiation,0,0,0,0,0,0,0,0,ucost.prison.escort,ucost.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0
     ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦           ¦       ¦       ¦   ¦--completed TPT                                                                             ,soc.prop.completing.tpt,cost.tpt.complete,0,0,0,0,0,0,0,0,0,0,TPT.visits*(ucost.prison.escort),durTPT*(ucost.ltbi.drugs),TPT.visits*(ucost.tpt.opd.visit),durTPT*(ucost.dots),0,0,0,cost.tpt.complete,0,0,cost.tpt.complete,0,0,0,0,0,0,0,(TPT.visits*ucost.prison.escort + durTPT*ucost.dots),(durTPT*ucost.ltbi.drugs+ TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,1
     ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦           ¦       ¦       ¦   °--did not complete TPT                                                                      ,1-soc.prop.completing.tpt,cost.tpt.incomplete,0,0,0,0,0,0,0,0,0,0,IncompDurTPT / durTPT * TPT.visits*ucost.prison.escort,IncompDurTPT*ucost.ltbi.drugs,IncompDurTPT / durTPT * TPT.visits*ucost.tpt.opd.visit,IncompDurTPT*ucost.dots,0,0,0,cost.tpt.incomplete,0,0,0,cost.tpt.incomplete,0,0,0,0,0,0,(IncompDurTPT/durTPT*TPT.visits*ucost.prison.escort + IncompDurTPT*ucost.dots),(IncompDurTPT*ucost.ltbi.drugs + IncompDurTPT/durTPT*TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1
     ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦           ¦       ¦       °--does not get TPT                                                                              ,1-soc.prop.starting.tpt,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦           ¦       °--Did not attend TPT referral                                                                           ,1-soc.prop.attend.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦       ¦   ¦   ¦       ¦           ¦   ¦   ¦           °--Early removal scheme or deportation                                                                           ,1-soc.prop.staying.<3months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦       ¦   ¦   ¦       ¦           ¦   ¦   °--No previous chest x-ray                                                                                                   ,1-soc.prop.prev.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦--Chest x-ray                                                                                                           ,soc.prop.xray,cost.chest.xray,0,cost.chest.xray,0,ucost.chest.xray,0,0,ucost.prison.escort,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,ucost.chest.xray,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦   ¦--Abornomal chest x-ray                                                                                             ,soc.prop.abnormal.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦--Referred to NHS TB service                                                                                    ,nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦--Attended TB referral                                                                                      ,soc.prop.attend.nhs.referral,cost.tb.evaluation,0,cost.tb.evaluation,0,0,0,cost.nhs.tb.service,0,ucost.prison.escort,cost.tb.investigations,0,0,0,0,0,0,0,cost.tb.evaluation,0,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort ,ucost.nhs.tb.service + ucost.tb.investigations,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦   ¦--TB                                                                                                    ,soc.prop.abn.xray.tb.dx,cost.contact.management,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,cost.contact.management,smear.positive * (cost.prison.isolation),0,0,0,smear.positive * (nContacts * ucost.contact.tracing),cost.contact.management,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0
     ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦   ¦   °--TB outcomes                                                                                       ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦   ¦       ¦--ATT                                                                                           ,soc.prop.starting.att,cost.att.initiation,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,0,0,0,0,0,cost.att.initiation,0,cost.att.initiation,0,0,0,ucost.prison.escort,ucost.nhs.tb.service ,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0
     ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦   ¦       ¦   ¦--completed ATT                                                                             ,soc.prop.completing.att,cost.att.complete,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort * (pDSTB * dstb.visits + (1 - pDSTB) * mdrtb.visits) ,pDSTB * DurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * DurMDRTB * ucost.mdratt.drugs,pDSTB * dstb.visits*ucost.dstb.opd.visit + (1 - pDSTB) * mdrtb.visits * ucost.mdrtb.opd.visit,ucost.dots * (pDSTB * DurDSTB + (1 - pDSTB) * DurMDRTB),(pDSTB * smear.positive * DurDSTBIsolation * ucost.dstb.ipd +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * ucost.mdrtb.ipd + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * ucost.mdrtb.ipd),ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation),0,0,0,0,0,0,cost.att.complete,0,0,cost.att.complete,0,0,(ucost.prison.escort * (pDSTB * dstb.visits + (1 - pDSTB) * mdrtb.visits)  + ucost.dots * (pDSTB * DurDSTB + (1 - pDSTB) * DurMDRTB) + ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation)),(pDSTB * DurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * DurMDRTB * ucost.mdratt.drugs + pDSTB * dstb.visits*(ucost.dstb.opd.visit) + (1 - pDSTB) * mdrtb.visits * (ucost.mdrtb.opd.visit) + (pDSTB * smear.positive * DurDSTBIsolation * (ucost.dstb.ipd) +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * (ucost.mdrtb.ipd) + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * (ucost.mdrtb.ipd))),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,1
     ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦   ¦       ¦   °--did not complete ATT                                                                      ,1-soc.prop.completing.att,cost.att.incomplete ,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort * (IncompDurDSTB/DurDSTB*pDSTB * dstb.visits + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits),pDSTB  * IncompDurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * IncompDurMDRTB  * ucost.mdratt.drugs,IncompDurDSTB / DurDSTB * pDSTB * dstb.visits*ucost.dstb.opd.visit + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits * ucost.mdrtb.opd.visit,ucost.dots * (pDSTB * IncompDurDSTB + (1 - pDSTB) * IncompDurMDRTB),(pDSTB * smear.positive * DurDSTBIsolation * ucost.dstb.ipd +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * ucost.mdrtb.ipd + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * ucost.mdrtb.ipd),ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation),0,0,0,0,0,0,cost.att.incomplete ,0,0,0,cost.att.incomplete ,0,(ucost.prison.escort * (IncompDurDSTB/DurDSTB*pDSTB * dstb.visits + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits) + ucost.dots * (pDSTB * IncompDurDSTB + (1 - pDSTB) * IncompDurMDRTB) + ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  + (1 - pDSTB) * smear.positive * DurMDRTB2Isolation+ (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation)),(pDSTB  * IncompDurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * IncompDurMDRTB * ucost.mdratt.drugs) + (IncompDurDSTB / DurDSTB * pDSTB * dstb.visits*ucost.dstb.opd.visit + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits * ucost.mdrtb.opd.visit) + ((pDSTB * smear.positive * DurDSTBIsolation * (ucost.dstb.ipd) +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * (ucost.mdrtb.ipd) +(1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * (ucost.mdrtb.ipd))),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦   ¦       °--no ATT                                                                                        ,1-soc.prop.starting.att,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦   °--Not TB                                                                                                ,1-soc.prop.abn.xray.tb.dx,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦       ¦--In prison/IRC for >3 months                                                                       ,soc.prop.staying.3+months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦       ¦   °--Refer for treatment                                                                           ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦       ¦       ¦--Attended TPT referral                                                                     ,soc.prop.attend.nhs.referral,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.attending.nhs.tb.service,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,ucost.prison.escort ,ucost.nhs.tb.service,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦       ¦       ¦   °--TPT outcomes                                                                          ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦       ¦       ¦       ¦--gets TPT                                                                          ,soc.prop.starting.tpt,cost.tpt.initiation,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.tpt.initiation,0,cost.tpt.initiation,0,0,0,0,0,0,0,0,ucost.prison.escort,ucost.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0
     ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦       ¦       ¦       ¦   ¦--completed TPT                                                                 ,soc.prop.completing.tpt,cost.tpt.complete,0,0,0,0,0,0,0,0,0,0,TPT.visits*(ucost.prison.escort),durTPT*(ucost.ltbi.drugs),TPT.visits*(ucost.tpt.opd.visit),durTPT*(ucost.dots),0,0,0,cost.tpt.complete,0,0,cost.tpt.complete,0,0,0,0,0,0,0,(TPT.visits*ucost.prison.escort + durTPT*ucost.dots),(durTPT*ucost.ltbi.drugs+ TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,1
     ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦       ¦       ¦       ¦   °--did not complete TPT                                                          ,1-soc.prop.completing.tpt,cost.tpt.incomplete,0,0,0,0,0,0,0,0,0,0,IncompDurTPT / durTPT * TPT.visits*ucost.prison.escort,IncompDurTPT*ucost.ltbi.drugs,IncompDurTPT / durTPT * TPT.visits*ucost.tpt.opd.visit,IncompDurTPT*ucost.dots,0,0,0,cost.tpt.incomplete,0,0,0,cost.tpt.incomplete,0,0,0,0,0,0,(IncompDurTPT/durTPT*TPT.visits*ucost.prison.escort + IncompDurTPT*ucost.dots),(IncompDurTPT*ucost.ltbi.drugs + IncompDurTPT/durTPT*TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1
     ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦       ¦       ¦       °--does not get TPT                                                                  ,1-soc.prop.starting.tpt,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦       ¦       °--Did not attend TPT referral                                                               ,1-soc.prop.attend.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦       °--In prison/IRC for <3 months                                                                       ,1-soc.prop.staying.3+months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦           ¦--Remaining in the UK (community or other prison/IRC)                                           ,soc.prop.staying.<3months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦           ¦   °--Refer for treatment and forward details to receiving prison/community TB nurse            ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦           ¦       ¦--Attended TPT referral                                                                 ,soc.prop.attend.nhs.referral,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.attending.nhs.tb.service,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,ucost.prison.escort ,ucost.nhs.tb.service,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦           ¦       ¦   °--TPT outcomes                                                                      ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦           ¦       ¦       ¦--gets TPT                                                                      ,soc.prop.starting.tpt,cost.tpt.initiation,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.tpt.initiation,0,cost.tpt.initiation,0,0,0,0,0,0,0,0,ucost.prison.escort,ucost.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0
     ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦           ¦       ¦       ¦   ¦--completed TPT                                                             ,soc.prop.completing.tpt,cost.tpt.complete,0,0,0,0,0,0,0,0,0,0,TPT.visits*(ucost.prison.escort),durTPT*(ucost.ltbi.drugs),TPT.visits*(ucost.tpt.opd.visit),durTPT*(ucost.dots),0,0,0,cost.tpt.complete,0,0,cost.tpt.complete,0,0,0,0,0,0,0,(TPT.visits*ucost.prison.escort + durTPT*ucost.dots),(durTPT*ucost.ltbi.drugs+ TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,1
     ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦           ¦       ¦       ¦   °--did not complete TPT                                                      ,1-soc.prop.completing.tpt,cost.tpt.incomplete,0,0,0,0,0,0,0,0,0,0,IncompDurTPT / durTPT * TPT.visits*ucost.prison.escort,IncompDurTPT*ucost.ltbi.drugs,IncompDurTPT / durTPT * TPT.visits*ucost.tpt.opd.visit,IncompDurTPT*ucost.dots,0,0,0,cost.tpt.incomplete,0,0,0,cost.tpt.incomplete,0,0,0,0,0,0,(IncompDurTPT/durTPT*TPT.visits*ucost.prison.escort + IncompDurTPT*ucost.dots),(IncompDurTPT*ucost.ltbi.drugs + IncompDurTPT/durTPT*TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1
     ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦           ¦       ¦       °--does not get TPT                                                              ,1-soc.prop.starting.tpt,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦           ¦       °--Did not attend TPT referral                                                           ,1-soc.prop.attend.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦           °--Early removal scheme or deportation                                                           ,1-soc.prop.staying.<3months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   °--Did not attend TB referral                                                                                ,1-soc.prop.attend.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦   ¦   °--Not referred to NHS TB service                                                                                ,1-nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦   °--Normal chest x-ray                                                                                                ,1-soc.prop.abnormal.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦       ¦--In prison/IRC for >3 months                                                                                   ,soc.prop.staying.3+months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦       ¦   °--Refer for treatment                                                                                       ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦       ¦       ¦--Attended TPT referral                                                                                 ,soc.prop.attend.nhs.referral,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.attending.nhs.tb.service,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,ucost.prison.escort ,ucost.nhs.tb.service,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦       ¦       ¦   °--TPT outcomes                                                                                      ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦       ¦       ¦       ¦--gets TPT                                                                                      ,soc.prop.starting.tpt,cost.tpt.initiation,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.tpt.initiation,0,cost.tpt.initiation,0,0,0,0,0,0,0,0,ucost.prison.escort,ucost.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0
     ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦       ¦       ¦       ¦   ¦--completed TPT                                                                             ,soc.prop.completing.tpt,cost.tpt.complete,0,0,0,0,0,0,0,0,0,0,TPT.visits*(ucost.prison.escort),durTPT*(ucost.ltbi.drugs),TPT.visits*(ucost.tpt.opd.visit),durTPT*(ucost.dots),0,0,0,cost.tpt.complete,0,0,cost.tpt.complete,0,0,0,0,0,0,0,(TPT.visits*ucost.prison.escort + durTPT*ucost.dots),(durTPT*ucost.ltbi.drugs+ TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,1
     ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦       ¦       ¦       ¦   °--did not complete TPT                                                                      ,1-soc.prop.completing.tpt,cost.tpt.incomplete,0,0,0,0,0,0,0,0,0,0,IncompDurTPT / durTPT * TPT.visits*ucost.prison.escort,IncompDurTPT*ucost.ltbi.drugs,IncompDurTPT / durTPT * TPT.visits*ucost.tpt.opd.visit,IncompDurTPT*ucost.dots,0,0,0,cost.tpt.incomplete,0,0,0,cost.tpt.incomplete,0,0,0,0,0,0,(IncompDurTPT/durTPT*TPT.visits*ucost.prison.escort + IncompDurTPT*ucost.dots),(IncompDurTPT*ucost.ltbi.drugs + IncompDurTPT/durTPT*TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1
     ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦       ¦       ¦       °--does not get TPT                                                                              ,1-soc.prop.starting.tpt,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦       ¦       °--Did not attend TPT referral                                                                           ,1-soc.prop.attend.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦       °--In prison/IRC for <3 months                                                                                   ,1-soc.prop.staying.3+months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦           ¦--Remaining in the UK (community or other prison/IRC)                                                       ,soc.prop.staying.<3months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦           ¦   °--Refer for treatment and forward details to receiving prison/community TB nurse                        ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦           ¦       ¦--Attended TPT referral                                                                             ,soc.prop.attend.nhs.referral,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.attending.nhs.tb.service,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,ucost.prison.escort ,ucost.nhs.tb.service,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦           ¦       ¦   °--TPT outcomes                                                                                  ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦           ¦       ¦       ¦--gets TPT                                                                                  ,soc.prop.starting.tpt,cost.tpt.initiation,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.tpt.initiation,0,cost.tpt.initiation,0,0,0,0,0,0,0,0,ucost.prison.escort,ucost.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0
     ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦           ¦       ¦       ¦   ¦--completed TPT                                                                         ,soc.prop.completing.tpt,cost.tpt.complete,0,0,0,0,0,0,0,0,0,0,TPT.visits*(ucost.prison.escort),durTPT*(ucost.ltbi.drugs),TPT.visits*(ucost.tpt.opd.visit),durTPT*(ucost.dots),0,0,0,cost.tpt.complete,0,0,cost.tpt.complete,0,0,0,0,0,0,0,(TPT.visits*ucost.prison.escort + durTPT*ucost.dots),(durTPT*ucost.ltbi.drugs+ TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,1
     ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦           ¦       ¦       ¦   °--did not complete TPT                                                                  ,1-soc.prop.completing.tpt,cost.tpt.incomplete,0,0,0,0,0,0,0,0,0,0,IncompDurTPT / durTPT * TPT.visits*ucost.prison.escort,IncompDurTPT*ucost.ltbi.drugs,IncompDurTPT / durTPT * TPT.visits*ucost.tpt.opd.visit,IncompDurTPT*ucost.dots,0,0,0,cost.tpt.incomplete,0,0,0,cost.tpt.incomplete,0,0,0,0,0,0,(IncompDurTPT/durTPT*TPT.visits*ucost.prison.escort + IncompDurTPT*ucost.dots),(IncompDurTPT*ucost.ltbi.drugs + IncompDurTPT/durTPT*TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1
     ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦           ¦       ¦       °--does not get TPT                                                                          ,1-soc.prop.starting.tpt,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦           ¦       °--Did not attend TPT referral                                                                       ,1-soc.prop.attend.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦       ¦   ¦   ¦       ¦           ¦   ¦       ¦           °--Early removal scheme or deportation                                                                       ,1-soc.prop.staying.<3months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦       ¦   ¦   ¦       ¦           ¦   ¦       °--No chest x-ray                                                                                                        ,1-soc.prop.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦   ¦       ¦           ¦   ¦           ¦--Referred to NHS TB service                                                                                        ,nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦   ¦       ¦           ¦   ¦           ¦   ¦--Attended TB referral                                                                                          ,soc.prop.attend.nhs.referral,cost.tb.evaluation,0,cost.tb.evaluation,0,0,0,cost.nhs.tb.service,0,ucost.prison.escort,cost.tb.investigations,0,0,0,0,0,0,0,cost.tb.evaluation,0,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort ,ucost.nhs.tb.service + ucost.tb.investigations,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦   ¦       ¦           ¦   ¦           ¦   ¦   ¦--TB                                                                                                        ,soc.prop.no.xray.tb.dx,cost.contact.management,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,cost.contact.management,smear.positive * (cost.prison.isolation),0,0,0,smear.positive * (nContacts * ucost.contact.tracing),cost.contact.management,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0
     ¦       ¦   ¦   ¦       ¦           ¦   ¦           ¦   ¦   ¦   °--TB outcomes                                                                                           ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦   ¦       ¦           ¦   ¦           ¦   ¦   ¦       ¦--ATT                                                                                               ,soc.prop.starting.att,cost.att.initiation,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,0,0,0,0,0,cost.att.initiation,0,cost.att.initiation,0,0,0,ucost.prison.escort,ucost.nhs.tb.service ,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0
     ¦       ¦   ¦   ¦       ¦           ¦   ¦           ¦   ¦   ¦       ¦   ¦--completed ATT                                                                                 ,soc.prop.completing.att,cost.att.complete,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort * (pDSTB * dstb.visits + (1 - pDSTB) * mdrtb.visits) ,pDSTB * DurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * DurMDRTB * ucost.mdratt.drugs,pDSTB * dstb.visits*ucost.dstb.opd.visit + (1 - pDSTB) * mdrtb.visits * ucost.mdrtb.opd.visit,ucost.dots * (pDSTB * DurDSTB + (1 - pDSTB) * DurMDRTB),(pDSTB * smear.positive * DurDSTBIsolation * ucost.dstb.ipd +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * ucost.mdrtb.ipd + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * ucost.mdrtb.ipd),ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation),0,0,0,0,0,0,cost.att.complete,0,0,cost.att.complete,0,0,(ucost.prison.escort * (pDSTB * dstb.visits + (1 - pDSTB) * mdrtb.visits)  + ucost.dots * (pDSTB * DurDSTB + (1 - pDSTB) * DurMDRTB) + ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation)),(pDSTB * DurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * DurMDRTB * ucost.mdratt.drugs + pDSTB * dstb.visits*(ucost.dstb.opd.visit) + (1 - pDSTB) * mdrtb.visits * (ucost.mdrtb.opd.visit) + (pDSTB * smear.positive * DurDSTBIsolation * (ucost.dstb.ipd) +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * (ucost.mdrtb.ipd) + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * (ucost.mdrtb.ipd))),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,1
     ¦       ¦   ¦   ¦       ¦           ¦   ¦           ¦   ¦   ¦       ¦   °--did not complete ATT                                                                          ,1-soc.prop.completing.att,cost.att.incomplete ,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort * (IncompDurDSTB/DurDSTB*pDSTB * dstb.visits + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits),pDSTB  * IncompDurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * IncompDurMDRTB  * ucost.mdratt.drugs,IncompDurDSTB / DurDSTB * pDSTB * dstb.visits*ucost.dstb.opd.visit + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits * ucost.mdrtb.opd.visit,ucost.dots * (pDSTB * IncompDurDSTB + (1 - pDSTB) * IncompDurMDRTB),(pDSTB * smear.positive * DurDSTBIsolation * ucost.dstb.ipd +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * ucost.mdrtb.ipd + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * ucost.mdrtb.ipd),ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation),0,0,0,0,0,0,cost.att.incomplete ,0,0,0,cost.att.incomplete ,0,(ucost.prison.escort * (IncompDurDSTB/DurDSTB*pDSTB * dstb.visits + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits) + ucost.dots * (pDSTB * IncompDurDSTB + (1 - pDSTB) * IncompDurMDRTB) + ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  + (1 - pDSTB) * smear.positive * DurMDRTB2Isolation+ (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation)),(pDSTB  * IncompDurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * IncompDurMDRTB * ucost.mdratt.drugs) + (IncompDurDSTB / DurDSTB * pDSTB * dstb.visits*ucost.dstb.opd.visit + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits * ucost.mdrtb.opd.visit) + ((pDSTB * smear.positive * DurDSTBIsolation * (ucost.dstb.ipd) +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * (ucost.mdrtb.ipd) +(1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * (ucost.mdrtb.ipd))),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦       ¦   ¦   ¦       ¦           ¦   ¦           ¦   ¦   ¦       °--no ATT                                                                                            ,1-soc.prop.starting.att,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦       ¦   ¦   ¦       ¦           ¦   ¦           ¦   ¦   °--Not TB                                                                                                    ,1-soc.prop.no.xray.tb.dx,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦   ¦       ¦           ¦   ¦           ¦   ¦       ¦--In prison/IRC for >3 months                                                                           ,soc.prop.staying.3+months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦   ¦       ¦           ¦   ¦           ¦   ¦       ¦   °--Refer for treatment                                                                               ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦   ¦       ¦           ¦   ¦           ¦   ¦       ¦       ¦--Attended TPT referral                                                                         ,soc.prop.attend.nhs.referral,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.attending.nhs.tb.service,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,ucost.prison.escort ,ucost.nhs.tb.service,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦   ¦       ¦           ¦   ¦           ¦   ¦       ¦       ¦   °--TPT outcomes                                                                              ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦   ¦       ¦           ¦   ¦           ¦   ¦       ¦       ¦       ¦--gets TPT                                                                              ,soc.prop.starting.tpt,cost.tpt.initiation,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.tpt.initiation,0,cost.tpt.initiation,0,0,0,0,0,0,0,0,ucost.prison.escort,ucost.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0
     ¦       ¦   ¦   ¦       ¦           ¦   ¦           ¦   ¦       ¦       ¦       ¦   ¦--completed TPT                                                                     ,soc.prop.completing.tpt,cost.tpt.complete,0,0,0,0,0,0,0,0,0,0,TPT.visits*(ucost.prison.escort),durTPT*(ucost.ltbi.drugs),TPT.visits*(ucost.tpt.opd.visit),durTPT*(ucost.dots),0,0,0,cost.tpt.complete,0,0,cost.tpt.complete,0,0,0,0,0,0,0,(TPT.visits*ucost.prison.escort + durTPT*ucost.dots),(durTPT*ucost.ltbi.drugs+ TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,1
     ¦       ¦   ¦   ¦       ¦           ¦   ¦           ¦   ¦       ¦       ¦       ¦   °--did not complete TPT                                                              ,1-soc.prop.completing.tpt,cost.tpt.incomplete,0,0,0,0,0,0,0,0,0,0,IncompDurTPT / durTPT * TPT.visits*ucost.prison.escort,IncompDurTPT*ucost.ltbi.drugs,IncompDurTPT / durTPT * TPT.visits*ucost.tpt.opd.visit,IncompDurTPT*ucost.dots,0,0,0,cost.tpt.incomplete,0,0,0,cost.tpt.incomplete,0,0,0,0,0,0,(IncompDurTPT/durTPT*TPT.visits*ucost.prison.escort + IncompDurTPT*ucost.dots),(IncompDurTPT*ucost.ltbi.drugs + IncompDurTPT/durTPT*TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1
     ¦       ¦   ¦   ¦       ¦           ¦   ¦           ¦   ¦       ¦       ¦       °--does not get TPT                                                                      ,1-soc.prop.starting.tpt,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦       ¦   ¦   ¦       ¦           ¦   ¦           ¦   ¦       ¦       °--Did not attend TPT referral                                                                   ,1-soc.prop.attend.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦       ¦   ¦   ¦       ¦           ¦   ¦           ¦   ¦       °--In prison/IRC for <3 months                                                                           ,1-soc.prop.staying.3+months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦   ¦       ¦           ¦   ¦           ¦   ¦           ¦--Remaining in the UK (community or other prison/IRC)                                               ,soc.prop.staying.<3months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦   ¦       ¦           ¦   ¦           ¦   ¦           ¦   °--Refer for treatment and forward details to receiving prison/community TB nurse                ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦   ¦       ¦           ¦   ¦           ¦   ¦           ¦       ¦--Attended TPT referral                                                                     ,soc.prop.attend.nhs.referral,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.attending.nhs.tb.service,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,ucost.prison.escort ,ucost.nhs.tb.service,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦   ¦       ¦           ¦   ¦           ¦   ¦           ¦       ¦   °--TPT outcomes                                                                          ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦   ¦       ¦           ¦   ¦           ¦   ¦           ¦       ¦       ¦--gets TPT                                                                          ,soc.prop.starting.tpt,cost.tpt.initiation,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.tpt.initiation,0,cost.tpt.initiation,0,0,0,0,0,0,0,0,ucost.prison.escort,ucost.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0
     ¦       ¦   ¦   ¦       ¦           ¦   ¦           ¦   ¦           ¦       ¦       ¦   ¦--completed TPT                                                                 ,soc.prop.completing.tpt,cost.tpt.complete,0,0,0,0,0,0,0,0,0,0,TPT.visits*(ucost.prison.escort),durTPT*(ucost.ltbi.drugs),TPT.visits*(ucost.tpt.opd.visit),durTPT*(ucost.dots),0,0,0,cost.tpt.complete,0,0,cost.tpt.complete,0,0,0,0,0,0,0,(TPT.visits*ucost.prison.escort + durTPT*ucost.dots),(durTPT*ucost.ltbi.drugs+ TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,1
     ¦       ¦   ¦   ¦       ¦           ¦   ¦           ¦   ¦           ¦       ¦       ¦   °--did not complete TPT                                                          ,1-soc.prop.completing.tpt,cost.tpt.incomplete,0,0,0,0,0,0,0,0,0,0,IncompDurTPT / durTPT * TPT.visits*ucost.prison.escort,IncompDurTPT*ucost.ltbi.drugs,IncompDurTPT / durTPT * TPT.visits*ucost.tpt.opd.visit,IncompDurTPT*ucost.dots,0,0,0,cost.tpt.incomplete,0,0,0,cost.tpt.incomplete,0,0,0,0,0,0,(IncompDurTPT/durTPT*TPT.visits*ucost.prison.escort + IncompDurTPT*ucost.dots),(IncompDurTPT*ucost.ltbi.drugs + IncompDurTPT/durTPT*TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1
     ¦       ¦   ¦   ¦       ¦           ¦   ¦           ¦   ¦           ¦       ¦       °--does not get TPT                                                                  ,1-soc.prop.starting.tpt,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦       ¦   ¦   ¦       ¦           ¦   ¦           ¦   ¦           ¦       °--Did not attend TPT referral                                                               ,1-soc.prop.attend.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦       ¦   ¦   ¦       ¦           ¦   ¦           ¦   ¦           °--Early removal scheme or deportation                                                               ,1-soc.prop.staying.<3months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦       ¦   ¦   ¦       ¦           ¦   ¦           ¦   °--Did not attend TB referral                                                                                    ,1-soc.prop.attend.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦       ¦   ¦   ¦       ¦           ¦   ¦           °--Not referred to NHS TB service                                                                                    ,1-nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦       ¦   ¦   ¦       ¦           ¦   °--IGRA test -                                                                                                                   ,1-soc.prop.igra.test.positive,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦       ¦   ¦   ¦       ¦           °--no IGRA test                                                                                                                      ,1-soc.prop.igra.tested,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦       ¦   ¦   ¦       °--Did not attend TB referral                                                                                                                    ,1-soc.prop.attend.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦       ¦   ¦   °--No clinical suspicion of TB                                                                                                                           ,1-soc.prop.clinical.tb.suspicion,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦       °--LTBI pathway                                                                                                                                      ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦           ¦--IGRA test                                                                                                                                     ,soc.prop.igra.tested,cost.igra.test,0,0,0,0,0,0,0,0,0,cost.igra.test,0,0,0,0,0,0,0,cost.igra.test,0,0,0,0,0,0,0,0,0,0,0,ucost.igra.test,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦           ¦   ¦--IGRA test +                                                                                                                               ,soc.prop.igra.test.positive,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦           ¦   ¦   ¦--Previous chest x-ray                                                                                                                  ,soc.prop.prev.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦           ¦   ¦   ¦   ¦--Abornomal chest x-ray                                                                                                             ,soc.prop.abnormal.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦           ¦   ¦   ¦   ¦   ¦--Referred to NHS TB service                                                                                                    ,nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦           ¦   ¦   ¦   ¦   ¦   ¦--Attended TB referral                                                                                                      ,soc.prop.attend.nhs.referral,cost.tb.evaluation,0,cost.tb.evaluation,0,0,0,cost.nhs.tb.service,0,ucost.prison.escort,cost.tb.investigations,0,0,0,0,0,0,0,cost.tb.evaluation,0,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort ,ucost.nhs.tb.service + ucost.tb.investigations,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦           ¦   ¦   ¦   ¦   ¦   ¦   ¦--TB                                                                                                                    ,soc.prop.abn.xray.tb.dx,cost.contact.management,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,cost.contact.management,smear.positive * (cost.prison.isolation),0,0,0,smear.positive * (nContacts * ucost.contact.tracing),cost.contact.management,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0
     ¦       ¦   ¦           ¦   ¦   ¦   ¦   ¦   ¦   ¦   °--TB outcomes                                                                                                       ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦           ¦   ¦   ¦   ¦   ¦   ¦   ¦       ¦--ATT                                                                                                           ,soc.prop.starting.att,cost.att.initiation,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,0,0,0,0,0,cost.att.initiation,0,cost.att.initiation,0,0,0,ucost.prison.escort,ucost.nhs.tb.service ,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0
     ¦       ¦   ¦           ¦   ¦   ¦   ¦   ¦   ¦   ¦       ¦   ¦--completed ATT                                                                                             ,soc.prop.completing.att,cost.att.complete,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort * (pDSTB * dstb.visits + (1 - pDSTB) * mdrtb.visits) ,pDSTB * DurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * DurMDRTB * ucost.mdratt.drugs,pDSTB * dstb.visits*ucost.dstb.opd.visit + (1 - pDSTB) * mdrtb.visits * ucost.mdrtb.opd.visit,ucost.dots * (pDSTB * DurDSTB + (1 - pDSTB) * DurMDRTB),(pDSTB * smear.positive * DurDSTBIsolation * ucost.dstb.ipd +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * ucost.mdrtb.ipd + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * ucost.mdrtb.ipd),ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation),0,0,0,0,0,0,cost.att.complete,0,0,cost.att.complete,0,0,(ucost.prison.escort * (pDSTB * dstb.visits + (1 - pDSTB) * mdrtb.visits)  + ucost.dots * (pDSTB * DurDSTB + (1 - pDSTB) * DurMDRTB) + ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation)),(pDSTB * DurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * DurMDRTB * ucost.mdratt.drugs + pDSTB * dstb.visits*(ucost.dstb.opd.visit) + (1 - pDSTB) * mdrtb.visits * (ucost.mdrtb.opd.visit) + (pDSTB * smear.positive * DurDSTBIsolation * (ucost.dstb.ipd) +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * (ucost.mdrtb.ipd) + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * (ucost.mdrtb.ipd))),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,1
     ¦       ¦   ¦           ¦   ¦   ¦   ¦   ¦   ¦   ¦       ¦   °--did not complete ATT                                                                                      ,1-soc.prop.completing.att,cost.att.incomplete ,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort * (IncompDurDSTB/DurDSTB*pDSTB * dstb.visits + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits),pDSTB  * IncompDurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * IncompDurMDRTB  * ucost.mdratt.drugs,IncompDurDSTB / DurDSTB * pDSTB * dstb.visits*ucost.dstb.opd.visit + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits * ucost.mdrtb.opd.visit,ucost.dots * (pDSTB * IncompDurDSTB + (1 - pDSTB) * IncompDurMDRTB),(pDSTB * smear.positive * DurDSTBIsolation * ucost.dstb.ipd +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * ucost.mdrtb.ipd + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * ucost.mdrtb.ipd),ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation),0,0,0,0,0,0,cost.att.incomplete ,0,0,0,cost.att.incomplete ,0,(ucost.prison.escort * (IncompDurDSTB/DurDSTB*pDSTB * dstb.visits + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits) + ucost.dots * (pDSTB * IncompDurDSTB + (1 - pDSTB) * IncompDurMDRTB) + ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  + (1 - pDSTB) * smear.positive * DurMDRTB2Isolation+ (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation)),(pDSTB  * IncompDurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * IncompDurMDRTB * ucost.mdratt.drugs) + (IncompDurDSTB / DurDSTB * pDSTB * dstb.visits*ucost.dstb.opd.visit + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits * ucost.mdrtb.opd.visit) + ((pDSTB * smear.positive * DurDSTBIsolation * (ucost.dstb.ipd) +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * (ucost.mdrtb.ipd) +(1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * (ucost.mdrtb.ipd))),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦       ¦   ¦           ¦   ¦   ¦   ¦   ¦   ¦   ¦       °--no ATT                                                                                                        ,1-soc.prop.starting.att,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦       ¦   ¦           ¦   ¦   ¦   ¦   ¦   ¦   °--Not TB                                                                                                                ,1-soc.prop.abn.xray.tb.dx,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦           ¦   ¦   ¦   ¦   ¦   ¦       ¦--In prison/IRC for >3 months                                                                                       ,soc.prop.staying.3+months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦           ¦   ¦   ¦   ¦   ¦   ¦       ¦   °--Refer for treatment                                                                                           ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦           ¦   ¦   ¦   ¦   ¦   ¦       ¦       ¦--Attended TPT referral                                                                                     ,soc.prop.attend.nhs.referral,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.attending.nhs.tb.service,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,ucost.prison.escort ,ucost.nhs.tb.service,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦           ¦   ¦   ¦   ¦   ¦   ¦       ¦       ¦   °--TPT outcomes                                                                                          ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦           ¦   ¦   ¦   ¦   ¦   ¦       ¦       ¦       ¦--gets TPT                                                                                          ,soc.prop.starting.tpt,cost.tpt.initiation,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.tpt.initiation,0,cost.tpt.initiation,0,0,0,0,0,0,0,0,ucost.prison.escort,ucost.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0
     ¦       ¦   ¦           ¦   ¦   ¦   ¦   ¦   ¦       ¦       ¦       ¦   ¦--completed TPT                                                                                 ,soc.prop.completing.tpt,cost.tpt.complete,0,0,0,0,0,0,0,0,0,0,TPT.visits*(ucost.prison.escort),durTPT*(ucost.ltbi.drugs),TPT.visits*(ucost.tpt.opd.visit),durTPT*(ucost.dots),0,0,0,cost.tpt.complete,0,0,cost.tpt.complete,0,0,0,0,0,0,0,(TPT.visits*ucost.prison.escort + durTPT*ucost.dots),(durTPT*ucost.ltbi.drugs+ TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,1
     ¦       ¦   ¦           ¦   ¦   ¦   ¦   ¦   ¦       ¦       ¦       ¦   °--did not complete TPT                                                                          ,1-soc.prop.completing.tpt,cost.tpt.incomplete,0,0,0,0,0,0,0,0,0,0,IncompDurTPT / durTPT * TPT.visits*ucost.prison.escort,IncompDurTPT*ucost.ltbi.drugs,IncompDurTPT / durTPT * TPT.visits*ucost.tpt.opd.visit,IncompDurTPT*ucost.dots,0,0,0,cost.tpt.incomplete,0,0,0,cost.tpt.incomplete,0,0,0,0,0,0,(IncompDurTPT/durTPT*TPT.visits*ucost.prison.escort + IncompDurTPT*ucost.dots),(IncompDurTPT*ucost.ltbi.drugs + IncompDurTPT/durTPT*TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1
     ¦       ¦   ¦           ¦   ¦   ¦   ¦   ¦   ¦       ¦       ¦       °--does not get TPT                                                                                  ,1-soc.prop.starting.tpt,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦       ¦   ¦           ¦   ¦   ¦   ¦   ¦   ¦       ¦       °--Did not attend TB referral TPT referral                                                                   ,1-soc.prop.attend.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦       ¦   ¦           ¦   ¦   ¦   ¦   ¦   ¦       °--In prison/IRC for <3 months                                                                                       ,1-soc.prop.staying.3+months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦           ¦   ¦   ¦   ¦   ¦   ¦           ¦--Remaining in the UK (community or other prison/IRC)                                                           ,soc.prop.staying.<3months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦           ¦   ¦   ¦   ¦   ¦   ¦           ¦   °--Refer for treatment and forward details to receiving prison/community TB nurse                            ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦           ¦   ¦   ¦   ¦   ¦   ¦           ¦       ¦--Attended TPT referral                                                                                 ,soc.prop.attend.nhs.referral,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.attending.nhs.tb.service,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,ucost.prison.escort ,ucost.nhs.tb.service,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦           ¦   ¦   ¦   ¦   ¦   ¦           ¦       ¦   °--TPT outcomes                                                                                      ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦           ¦   ¦   ¦   ¦   ¦   ¦           ¦       ¦       ¦--gets TPT                                                                                      ,soc.prop.starting.tpt,cost.tpt.initiation,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.tpt.initiation,0,cost.tpt.initiation,0,0,0,0,0,0,0,0,ucost.prison.escort,ucost.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0
     ¦       ¦   ¦           ¦   ¦   ¦   ¦   ¦   ¦           ¦       ¦       ¦   ¦--completed TPT                                                                             ,soc.prop.completing.tpt,cost.tpt.complete,0,0,0,0,0,0,0,0,0,0,TPT.visits*(ucost.prison.escort),durTPT*(ucost.ltbi.drugs),TPT.visits*(ucost.tpt.opd.visit),durTPT*(ucost.dots),0,0,0,cost.tpt.complete,0,0,cost.tpt.complete,0,0,0,0,0,0,0,(TPT.visits*ucost.prison.escort + durTPT*ucost.dots),(durTPT*ucost.ltbi.drugs+ TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,1
     ¦       ¦   ¦           ¦   ¦   ¦   ¦   ¦   ¦           ¦       ¦       ¦   °--did not complete TPT                                                                      ,1-soc.prop.completing.tpt,cost.tpt.incomplete,0,0,0,0,0,0,0,0,0,0,IncompDurTPT / durTPT * TPT.visits*ucost.prison.escort,IncompDurTPT*ucost.ltbi.drugs,IncompDurTPT / durTPT * TPT.visits*ucost.tpt.opd.visit,IncompDurTPT*ucost.dots,0,0,0,cost.tpt.incomplete,0,0,0,cost.tpt.incomplete,0,0,0,0,0,0,(IncompDurTPT/durTPT*TPT.visits*ucost.prison.escort + IncompDurTPT*ucost.dots),(IncompDurTPT*ucost.ltbi.drugs + IncompDurTPT/durTPT*TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1
     ¦       ¦   ¦           ¦   ¦   ¦   ¦   ¦   ¦           ¦       ¦       °--does not get TPT                                                                              ,1-soc.prop.starting.tpt,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦       ¦   ¦           ¦   ¦   ¦   ¦   ¦   ¦           ¦       °--Did not attend TPT referral                                                                           ,1-soc.prop.attend.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦       ¦   ¦           ¦   ¦   ¦   ¦   ¦   ¦           °--Early removal scheme or deportation                                                                           ,1-soc.prop.staying.<3months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦       ¦   ¦           ¦   ¦   ¦   ¦   ¦   °--Did not attend TB referral                                                                                                ,1-soc.prop.attend.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦       ¦   ¦           ¦   ¦   ¦   ¦   °--Not referred to NHS TB service                                                                                                ,1-nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦       ¦   ¦           ¦   ¦   ¦   °--Normal chest x-ray                                                                                                                ,1-soc.prop.abnormal.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦           ¦   ¦   ¦       ¦--In prison/IRC for >3 months                                                                                                   ,soc.prop.staying.3+months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦           ¦   ¦   ¦       ¦   °--Refer for treatment                                                                                                       ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦           ¦   ¦   ¦       ¦       ¦--Attended TPT referral                                                                                                 ,soc.prop.attend.nhs.referral,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.attending.nhs.tb.service,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,ucost.prison.escort ,ucost.nhs.tb.service,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦           ¦   ¦   ¦       ¦       ¦   °--TPT outcomes                                                                                                      ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦           ¦   ¦   ¦       ¦       ¦       ¦--gets TPT                                                                                                      ,soc.prop.starting.tpt,cost.tpt.initiation,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.tpt.initiation,0,cost.tpt.initiation,0,0,0,0,0,0,0,0,ucost.prison.escort,ucost.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0
     ¦       ¦   ¦           ¦   ¦   ¦       ¦       ¦       ¦   ¦--completed TPT                                                                                             ,soc.prop.completing.tpt,cost.tpt.complete,0,0,0,0,0,0,0,0,0,0,TPT.visits*(ucost.prison.escort),durTPT*(ucost.ltbi.drugs),TPT.visits*(ucost.tpt.opd.visit),durTPT*(ucost.dots),0,0,0,cost.tpt.complete,0,0,cost.tpt.complete,0,0,0,0,0,0,0,(TPT.visits*ucost.prison.escort + durTPT*ucost.dots),(durTPT*ucost.ltbi.drugs+ TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,1
     ¦       ¦   ¦           ¦   ¦   ¦       ¦       ¦       ¦   °--did not complete TPT                                                                                      ,1-soc.prop.completing.tpt,cost.tpt.incomplete,0,0,0,0,0,0,0,0,0,0,IncompDurTPT / durTPT * TPT.visits*ucost.prison.escort,IncompDurTPT*ucost.ltbi.drugs,IncompDurTPT / durTPT * TPT.visits*ucost.tpt.opd.visit,IncompDurTPT*ucost.dots,0,0,0,cost.tpt.incomplete,0,0,0,cost.tpt.incomplete,0,0,0,0,0,0,(IncompDurTPT/durTPT*TPT.visits*ucost.prison.escort + IncompDurTPT*ucost.dots),(IncompDurTPT*ucost.ltbi.drugs + IncompDurTPT/durTPT*TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1
     ¦       ¦   ¦           ¦   ¦   ¦       ¦       ¦       °--does not get TPT                                                                                              ,1-soc.prop.starting.tpt,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦       ¦   ¦           ¦   ¦   ¦       ¦       °--Did not attend TPT referral                                                                                           ,1-soc.prop.attend.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦       ¦   ¦           ¦   ¦   ¦       °--In prison/IRC for <3 months                                                                                                   ,1-soc.prop.staying.3+months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦           ¦   ¦   ¦           ¦--Remaining in the UK (community or other prison/IRC)                                                                       ,soc.prop.staying.<3months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦           ¦   ¦   ¦           ¦   °--Refer for treatment and forward details to receiving prison/community TB nurse                                        ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦           ¦   ¦   ¦           ¦       ¦--Attended TPT referral                                                                                             ,soc.prop.attend.nhs.referral,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.attending.nhs.tb.service,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,ucost.prison.escort ,ucost.nhs.tb.service,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦           ¦   ¦   ¦           ¦       ¦   °--TPT outcomes                                                                                                  ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦           ¦   ¦   ¦           ¦       ¦       ¦--gets TPT                                                                                                  ,soc.prop.starting.tpt,cost.tpt.initiation,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.tpt.initiation,0,cost.tpt.initiation,0,0,0,0,0,0,0,0,ucost.prison.escort,ucost.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0
     ¦       ¦   ¦           ¦   ¦   ¦           ¦       ¦       ¦   ¦--completed TPT                                                                                         ,soc.prop.completing.tpt,cost.tpt.complete,0,0,0,0,0,0,0,0,0,0,TPT.visits*(ucost.prison.escort),durTPT*(ucost.ltbi.drugs),TPT.visits*(ucost.tpt.opd.visit),durTPT*(ucost.dots),0,0,0,cost.tpt.complete,0,0,cost.tpt.complete,0,0,0,0,0,0,0,(TPT.visits*ucost.prison.escort + durTPT*ucost.dots),(durTPT*ucost.ltbi.drugs+ TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,1
     ¦       ¦   ¦           ¦   ¦   ¦           ¦       ¦       ¦   °--did not complete TPT                                                                                  ,1-soc.prop.completing.tpt,cost.tpt.incomplete,0,0,0,0,0,0,0,0,0,0,IncompDurTPT / durTPT * TPT.visits*ucost.prison.escort,IncompDurTPT*ucost.ltbi.drugs,IncompDurTPT / durTPT * TPT.visits*ucost.tpt.opd.visit,IncompDurTPT*ucost.dots,0,0,0,cost.tpt.incomplete,0,0,0,cost.tpt.incomplete,0,0,0,0,0,0,(IncompDurTPT/durTPT*TPT.visits*ucost.prison.escort + IncompDurTPT*ucost.dots),(IncompDurTPT*ucost.ltbi.drugs + IncompDurTPT/durTPT*TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1
     ¦       ¦   ¦           ¦   ¦   ¦           ¦       ¦       °--does not get TPT                                                                                          ,1-soc.prop.starting.tpt,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦       ¦   ¦           ¦   ¦   ¦           ¦       °--Did not attend TPT referral                                                                                       ,1-soc.prop.attend.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦       ¦   ¦           ¦   ¦   ¦           °--Early removal scheme or deportation                                                                                       ,1-soc.prop.staying.<3months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦       ¦   ¦           ¦   ¦   °--No previous chest x-ray                                                                                                               ,1-soc.prop.prev.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦           ¦   ¦       ¦--Chest x-ray                                                                                                                       ,soc.prop.xray,cost.chest.xray,0,cost.chest.xray,0,ucost.chest.xray,0,0,ucost.prison.escort,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,ucost.chest.xray,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦           ¦   ¦       ¦   ¦--Abornomal chest x-ray                                                                                                         ,soc.prop.abnormal.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦           ¦   ¦       ¦   ¦   ¦--Referred to NHS TB service                                                                                                ,nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦           ¦   ¦       ¦   ¦   ¦   ¦--Attended TB referral                                                                                                  ,soc.prop.attend.nhs.referral,cost.tb.evaluation,0,cost.tb.evaluation,0,0,0,cost.nhs.tb.service,0,ucost.prison.escort,cost.tb.investigations,0,0,0,0,0,0,0,cost.tb.evaluation,0,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort ,ucost.nhs.tb.service + ucost.tb.investigations,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦           ¦   ¦       ¦   ¦   ¦   ¦   ¦--TB                                                                                                                ,soc.prop.abn.xray.tb.dx,cost.contact.management,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,cost.contact.management,smear.positive * (cost.prison.isolation),0,0,0,smear.positive * (nContacts * ucost.contact.tracing),cost.contact.management,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0
     ¦       ¦   ¦           ¦   ¦       ¦   ¦   ¦   ¦   ¦   °--TB outcomes                                                                                                   ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦           ¦   ¦       ¦   ¦   ¦   ¦   ¦       ¦--ATT                                                                                                       ,soc.prop.starting.att,cost.att.initiation,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,0,0,0,0,0,cost.att.initiation,0,cost.att.initiation,0,0,0,ucost.prison.escort,ucost.nhs.tb.service ,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0
     ¦       ¦   ¦           ¦   ¦       ¦   ¦   ¦   ¦   ¦       ¦   ¦--completed ATT                                                                                         ,soc.prop.completing.att,cost.att.complete,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort * (pDSTB * dstb.visits + (1 - pDSTB) * mdrtb.visits) ,pDSTB * DurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * DurMDRTB * ucost.mdratt.drugs,pDSTB * dstb.visits*ucost.dstb.opd.visit + (1 - pDSTB) * mdrtb.visits * ucost.mdrtb.opd.visit,ucost.dots * (pDSTB * DurDSTB + (1 - pDSTB) * DurMDRTB),(pDSTB * smear.positive * DurDSTBIsolation * ucost.dstb.ipd +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * ucost.mdrtb.ipd + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * ucost.mdrtb.ipd),ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation),0,0,0,0,0,0,cost.att.complete,0,0,cost.att.complete,0,0,(ucost.prison.escort * (pDSTB * dstb.visits + (1 - pDSTB) * mdrtb.visits)  + ucost.dots * (pDSTB * DurDSTB + (1 - pDSTB) * DurMDRTB) + ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation)),(pDSTB * DurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * DurMDRTB * ucost.mdratt.drugs + pDSTB * dstb.visits*(ucost.dstb.opd.visit) + (1 - pDSTB) * mdrtb.visits * (ucost.mdrtb.opd.visit) + (pDSTB * smear.positive * DurDSTBIsolation * (ucost.dstb.ipd) +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * (ucost.mdrtb.ipd) + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * (ucost.mdrtb.ipd))),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,1
     ¦       ¦   ¦           ¦   ¦       ¦   ¦   ¦   ¦   ¦       ¦   °--did not complete ATT                                                                                  ,1-soc.prop.completing.att,cost.att.incomplete ,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort * (IncompDurDSTB/DurDSTB*pDSTB * dstb.visits + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits),pDSTB  * IncompDurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * IncompDurMDRTB  * ucost.mdratt.drugs,IncompDurDSTB / DurDSTB * pDSTB * dstb.visits*ucost.dstb.opd.visit + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits * ucost.mdrtb.opd.visit,ucost.dots * (pDSTB * IncompDurDSTB + (1 - pDSTB) * IncompDurMDRTB),(pDSTB * smear.positive * DurDSTBIsolation * ucost.dstb.ipd +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * ucost.mdrtb.ipd + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * ucost.mdrtb.ipd),ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation),0,0,0,0,0,0,cost.att.incomplete ,0,0,0,cost.att.incomplete ,0,(ucost.prison.escort * (IncompDurDSTB/DurDSTB*pDSTB * dstb.visits + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits) + ucost.dots * (pDSTB * IncompDurDSTB + (1 - pDSTB) * IncompDurMDRTB) + ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  + (1 - pDSTB) * smear.positive * DurMDRTB2Isolation+ (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation)),(pDSTB  * IncompDurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * IncompDurMDRTB * ucost.mdratt.drugs) + (IncompDurDSTB / DurDSTB * pDSTB * dstb.visits*ucost.dstb.opd.visit + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits * ucost.mdrtb.opd.visit) + ((pDSTB * smear.positive * DurDSTBIsolation * (ucost.dstb.ipd) +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * (ucost.mdrtb.ipd) +(1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * (ucost.mdrtb.ipd))),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦       ¦   ¦           ¦   ¦       ¦   ¦   ¦   ¦   ¦       °--no ATT                                                                                                    ,1-soc.prop.starting.att,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦       ¦   ¦           ¦   ¦       ¦   ¦   ¦   ¦   °--Not TB                                                                                                            ,1-soc.prop.abn.xray.tb.dx,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦           ¦   ¦       ¦   ¦   ¦   ¦       ¦--In prison/IRC for >3 months                                                                                   ,soc.prop.staying.3+months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦           ¦   ¦       ¦   ¦   ¦   ¦       ¦   °--Refer for treatment                                                                                       ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦           ¦   ¦       ¦   ¦   ¦   ¦       ¦       ¦--Attended TPT referral                                                                                 ,soc.prop.attend.nhs.referral,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.attending.nhs.tb.service,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,ucost.prison.escort ,ucost.nhs.tb.service,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦           ¦   ¦       ¦   ¦   ¦   ¦       ¦       ¦   °--TPT outcomes                                                                                      ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦           ¦   ¦       ¦   ¦   ¦   ¦       ¦       ¦       ¦--gets TPT                                                                                      ,soc.prop.starting.tpt,cost.tpt.initiation,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.tpt.initiation,0,cost.tpt.initiation,0,0,0,0,0,0,0,0,ucost.prison.escort,ucost.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0
     ¦       ¦   ¦           ¦   ¦       ¦   ¦   ¦   ¦       ¦       ¦       ¦   ¦--completed TPT                                                                             ,soc.prop.completing.tpt,cost.tpt.complete,0,0,0,0,0,0,0,0,0,0,TPT.visits*(ucost.prison.escort),durTPT*(ucost.ltbi.drugs),TPT.visits*(ucost.tpt.opd.visit),durTPT*(ucost.dots),0,0,0,cost.tpt.complete,0,0,cost.tpt.complete,0,0,0,0,0,0,0,(TPT.visits*ucost.prison.escort + durTPT*ucost.dots),(durTPT*ucost.ltbi.drugs+ TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,1
     ¦       ¦   ¦           ¦   ¦       ¦   ¦   ¦   ¦       ¦       ¦       ¦   °--did not complete TPT                                                                      ,1-soc.prop.completing.tpt,cost.tpt.incomplete,0,0,0,0,0,0,0,0,0,0,IncompDurTPT / durTPT * TPT.visits*ucost.prison.escort,IncompDurTPT*ucost.ltbi.drugs,IncompDurTPT / durTPT * TPT.visits*ucost.tpt.opd.visit,IncompDurTPT*ucost.dots,0,0,0,cost.tpt.incomplete,0,0,0,cost.tpt.incomplete,0,0,0,0,0,0,(IncompDurTPT/durTPT*TPT.visits*ucost.prison.escort + IncompDurTPT*ucost.dots),(IncompDurTPT*ucost.ltbi.drugs + IncompDurTPT/durTPT*TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1
     ¦       ¦   ¦           ¦   ¦       ¦   ¦   ¦   ¦       ¦       ¦       °--does not get TPT                                                                              ,1-soc.prop.starting.tpt,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦       ¦   ¦           ¦   ¦       ¦   ¦   ¦   ¦       ¦       °--Did not attend TPT referral                                                                           ,1-soc.prop.attend.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦       ¦   ¦           ¦   ¦       ¦   ¦   ¦   ¦       °--In prison/IRC for <3 months                                                                                   ,1-soc.prop.staying.3+months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦           ¦   ¦       ¦   ¦   ¦   ¦           ¦--Remaining in the UK (community or other prison/IRC)                                                       ,soc.prop.staying.<3months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦           ¦   ¦       ¦   ¦   ¦   ¦           ¦   °--Refer for treatment and forward details to receiving prison/community TB nurse                        ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦           ¦   ¦       ¦   ¦   ¦   ¦           ¦       ¦--Attended TPT referral                                                                             ,soc.prop.attend.nhs.referral,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.attending.nhs.tb.service,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,ucost.prison.escort ,ucost.nhs.tb.service,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦           ¦   ¦       ¦   ¦   ¦   ¦           ¦       ¦   °--TPT outcomes                                                                                  ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦           ¦   ¦       ¦   ¦   ¦   ¦           ¦       ¦       ¦--gets TPT                                                                                  ,soc.prop.starting.tpt,cost.tpt.initiation,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.tpt.initiation,0,cost.tpt.initiation,0,0,0,0,0,0,0,0,ucost.prison.escort,ucost.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0
     ¦       ¦   ¦           ¦   ¦       ¦   ¦   ¦   ¦           ¦       ¦       ¦   ¦--completed TPT                                                                         ,soc.prop.completing.tpt,cost.tpt.complete,0,0,0,0,0,0,0,0,0,0,TPT.visits*(ucost.prison.escort),durTPT*(ucost.ltbi.drugs),TPT.visits*(ucost.tpt.opd.visit),durTPT*(ucost.dots),0,0,0,cost.tpt.complete,0,0,cost.tpt.complete,0,0,0,0,0,0,0,(TPT.visits*ucost.prison.escort + durTPT*ucost.dots),(durTPT*ucost.ltbi.drugs+ TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,1
     ¦       ¦   ¦           ¦   ¦       ¦   ¦   ¦   ¦           ¦       ¦       ¦   °--did not complete TPT                                                                  ,1-soc.prop.completing.tpt,cost.tpt.incomplete,0,0,0,0,0,0,0,0,0,0,IncompDurTPT / durTPT * TPT.visits*ucost.prison.escort,IncompDurTPT*ucost.ltbi.drugs,IncompDurTPT / durTPT * TPT.visits*ucost.tpt.opd.visit,IncompDurTPT*ucost.dots,0,0,0,cost.tpt.incomplete,0,0,0,cost.tpt.incomplete,0,0,0,0,0,0,(IncompDurTPT/durTPT*TPT.visits*ucost.prison.escort + IncompDurTPT*ucost.dots),(IncompDurTPT*ucost.ltbi.drugs + IncompDurTPT/durTPT*TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1
     ¦       ¦   ¦           ¦   ¦       ¦   ¦   ¦   ¦           ¦       ¦       °--does not get TPT                                                                          ,1-soc.prop.starting.tpt,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦       ¦   ¦           ¦   ¦       ¦   ¦   ¦   ¦           ¦       °--Did not attend TPT referral                                                                       ,1-soc.prop.attend.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦       ¦   ¦           ¦   ¦       ¦   ¦   ¦   ¦           °--Early removal scheme or deportation                                                                       ,1-soc.prop.staying.<3months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦       ¦   ¦           ¦   ¦       ¦   ¦   ¦   °--Did not attend TB referral                                                                                            ,1-soc.prop.attend.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦       ¦   ¦           ¦   ¦       ¦   ¦   °--Not referred to NHS TB service                                                                                            ,1-nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦       ¦   ¦           ¦   ¦       ¦   °--Normal chest x-ray                                                                                                            ,1-soc.prop.abnormal.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦           ¦   ¦       ¦       ¦--In prison/IRC for >3 months                                                                                               ,soc.prop.staying.3+months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦           ¦   ¦       ¦       ¦   °--Refer for treatment                                                                                                   ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦           ¦   ¦       ¦       ¦       ¦--Attended TPT referral                                                                                             ,soc.prop.attend.nhs.referral,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.attending.nhs.tb.service,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,ucost.prison.escort ,ucost.nhs.tb.service,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦           ¦   ¦       ¦       ¦       ¦   °--TPT outcomes                                                                                                  ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦           ¦   ¦       ¦       ¦       ¦       ¦--gets TPT                                                                                                  ,soc.prop.starting.tpt,cost.tpt.initiation,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.tpt.initiation,0,cost.tpt.initiation,0,0,0,0,0,0,0,0,ucost.prison.escort,ucost.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0
     ¦       ¦   ¦           ¦   ¦       ¦       ¦       ¦       ¦   ¦--completed TPT                                                                                         ,soc.prop.completing.tpt,cost.tpt.complete,0,0,0,0,0,0,0,0,0,0,TPT.visits*(ucost.prison.escort),durTPT*(ucost.ltbi.drugs),TPT.visits*(ucost.tpt.opd.visit),durTPT*(ucost.dots),0,0,0,cost.tpt.complete,0,0,cost.tpt.complete,0,0,0,0,0,0,0,(TPT.visits*ucost.prison.escort + durTPT*ucost.dots),(durTPT*ucost.ltbi.drugs+ TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,1
     ¦       ¦   ¦           ¦   ¦       ¦       ¦       ¦       ¦   °--did not complete TPT                                                                                  ,1-soc.prop.completing.tpt,cost.tpt.incomplete,0,0,0,0,0,0,0,0,0,0,IncompDurTPT / durTPT * TPT.visits*ucost.prison.escort,IncompDurTPT*ucost.ltbi.drugs,IncompDurTPT / durTPT * TPT.visits*ucost.tpt.opd.visit,IncompDurTPT*ucost.dots,0,0,0,cost.tpt.incomplete,0,0,0,cost.tpt.incomplete,0,0,0,0,0,0,(IncompDurTPT/durTPT*TPT.visits*ucost.prison.escort + IncompDurTPT*ucost.dots),(IncompDurTPT*ucost.ltbi.drugs + IncompDurTPT/durTPT*TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1
     ¦       ¦   ¦           ¦   ¦       ¦       ¦       ¦       °--does not get TPT                                                                                          ,1-soc.prop.starting.tpt,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦       ¦   ¦           ¦   ¦       ¦       ¦       °--Did not attend TPT referral                                                                                       ,1-soc.prop.attend.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦       ¦   ¦           ¦   ¦       ¦       °--In prison/IRC for <3 months                                                                                               ,1-soc.prop.staying.3+months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦           ¦   ¦       ¦           ¦--Remaining in the UK (community or other prison/IRC)                                                                   ,soc.prop.staying.<3months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦           ¦   ¦       ¦           ¦   °--Refer for treatment and forward details to receiving prison/community TB nurse                                    ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦           ¦   ¦       ¦           ¦       ¦--Attended TPT referral                                                                                         ,soc.prop.attend.nhs.referral,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.attending.nhs.tb.service,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,ucost.prison.escort ,ucost.nhs.tb.service,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦           ¦   ¦       ¦           ¦       ¦   °--TPT outcomes                                                                                              ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦           ¦   ¦       ¦           ¦       ¦       ¦--gets TPT                                                                                              ,soc.prop.starting.tpt,cost.tpt.initiation,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.tpt.initiation,0,cost.tpt.initiation,0,0,0,0,0,0,0,0,ucost.prison.escort,ucost.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0
     ¦       ¦   ¦           ¦   ¦       ¦           ¦       ¦       ¦   ¦--completed TPT                                                                                     ,soc.prop.completing.tpt,cost.tpt.complete,0,0,0,0,0,0,0,0,0,0,TPT.visits*(ucost.prison.escort),durTPT*(ucost.ltbi.drugs),TPT.visits*(ucost.tpt.opd.visit),durTPT*(ucost.dots),0,0,0,cost.tpt.complete,0,0,cost.tpt.complete,0,0,0,0,0,0,0,(TPT.visits*ucost.prison.escort + durTPT*ucost.dots),(durTPT*ucost.ltbi.drugs+ TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,1
     ¦       ¦   ¦           ¦   ¦       ¦           ¦       ¦       ¦   °--did not complete TPT                                                                              ,1-soc.prop.completing.tpt,cost.tpt.incomplete,0,0,0,0,0,0,0,0,0,0,IncompDurTPT / durTPT * TPT.visits*ucost.prison.escort,IncompDurTPT*ucost.ltbi.drugs,IncompDurTPT / durTPT * TPT.visits*ucost.tpt.opd.visit,IncompDurTPT*ucost.dots,0,0,0,cost.tpt.incomplete,0,0,0,cost.tpt.incomplete,0,0,0,0,0,0,(IncompDurTPT/durTPT*TPT.visits*ucost.prison.escort + IncompDurTPT*ucost.dots),(IncompDurTPT*ucost.ltbi.drugs + IncompDurTPT/durTPT*TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1
     ¦       ¦   ¦           ¦   ¦       ¦           ¦       ¦       °--does not get TPT                                                                                      ,1-soc.prop.starting.tpt,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦       ¦   ¦           ¦   ¦       ¦           ¦       °--Did not attend TPT referral                                                                                   ,1-soc.prop.attend.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦       ¦   ¦           ¦   ¦       ¦           °--Early removal scheme or deportation                                                                                   ,1-soc.prop.staying.<3months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦       ¦   ¦           ¦   ¦       °--No chest x-ray                                                                                                                    ,1-soc.prop.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦           ¦   ¦           ¦--Referred to NHS TB service                                                                                                    ,nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦           ¦   ¦           ¦   ¦--Attended TB referral                                                                                                      ,soc.prop.attend.nhs.referral,cost.tb.evaluation,0,cost.tb.evaluation,0,0,0,cost.nhs.tb.service,0,ucost.prison.escort,cost.tb.investigations,0,0,0,0,0,0,0,cost.tb.evaluation,0,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort ,ucost.nhs.tb.service + ucost.tb.investigations,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦           ¦   ¦           ¦   ¦   ¦--TB                                                                                                                    ,soc.prop.no.xray.tb.dx,cost.contact.management,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,cost.contact.management,smear.positive * (cost.prison.isolation),0,0,0,smear.positive * (nContacts * ucost.contact.tracing),cost.contact.management,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0
     ¦       ¦   ¦           ¦   ¦           ¦   ¦   ¦   °--TB outcomes                                                                                                       ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦           ¦   ¦           ¦   ¦   ¦       ¦--ATT                                                                                                           ,soc.prop.starting.att,cost.att.initiation,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,0,0,0,0,0,cost.att.initiation,0,cost.att.initiation,0,0,0,ucost.prison.escort,ucost.nhs.tb.service ,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0
     ¦       ¦   ¦           ¦   ¦           ¦   ¦   ¦       ¦   ¦--completed ATT                                                                                             ,soc.prop.completing.att,cost.att.complete,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort * (pDSTB * dstb.visits + (1 - pDSTB) * mdrtb.visits) ,pDSTB * DurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * DurMDRTB * ucost.mdratt.drugs,pDSTB * dstb.visits*ucost.dstb.opd.visit + (1 - pDSTB) * mdrtb.visits * ucost.mdrtb.opd.visit,ucost.dots * (pDSTB * DurDSTB + (1 - pDSTB) * DurMDRTB),(pDSTB * smear.positive * DurDSTBIsolation * ucost.dstb.ipd +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * ucost.mdrtb.ipd + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * ucost.mdrtb.ipd),ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation),0,0,0,0,0,0,cost.att.complete,0,0,cost.att.complete,0,0,(ucost.prison.escort * (pDSTB * dstb.visits + (1 - pDSTB) * mdrtb.visits)  + ucost.dots * (pDSTB * DurDSTB + (1 - pDSTB) * DurMDRTB) + ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation)),(pDSTB * DurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * DurMDRTB * ucost.mdratt.drugs + pDSTB * dstb.visits*(ucost.dstb.opd.visit) + (1 - pDSTB) * mdrtb.visits * (ucost.mdrtb.opd.visit) + (pDSTB * smear.positive * DurDSTBIsolation * (ucost.dstb.ipd) +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * (ucost.mdrtb.ipd) + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * (ucost.mdrtb.ipd))),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,1
     ¦       ¦   ¦           ¦   ¦           ¦   ¦   ¦       ¦   °--did not complete ATT                                                                                      ,1-soc.prop.completing.att,cost.att.incomplete ,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort * (IncompDurDSTB/DurDSTB*pDSTB * dstb.visits + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits),pDSTB  * IncompDurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * IncompDurMDRTB  * ucost.mdratt.drugs,IncompDurDSTB / DurDSTB * pDSTB * dstb.visits*ucost.dstb.opd.visit + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits * ucost.mdrtb.opd.visit,ucost.dots * (pDSTB * IncompDurDSTB + (1 - pDSTB) * IncompDurMDRTB),(pDSTB * smear.positive * DurDSTBIsolation * ucost.dstb.ipd +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * ucost.mdrtb.ipd + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * ucost.mdrtb.ipd),ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation),0,0,0,0,0,0,cost.att.incomplete ,0,0,0,cost.att.incomplete ,0,(ucost.prison.escort * (IncompDurDSTB/DurDSTB*pDSTB * dstb.visits + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits) + ucost.dots * (pDSTB * IncompDurDSTB + (1 - pDSTB) * IncompDurMDRTB) + ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  + (1 - pDSTB) * smear.positive * DurMDRTB2Isolation+ (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation)),(pDSTB  * IncompDurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * IncompDurMDRTB * ucost.mdratt.drugs) + (IncompDurDSTB / DurDSTB * pDSTB * dstb.visits*ucost.dstb.opd.visit + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits * ucost.mdrtb.opd.visit) + ((pDSTB * smear.positive * DurDSTBIsolation * (ucost.dstb.ipd) +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * (ucost.mdrtb.ipd) +(1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * (ucost.mdrtb.ipd))),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦       ¦   ¦           ¦   ¦           ¦   ¦   ¦       °--no ATT                                                                                                        ,1-soc.prop.starting.att,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦       ¦   ¦           ¦   ¦           ¦   ¦   °--Not TB                                                                                                                ,1-soc.prop.no.xray.tb.dx,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦           ¦   ¦           ¦   ¦       ¦--In prison/IRC for >3 months                                                                                       ,soc.prop.staying.3+months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦           ¦   ¦           ¦   ¦       ¦   °--Refer for treatment                                                                                           ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦           ¦   ¦           ¦   ¦       ¦       ¦--Attended TPT referral                                                                                     ,soc.prop.attend.nhs.referral,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.attending.nhs.tb.service,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,ucost.prison.escort ,ucost.nhs.tb.service,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦           ¦   ¦           ¦   ¦       ¦       ¦   °--TPT outcomes                                                                                          ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦           ¦   ¦           ¦   ¦       ¦       ¦       ¦--gets TPT                                                                                          ,soc.prop.starting.tpt,cost.tpt.initiation,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.tpt.initiation,0,cost.tpt.initiation,0,0,0,0,0,0,0,0,ucost.prison.escort,ucost.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0
     ¦       ¦   ¦           ¦   ¦           ¦   ¦       ¦       ¦       ¦   ¦--completed TPT                                                                                 ,soc.prop.completing.tpt,cost.tpt.complete,0,0,0,0,0,0,0,0,0,0,TPT.visits*(ucost.prison.escort),durTPT*(ucost.ltbi.drugs),TPT.visits*(ucost.tpt.opd.visit),durTPT*(ucost.dots),0,0,0,cost.tpt.complete,0,0,cost.tpt.complete,0,0,0,0,0,0,0,(TPT.visits*ucost.prison.escort + durTPT*ucost.dots),(durTPT*ucost.ltbi.drugs+ TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,1
     ¦       ¦   ¦           ¦   ¦           ¦   ¦       ¦       ¦       ¦   °--did not complete TPT                                                                          ,1-soc.prop.completing.tpt,cost.tpt.incomplete,0,0,0,0,0,0,0,0,0,0,IncompDurTPT / durTPT * TPT.visits*ucost.prison.escort,IncompDurTPT*ucost.ltbi.drugs,IncompDurTPT / durTPT * TPT.visits*ucost.tpt.opd.visit,IncompDurTPT*ucost.dots,0,0,0,cost.tpt.incomplete,0,0,0,cost.tpt.incomplete,0,0,0,0,0,0,(IncompDurTPT/durTPT*TPT.visits*ucost.prison.escort + IncompDurTPT*ucost.dots),(IncompDurTPT*ucost.ltbi.drugs + IncompDurTPT/durTPT*TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1
     ¦       ¦   ¦           ¦   ¦           ¦   ¦       ¦       ¦       °--does not get TPT                                                                                  ,1-soc.prop.starting.tpt,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦       ¦   ¦           ¦   ¦           ¦   ¦       ¦       °--Did not attend TPT referral                                                                               ,1-soc.prop.attend.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦       ¦   ¦           ¦   ¦           ¦   ¦       °--In prison/IRC for <3 months                                                                                       ,1-soc.prop.staying.3+months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦           ¦   ¦           ¦   ¦           ¦--Remaining in the UK (community or other prison/IRC)                                                           ,soc.prop.staying.<3months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦           ¦   ¦           ¦   ¦           ¦   °--Refer for treatment and forward details to receiving prison/community TB nurse                            ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦           ¦   ¦           ¦   ¦           ¦       ¦--Attended TPT referral                                                                                 ,soc.prop.attend.nhs.referral,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.attending.nhs.tb.service,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,ucost.prison.escort ,ucost.nhs.tb.service,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦           ¦   ¦           ¦   ¦           ¦       ¦   °--TPT outcomes                                                                                      ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦       ¦   ¦           ¦   ¦           ¦   ¦           ¦       ¦       ¦--gets TPT                                                                                      ,soc.prop.starting.tpt,cost.tpt.initiation,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.tpt.initiation,0,cost.tpt.initiation,0,0,0,0,0,0,0,0,ucost.prison.escort,ucost.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0
     ¦       ¦   ¦           ¦   ¦           ¦   ¦           ¦       ¦       ¦   ¦--completed TPT                                                                             ,soc.prop.completing.tpt,cost.tpt.complete,0,0,0,0,0,0,0,0,0,0,TPT.visits*(ucost.prison.escort),durTPT*(ucost.ltbi.drugs),TPT.visits*(ucost.tpt.opd.visit),durTPT*(ucost.dots),0,0,0,cost.tpt.complete,0,0,cost.tpt.complete,0,0,0,0,0,0,0,(TPT.visits*ucost.prison.escort + durTPT*ucost.dots),(durTPT*ucost.ltbi.drugs+ TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,1
     ¦       ¦   ¦           ¦   ¦           ¦   ¦           ¦       ¦       ¦   °--did not complete TPT                                                                      ,1-soc.prop.completing.tpt,cost.tpt.incomplete,0,0,0,0,0,0,0,0,0,0,IncompDurTPT / durTPT * TPT.visits*ucost.prison.escort,IncompDurTPT*ucost.ltbi.drugs,IncompDurTPT / durTPT * TPT.visits*ucost.tpt.opd.visit,IncompDurTPT*ucost.dots,0,0,0,cost.tpt.incomplete,0,0,0,cost.tpt.incomplete,0,0,0,0,0,0,(IncompDurTPT/durTPT*TPT.visits*ucost.prison.escort + IncompDurTPT*ucost.dots),(IncompDurTPT*ucost.ltbi.drugs + IncompDurTPT/durTPT*TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1
     ¦       ¦   ¦           ¦   ¦           ¦   ¦           ¦       ¦       °--does not get TPT                                                                              ,1-soc.prop.starting.tpt,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦       ¦   ¦           ¦   ¦           ¦   ¦           ¦       °--Did not attend TPT referral                                                                           ,1-soc.prop.attend.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦       ¦   ¦           ¦   ¦           ¦   ¦           °--Early removal scheme or deportation                                                                           ,1-soc.prop.staying.<3months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦       ¦   ¦           ¦   ¦           ¦   °--Did not attend TB referral                                                                                                ,1-soc.prop.attend.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦       ¦   ¦           ¦   ¦           °--Not referred to NHS TB service                                                                                                ,1-nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦       ¦   ¦           ¦   °--IGRA test -                                                                                                                               ,1-soc.prop.igra.test.positive,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦       ¦   ¦           °--no IGRA test                                                                                                                                  ,1-soc.prop.igra.tested,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦       ¦   °--No prison GP assessment                                                                                                                                   ,1-soc.prop.prison.gp.assessment,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦       °--No TB symptoms                                                                                                                                                ,1-soc.prop.presumtive.tb,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦--Chest x-ray < 6 months                                                                                                                                    ,soc.prop.prev.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦   ¦--Abornomal chest x-ray                                                                                                                                 ,soc.prop.abnormal.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦   ¦   °--Urgent referral to local NHS TB service                                                                                                           ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦   ¦       ¦--Attended TB referral                                                                                                                          ,soc.prop.attend.nhs.referral,cost.tb.evaluation,0,cost.tb.evaluation,0,0,0,cost.nhs.tb.service,0,ucost.prison.escort,cost.tb.investigations,0,0,0,0,0,0,0,cost.tb.evaluation,0,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort ,ucost.nhs.tb.service + ucost.tb.investigations,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦   ¦       ¦   ¦--TB                                                                                                                                        ,soc.prop.abn.xray.tb.dx,cost.contact.management,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,cost.contact.management,smear.positive * (cost.prison.isolation),0,0,0,smear.positive * (nContacts * ucost.contact.tracing),cost.contact.management,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0
     ¦           ¦   ¦       ¦   ¦   °--TB outcomes                                                                                                                           ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦   ¦       ¦   ¦       ¦--ATT                                                                                                                               ,soc.prop.starting.att,cost.att.initiation,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,0,0,0,0,0,cost.att.initiation,0,cost.att.initiation,0,0,0,ucost.prison.escort,ucost.nhs.tb.service ,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0
     ¦           ¦   ¦       ¦   ¦       ¦   ¦--completed ATT                                                                                                                 ,soc.prop.completing.att,cost.att.complete,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort * (pDSTB * dstb.visits + (1 - pDSTB) * mdrtb.visits) ,pDSTB * DurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * DurMDRTB * ucost.mdratt.drugs,pDSTB * dstb.visits*ucost.dstb.opd.visit + (1 - pDSTB) * mdrtb.visits * ucost.mdrtb.opd.visit,ucost.dots * (pDSTB * DurDSTB + (1 - pDSTB) * DurMDRTB),(pDSTB * smear.positive * DurDSTBIsolation * ucost.dstb.ipd +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * ucost.mdrtb.ipd + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * ucost.mdrtb.ipd),ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation),0,0,0,0,0,0,cost.att.complete,0,0,cost.att.complete,0,0,(ucost.prison.escort * (pDSTB * dstb.visits + (1 - pDSTB) * mdrtb.visits)  + ucost.dots * (pDSTB * DurDSTB + (1 - pDSTB) * DurMDRTB) + ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation)),(pDSTB * DurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * DurMDRTB * ucost.mdratt.drugs + pDSTB * dstb.visits*(ucost.dstb.opd.visit) + (1 - pDSTB) * mdrtb.visits * (ucost.mdrtb.opd.visit) + (pDSTB * smear.positive * DurDSTBIsolation * (ucost.dstb.ipd) +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * (ucost.mdrtb.ipd) + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * (ucost.mdrtb.ipd))),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,1
     ¦           ¦   ¦       ¦   ¦       ¦   °--did not complete ATT                                                                                                          ,1-soc.prop.completing.att,cost.att.incomplete ,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort * (IncompDurDSTB/DurDSTB*pDSTB * dstb.visits + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits),pDSTB  * IncompDurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * IncompDurMDRTB  * ucost.mdratt.drugs,IncompDurDSTB / DurDSTB * pDSTB * dstb.visits*ucost.dstb.opd.visit + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits * ucost.mdrtb.opd.visit,ucost.dots * (pDSTB * IncompDurDSTB + (1 - pDSTB) * IncompDurMDRTB),(pDSTB * smear.positive * DurDSTBIsolation * ucost.dstb.ipd +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * ucost.mdrtb.ipd + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * ucost.mdrtb.ipd),ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation),0,0,0,0,0,0,cost.att.incomplete ,0,0,0,cost.att.incomplete ,0,(ucost.prison.escort * (IncompDurDSTB/DurDSTB*pDSTB * dstb.visits + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits) + ucost.dots * (pDSTB * IncompDurDSTB + (1 - pDSTB) * IncompDurMDRTB) + ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  + (1 - pDSTB) * smear.positive * DurMDRTB2Isolation+ (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation)),(pDSTB  * IncompDurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * IncompDurMDRTB * ucost.mdratt.drugs) + (IncompDurDSTB / DurDSTB * pDSTB * dstb.visits*ucost.dstb.opd.visit + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits * ucost.mdrtb.opd.visit) + ((pDSTB * smear.positive * DurDSTBIsolation * (ucost.dstb.ipd) +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * (ucost.mdrtb.ipd) +(1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * (ucost.mdrtb.ipd))),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦           ¦   ¦       ¦   ¦       °--no ATT                                                                                                                            ,1-soc.prop.starting.att,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦           ¦   ¦       ¦   °--Not TB                                                                                                                                    ,1-soc.prop.abn.xray.tb.dx,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦   ¦       ¦       °--LTBI pathway                                                                                                                          ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦   ¦       ¦           ¦--IGRA test                                                                                                                         ,soc.prop.igra.tested,cost.igra.test,0,0,0,0,0,0,0,0,0,cost.igra.test,0,0,0,0,0,0,0,cost.igra.test,0,0,0,0,0,0,0,0,0,0,0,ucost.igra.test,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦   ¦       ¦           ¦   ¦--IGRA test +                                                                                                                   ,soc.prop.igra.test.positive,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0
     ¦           ¦   ¦       ¦           ¦   ¦   ¦--Previous chest x-ray                                                                                                      ,soc.prop.prev.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦   ¦       ¦           ¦   ¦   ¦   ¦--Abornomal chest x-ray                                                                                                 ,soc.prop.abnormal.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦--Referred to NHS TB service                                                                                        ,nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦--Attended TB referral                                                                                          ,soc.prop.attend.nhs.referral,cost.tb.evaluation,0,cost.tb.evaluation,0,0,0,cost.nhs.tb.service,0,ucost.prison.escort,cost.tb.investigations,0,0,0,0,0,0,0,cost.tb.evaluation,0,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort ,ucost.nhs.tb.service + ucost.tb.investigations,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦   ¦--TB                                                                                                        ,soc.prop.abn.xray.tb.dx,cost.contact.management,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,cost.contact.management,smear.positive * (cost.prison.isolation),0,0,0,smear.positive * (nContacts * ucost.contact.tracing),cost.contact.management,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0
     ¦           ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦   ¦   °--TB outcomes                                                                                           ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦   ¦       ¦--ATT                                                                                               ,soc.prop.starting.att,cost.att.initiation,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,0,0,0,0,0,cost.att.initiation,0,cost.att.initiation,0,0,0,ucost.prison.escort,ucost.nhs.tb.service ,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0
     ¦           ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦   ¦       ¦   ¦--completed ATT                                                                                 ,soc.prop.completing.att,cost.att.complete,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort * (pDSTB * dstb.visits + (1 - pDSTB) * mdrtb.visits) ,pDSTB * DurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * DurMDRTB * ucost.mdratt.drugs,pDSTB * dstb.visits*ucost.dstb.opd.visit + (1 - pDSTB) * mdrtb.visits * ucost.mdrtb.opd.visit,ucost.dots * (pDSTB * DurDSTB + (1 - pDSTB) * DurMDRTB),(pDSTB * smear.positive * DurDSTBIsolation * ucost.dstb.ipd +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * ucost.mdrtb.ipd + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * ucost.mdrtb.ipd),ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation),0,0,0,0,0,0,cost.att.complete,0,0,cost.att.complete,0,0,(ucost.prison.escort * (pDSTB * dstb.visits + (1 - pDSTB) * mdrtb.visits)  + ucost.dots * (pDSTB * DurDSTB + (1 - pDSTB) * DurMDRTB) + ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation)),(pDSTB * DurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * DurMDRTB * ucost.mdratt.drugs + pDSTB * dstb.visits*(ucost.dstb.opd.visit) + (1 - pDSTB) * mdrtb.visits * (ucost.mdrtb.opd.visit) + (pDSTB * smear.positive * DurDSTBIsolation * (ucost.dstb.ipd) +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * (ucost.mdrtb.ipd) + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * (ucost.mdrtb.ipd))),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,1
     ¦           ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦   ¦       ¦   °--did not complete ATT                                                                          ,1-soc.prop.completing.att,cost.att.incomplete ,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort * (IncompDurDSTB/DurDSTB*pDSTB * dstb.visits + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits),pDSTB  * IncompDurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * IncompDurMDRTB  * ucost.mdratt.drugs,IncompDurDSTB / DurDSTB * pDSTB * dstb.visits*ucost.dstb.opd.visit + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits * ucost.mdrtb.opd.visit,ucost.dots * (pDSTB * IncompDurDSTB + (1 - pDSTB) * IncompDurMDRTB),(pDSTB * smear.positive * DurDSTBIsolation * ucost.dstb.ipd +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * ucost.mdrtb.ipd + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * ucost.mdrtb.ipd),ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation),0,0,0,0,0,0,cost.att.incomplete ,0,0,0,cost.att.incomplete ,0,(ucost.prison.escort * (IncompDurDSTB/DurDSTB*pDSTB * dstb.visits + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits) + ucost.dots * (pDSTB * IncompDurDSTB + (1 - pDSTB) * IncompDurMDRTB) + ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  + (1 - pDSTB) * smear.positive * DurMDRTB2Isolation+ (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation)),(pDSTB  * IncompDurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * IncompDurMDRTB * ucost.mdratt.drugs) + (IncompDurDSTB / DurDSTB * pDSTB * dstb.visits*ucost.dstb.opd.visit + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits * ucost.mdrtb.opd.visit) + ((pDSTB * smear.positive * DurDSTBIsolation * (ucost.dstb.ipd) +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * (ucost.mdrtb.ipd) +(1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * (ucost.mdrtb.ipd))),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦           ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦   ¦       °--no ATT                                                                                            ,1-soc.prop.starting.att,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦           ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦   °--Not TB                                                                                                    ,1-soc.prop.abn.xray.tb.dx,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦       ¦--In prison/IRC for >3 months                                                                           ,soc.prop.staying.3+months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0
     ¦           ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦       ¦   °--Refer for treatment                                                                               ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦       ¦       ¦--Attended TPT referral                                                                         ,soc.prop.attend.nhs.referral,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.attending.nhs.tb.service,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,ucost.prison.escort ,ucost.nhs.tb.service,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦       ¦       ¦   °--TPT outcomes                                                                              ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦       ¦       ¦       ¦--gets TPT                                                                              ,soc.prop.starting.tpt,cost.tpt.initiation,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.tpt.initiation,0,cost.tpt.initiation,0,0,0,0,0,0,0,0,ucost.prison.escort,ucost.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0
     ¦           ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦       ¦       ¦       ¦   ¦--completed TPT                                                                     ,soc.prop.completing.tpt,cost.tpt.complete,0,0,0,0,0,0,0,0,0,0,TPT.visits*(ucost.prison.escort),durTPT*(ucost.ltbi.drugs),TPT.visits*(ucost.tpt.opd.visit),durTPT*(ucost.dots),0,0,0,cost.tpt.complete,0,0,cost.tpt.complete,0,0,0,0,0,0,0,(TPT.visits*ucost.prison.escort + durTPT*ucost.dots),(durTPT*ucost.ltbi.drugs+ TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,1
     ¦           ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦       ¦       ¦       ¦   °--did not complete TPT                                                              ,1-soc.prop.completing.tpt,cost.tpt.incomplete,0,0,0,0,0,0,0,0,0,0,IncompDurTPT / durTPT * TPT.visits*ucost.prison.escort,IncompDurTPT*ucost.ltbi.drugs,IncompDurTPT / durTPT * TPT.visits*ucost.tpt.opd.visit,IncompDurTPT*ucost.dots,0,0,0,cost.tpt.incomplete,0,0,0,cost.tpt.incomplete,0,0,0,0,0,0,(IncompDurTPT/durTPT*TPT.visits*ucost.prison.escort + IncompDurTPT*ucost.dots),(IncompDurTPT*ucost.ltbi.drugs + IncompDurTPT/durTPT*TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1
     ¦           ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦       ¦       ¦       °--does not get TPT                                                                      ,1-soc.prop.starting.tpt,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦           ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦       ¦       °--Did not attend TB referral TPT referral                                                       ,1-soc.prop.attend.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦           ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦       °--In prison/IRC for <3 months                                                                           ,1-soc.prop.staying.3+months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦           ¦--Remaining in the UK (community or other prison/IRC)                                               ,soc.prop.staying.<3months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦           ¦   °--Refer for treatment and forward details to receiving prison/community TB nurse                ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦           ¦       ¦--Attended TPT referral                                                                     ,soc.prop.attend.nhs.referral,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.attending.nhs.tb.service,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,ucost.prison.escort ,ucost.nhs.tb.service,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦           ¦       ¦   °--TPT outcomes                                                                          ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦           ¦       ¦       ¦--gets TPT                                                                          ,soc.prop.starting.tpt,cost.tpt.initiation,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.tpt.initiation,0,cost.tpt.initiation,0,0,0,0,0,0,0,0,ucost.prison.escort,ucost.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0
     ¦           ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦           ¦       ¦       ¦   ¦--completed TPT                                                                 ,soc.prop.completing.tpt,cost.tpt.complete,0,0,0,0,0,0,0,0,0,0,TPT.visits*(ucost.prison.escort),durTPT*(ucost.ltbi.drugs),TPT.visits*(ucost.tpt.opd.visit),durTPT*(ucost.dots),0,0,0,cost.tpt.complete,0,0,cost.tpt.complete,0,0,0,0,0,0,0,(TPT.visits*ucost.prison.escort + durTPT*ucost.dots),(durTPT*ucost.ltbi.drugs+ TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,1
     ¦           ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦           ¦       ¦       ¦   °--did not complete TPT                                                          ,1-soc.prop.completing.tpt,cost.tpt.incomplete,0,0,0,0,0,0,0,0,0,0,IncompDurTPT / durTPT * TPT.visits*ucost.prison.escort,IncompDurTPT*ucost.ltbi.drugs,IncompDurTPT / durTPT * TPT.visits*ucost.tpt.opd.visit,IncompDurTPT*ucost.dots,0,0,0,cost.tpt.incomplete,0,0,0,cost.tpt.incomplete,0,0,0,0,0,0,(IncompDurTPT/durTPT*TPT.visits*ucost.prison.escort + IncompDurTPT*ucost.dots),(IncompDurTPT*ucost.ltbi.drugs + IncompDurTPT/durTPT*TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1
     ¦           ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦           ¦       ¦       °--does not get TPT                                                                  ,1-soc.prop.starting.tpt,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦           ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦           ¦       °--Did not attend TPT referral                                                               ,1-soc.prop.attend.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦           ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦           °--Early removal scheme or deportation                                                               ,1-soc.prop.staying.<3months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦           ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   °--Did not attend TB referral                                                                                    ,1-soc.prop.attend.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦           ¦   ¦       ¦           ¦   ¦   ¦   ¦   °--Not referred to NHS TB service                                                                                    ,1-nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦           ¦   ¦       ¦           ¦   ¦   ¦   °--Normal chest x-ray                                                                                                    ,1-soc.prop.abnormal.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦   ¦       ¦           ¦   ¦   ¦       ¦--In prison/IRC for >3 months                                                                                       ,soc.prop.staying.3+months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0
     ¦           ¦   ¦       ¦           ¦   ¦   ¦       ¦   °--Refer for treatment                                                                                           ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦   ¦       ¦           ¦   ¦   ¦       ¦       ¦--Attended TPT referral                                                                                     ,soc.prop.attend.nhs.referral,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.attending.nhs.tb.service,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,ucost.prison.escort ,ucost.nhs.tb.service,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦   ¦       ¦           ¦   ¦   ¦       ¦       ¦   °--TPT outcomes                                                                                          ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦   ¦       ¦           ¦   ¦   ¦       ¦       ¦       ¦--gets TPT                                                                                          ,soc.prop.starting.tpt,cost.tpt.initiation,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.tpt.initiation,0,cost.tpt.initiation,0,0,0,0,0,0,0,0,ucost.prison.escort,ucost.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0
     ¦           ¦   ¦       ¦           ¦   ¦   ¦       ¦       ¦       ¦   ¦--completed TPT                                                                                 ,soc.prop.completing.tpt,cost.tpt.complete,0,0,0,0,0,0,0,0,0,0,TPT.visits*(ucost.prison.escort),durTPT*(ucost.ltbi.drugs),TPT.visits*(ucost.tpt.opd.visit),durTPT*(ucost.dots),0,0,0,cost.tpt.complete,0,0,cost.tpt.complete,0,0,0,0,0,0,0,(TPT.visits*ucost.prison.escort + durTPT*ucost.dots),(durTPT*ucost.ltbi.drugs+ TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,1
     ¦           ¦   ¦       ¦           ¦   ¦   ¦       ¦       ¦       ¦   °--did not complete TPT                                                                          ,1-soc.prop.completing.tpt,cost.tpt.incomplete,0,0,0,0,0,0,0,0,0,0,IncompDurTPT / durTPT * TPT.visits*ucost.prison.escort,IncompDurTPT*ucost.ltbi.drugs,IncompDurTPT / durTPT * TPT.visits*ucost.tpt.opd.visit,IncompDurTPT*ucost.dots,0,0,0,cost.tpt.incomplete,0,0,0,cost.tpt.incomplete,0,0,0,0,0,0,(IncompDurTPT/durTPT*TPT.visits*ucost.prison.escort + IncompDurTPT*ucost.dots),(IncompDurTPT*ucost.ltbi.drugs + IncompDurTPT/durTPT*TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1
     ¦           ¦   ¦       ¦           ¦   ¦   ¦       ¦       ¦       °--does not get TPT                                                                                  ,1-soc.prop.starting.tpt,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦           ¦   ¦       ¦           ¦   ¦   ¦       ¦       °--Did not attend TPT referral                                                                               ,1-soc.prop.attend.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦           ¦   ¦       ¦           ¦   ¦   ¦       °--In prison/IRC for <3 months                                                                                       ,1-soc.prop.staying.3+months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦   ¦       ¦           ¦   ¦   ¦           ¦--Remaining in the UK (community or other prison/IRC)                                                           ,soc.prop.staying.<3months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦   ¦       ¦           ¦   ¦   ¦           ¦   °--Refer for treatment and forward details to receiving prison/community TB nurse                            ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦   ¦       ¦           ¦   ¦   ¦           ¦       ¦--Attended TPT referral                                                                                 ,soc.prop.attend.nhs.referral,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.attending.nhs.tb.service,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,ucost.prison.escort ,ucost.nhs.tb.service,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦   ¦       ¦           ¦   ¦   ¦           ¦       ¦   °--TPT outcomes                                                                                      ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦   ¦       ¦           ¦   ¦   ¦           ¦       ¦       ¦--gets TPT                                                                                      ,soc.prop.starting.tpt,cost.tpt.initiation,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.tpt.initiation,0,cost.tpt.initiation,0,0,0,0,0,0,0,0,ucost.prison.escort,ucost.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0
     ¦           ¦   ¦       ¦           ¦   ¦   ¦           ¦       ¦       ¦   ¦--completed TPT                                                                             ,soc.prop.completing.tpt,cost.tpt.complete,0,0,0,0,0,0,0,0,0,0,TPT.visits*(ucost.prison.escort),durTPT*(ucost.ltbi.drugs),TPT.visits*(ucost.tpt.opd.visit),durTPT*(ucost.dots),0,0,0,cost.tpt.complete,0,0,cost.tpt.complete,0,0,0,0,0,0,0,(TPT.visits*ucost.prison.escort + durTPT*ucost.dots),(durTPT*ucost.ltbi.drugs+ TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,1
     ¦           ¦   ¦       ¦           ¦   ¦   ¦           ¦       ¦       ¦   °--did not complete TPT                                                                      ,1-soc.prop.completing.tpt,cost.tpt.incomplete,0,0,0,0,0,0,0,0,0,0,IncompDurTPT / durTPT * TPT.visits*ucost.prison.escort,IncompDurTPT*ucost.ltbi.drugs,IncompDurTPT / durTPT * TPT.visits*ucost.tpt.opd.visit,IncompDurTPT*ucost.dots,0,0,0,cost.tpt.incomplete,0,0,0,cost.tpt.incomplete,0,0,0,0,0,0,(IncompDurTPT/durTPT*TPT.visits*ucost.prison.escort + IncompDurTPT*ucost.dots),(IncompDurTPT*ucost.ltbi.drugs + IncompDurTPT/durTPT*TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1
     ¦           ¦   ¦       ¦           ¦   ¦   ¦           ¦       ¦       °--does not get TPT                                                                              ,1-soc.prop.starting.tpt,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦           ¦   ¦       ¦           ¦   ¦   ¦           ¦       °--Did not attend TPT referral                                                                           ,1-soc.prop.attend.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦           ¦   ¦       ¦           ¦   ¦   ¦           °--Early removal scheme or deportation                                                                           ,1-soc.prop.staying.<3months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦           ¦   ¦       ¦           ¦   ¦   °--No previous chest x-ray                                                                                                   ,1-soc.prop.prev.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦   ¦       ¦           ¦   ¦       ¦--Chest x-ray                                                                                                           ,soc.prop.xray,cost.chest.xray,0,cost.chest.xray,0,ucost.chest.xray,0,0,ucost.prison.escort,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,ucost.chest.xray,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦   ¦       ¦           ¦   ¦       ¦   ¦--Abornomal chest x-ray                                                                                             ,soc.prop.abnormal.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦--Referred to NHS TB service                                                                                    ,nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦--Attended TB referral                                                                                      ,soc.prop.attend.nhs.referral,cost.tb.evaluation,0,cost.tb.evaluation,0,0,0,cost.nhs.tb.service,0,ucost.prison.escort,cost.tb.investigations,0,0,0,0,0,0,0,cost.tb.evaluation,0,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort ,ucost.nhs.tb.service + ucost.tb.investigations,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦   ¦--TB                                                                                                    ,soc.prop.abn.xray.tb.dx,cost.contact.management,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,cost.contact.management,smear.positive * (cost.prison.isolation),0,0,0,smear.positive * (nContacts * ucost.contact.tracing),cost.contact.management,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0
     ¦           ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦   ¦   °--TB outcomes                                                                                       ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦   ¦       ¦--ATT                                                                                           ,soc.prop.starting.att,cost.att.initiation,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,0,0,0,0,0,cost.att.initiation,0,cost.att.initiation,0,0,0,ucost.prison.escort,ucost.nhs.tb.service ,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0
     ¦           ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦   ¦       ¦   ¦--completed ATT                                                                             ,soc.prop.completing.att,cost.att.complete,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort * (pDSTB * dstb.visits + (1 - pDSTB) * mdrtb.visits) ,pDSTB * DurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * DurMDRTB * ucost.mdratt.drugs,pDSTB * dstb.visits*ucost.dstb.opd.visit + (1 - pDSTB) * mdrtb.visits * ucost.mdrtb.opd.visit,ucost.dots * (pDSTB * DurDSTB + (1 - pDSTB) * DurMDRTB),(pDSTB * smear.positive * DurDSTBIsolation * ucost.dstb.ipd +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * ucost.mdrtb.ipd + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * ucost.mdrtb.ipd),ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation),0,0,0,0,0,0,cost.att.complete,0,0,cost.att.complete,0,0,(ucost.prison.escort * (pDSTB * dstb.visits + (1 - pDSTB) * mdrtb.visits)  + ucost.dots * (pDSTB * DurDSTB + (1 - pDSTB) * DurMDRTB) + ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation)),(pDSTB * DurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * DurMDRTB * ucost.mdratt.drugs + pDSTB * dstb.visits*(ucost.dstb.opd.visit) + (1 - pDSTB) * mdrtb.visits * (ucost.mdrtb.opd.visit) + (pDSTB * smear.positive * DurDSTBIsolation * (ucost.dstb.ipd) +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * (ucost.mdrtb.ipd) + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * (ucost.mdrtb.ipd))),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,1
     ¦           ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦   ¦       ¦   °--did not complete ATT                                                                      ,1-soc.prop.completing.att,cost.att.incomplete ,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort * (IncompDurDSTB/DurDSTB*pDSTB * dstb.visits + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits),pDSTB  * IncompDurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * IncompDurMDRTB  * ucost.mdratt.drugs,IncompDurDSTB / DurDSTB * pDSTB * dstb.visits*ucost.dstb.opd.visit + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits * ucost.mdrtb.opd.visit,ucost.dots * (pDSTB * IncompDurDSTB + (1 - pDSTB) * IncompDurMDRTB),(pDSTB * smear.positive * DurDSTBIsolation * ucost.dstb.ipd +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * ucost.mdrtb.ipd + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * ucost.mdrtb.ipd),ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation),0,0,0,0,0,0,cost.att.incomplete ,0,0,0,cost.att.incomplete ,0,(ucost.prison.escort * (IncompDurDSTB/DurDSTB*pDSTB * dstb.visits + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits) + ucost.dots * (pDSTB * IncompDurDSTB + (1 - pDSTB) * IncompDurMDRTB) + ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  + (1 - pDSTB) * smear.positive * DurMDRTB2Isolation+ (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation)),(pDSTB  * IncompDurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * IncompDurMDRTB * ucost.mdratt.drugs) + (IncompDurDSTB / DurDSTB * pDSTB * dstb.visits*ucost.dstb.opd.visit + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits * ucost.mdrtb.opd.visit) + ((pDSTB * smear.positive * DurDSTBIsolation * (ucost.dstb.ipd) +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * (ucost.mdrtb.ipd) +(1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * (ucost.mdrtb.ipd))),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦           ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦   ¦       °--no ATT                                                                                        ,1-soc.prop.starting.att,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦           ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦   °--Not TB                                                                                                ,1-soc.prop.abn.xray.tb.dx,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦       ¦--In prison/IRC for >3 months                                                                       ,soc.prop.staying.3+months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0
     ¦           ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦       ¦   °--Refer for treatment                                                                           ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦       ¦       ¦--Attended TPT referral                                                                     ,soc.prop.attend.nhs.referral,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.attending.nhs.tb.service,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,ucost.prison.escort ,ucost.nhs.tb.service,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦       ¦       ¦   °--TPT outcomes                                                                          ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦       ¦       ¦       ¦--gets TPT                                                                          ,soc.prop.starting.tpt,cost.tpt.initiation,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.tpt.initiation,0,cost.tpt.initiation,0,0,0,0,0,0,0,0,ucost.prison.escort,ucost.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0
     ¦           ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦       ¦       ¦       ¦   ¦--completed TPT                                                                 ,soc.prop.completing.tpt,cost.tpt.complete,0,0,0,0,0,0,0,0,0,0,TPT.visits*(ucost.prison.escort),durTPT*(ucost.ltbi.drugs),TPT.visits*(ucost.tpt.opd.visit),durTPT*(ucost.dots),0,0,0,cost.tpt.complete,0,0,cost.tpt.complete,0,0,0,0,0,0,0,(TPT.visits*ucost.prison.escort + durTPT*ucost.dots),(durTPT*ucost.ltbi.drugs+ TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,1
     ¦           ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦       ¦       ¦       ¦   °--did not complete TPT                                                          ,1-soc.prop.completing.tpt,cost.tpt.incomplete,0,0,0,0,0,0,0,0,0,0,IncompDurTPT / durTPT * TPT.visits*ucost.prison.escort,IncompDurTPT*ucost.ltbi.drugs,IncompDurTPT / durTPT * TPT.visits*ucost.tpt.opd.visit,IncompDurTPT*ucost.dots,0,0,0,cost.tpt.incomplete,0,0,0,cost.tpt.incomplete,0,0,0,0,0,0,(IncompDurTPT/durTPT*TPT.visits*ucost.prison.escort + IncompDurTPT*ucost.dots),(IncompDurTPT*ucost.ltbi.drugs + IncompDurTPT/durTPT*TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1
     ¦           ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦       ¦       ¦       °--does not get TPT                                                                  ,1-soc.prop.starting.tpt,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦           ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦       ¦       °--Did not attend TPT referral                                                               ,1-soc.prop.attend.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦           ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦       °--In prison/IRC for <3 months                                                                       ,1-soc.prop.staying.3+months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦           ¦--Remaining in the UK (community or other prison/IRC)                                           ,soc.prop.staying.<3months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦           ¦   °--Refer for treatment and forward details to receiving prison/community TB nurse            ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦           ¦       ¦--Attended TPT referral                                                                 ,soc.prop.attend.nhs.referral,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.attending.nhs.tb.service,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,ucost.prison.escort ,ucost.nhs.tb.service,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦           ¦       ¦   °--TPT outcomes                                                                      ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦           ¦       ¦       ¦--gets TPT                                                                      ,soc.prop.starting.tpt,cost.tpt.initiation,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.tpt.initiation,0,cost.tpt.initiation,0,0,0,0,0,0,0,0,ucost.prison.escort,ucost.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0
     ¦           ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦           ¦       ¦       ¦   ¦--completed TPT                                                             ,soc.prop.completing.tpt,cost.tpt.complete,0,0,0,0,0,0,0,0,0,0,TPT.visits*(ucost.prison.escort),durTPT*(ucost.ltbi.drugs),TPT.visits*(ucost.tpt.opd.visit),durTPT*(ucost.dots),0,0,0,cost.tpt.complete,0,0,cost.tpt.complete,0,0,0,0,0,0,0,(TPT.visits*ucost.prison.escort + durTPT*ucost.dots),(durTPT*ucost.ltbi.drugs+ TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,1
     ¦           ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦           ¦       ¦       ¦   °--did not complete TPT                                                      ,1-soc.prop.completing.tpt,cost.tpt.incomplete,0,0,0,0,0,0,0,0,0,0,IncompDurTPT / durTPT * TPT.visits*ucost.prison.escort,IncompDurTPT*ucost.ltbi.drugs,IncompDurTPT / durTPT * TPT.visits*ucost.tpt.opd.visit,IncompDurTPT*ucost.dots,0,0,0,cost.tpt.incomplete,0,0,0,cost.tpt.incomplete,0,0,0,0,0,0,(IncompDurTPT/durTPT*TPT.visits*ucost.prison.escort + IncompDurTPT*ucost.dots),(IncompDurTPT*ucost.ltbi.drugs + IncompDurTPT/durTPT*TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1
     ¦           ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦           ¦       ¦       °--does not get TPT                                                              ,1-soc.prop.starting.tpt,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦           ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦           ¦       °--Did not attend TPT referral                                                           ,1-soc.prop.attend.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦           ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦           °--Early removal scheme or deportation                                                           ,1-soc.prop.staying.<3months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦           ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   °--Did not attend TB referral                                                                                ,1-soc.prop.attend.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦           ¦   ¦       ¦           ¦   ¦       ¦   ¦   °--Not referred to NHS TB service                                                                                ,1-nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦           ¦   ¦       ¦           ¦   ¦       ¦   °--Normal chest x-ray                                                                                                ,1-soc.prop.abnormal.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦   ¦       ¦           ¦   ¦       ¦       ¦--In prison/IRC for >3 months                                                                                   ,soc.prop.staying.3+months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0
     ¦           ¦   ¦       ¦           ¦   ¦       ¦       ¦   °--Refer for treatment                                                                                       ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦   ¦       ¦           ¦   ¦       ¦       ¦       ¦--Attended TPT referral                                                                                 ,soc.prop.attend.nhs.referral,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.attending.nhs.tb.service,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,ucost.prison.escort ,ucost.nhs.tb.service,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦   ¦       ¦           ¦   ¦       ¦       ¦       ¦   °--TPT outcomes                                                                                      ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦   ¦       ¦           ¦   ¦       ¦       ¦       ¦       ¦--gets TPT                                                                                      ,soc.prop.starting.tpt,cost.tpt.initiation,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.tpt.initiation,0,cost.tpt.initiation,0,0,0,0,0,0,0,0,ucost.prison.escort,ucost.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0
     ¦           ¦   ¦       ¦           ¦   ¦       ¦       ¦       ¦       ¦   ¦--completed TPT                                                                             ,soc.prop.completing.tpt,cost.tpt.complete,0,0,0,0,0,0,0,0,0,0,TPT.visits*(ucost.prison.escort),durTPT*(ucost.ltbi.drugs),TPT.visits*(ucost.tpt.opd.visit),durTPT*(ucost.dots),0,0,0,cost.tpt.complete,0,0,cost.tpt.complete,0,0,0,0,0,0,0,(TPT.visits*ucost.prison.escort + durTPT*ucost.dots),(durTPT*ucost.ltbi.drugs+ TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,1
     ¦           ¦   ¦       ¦           ¦   ¦       ¦       ¦       ¦       ¦   °--did not complete TPT                                                                      ,1-soc.prop.completing.tpt,cost.tpt.incomplete,0,0,0,0,0,0,0,0,0,0,IncompDurTPT / durTPT * TPT.visits*ucost.prison.escort,IncompDurTPT*ucost.ltbi.drugs,IncompDurTPT / durTPT * TPT.visits*ucost.tpt.opd.visit,IncompDurTPT*ucost.dots,0,0,0,cost.tpt.incomplete,0,0,0,cost.tpt.incomplete,0,0,0,0,0,0,(IncompDurTPT/durTPT*TPT.visits*ucost.prison.escort + IncompDurTPT*ucost.dots),(IncompDurTPT*ucost.ltbi.drugs + IncompDurTPT/durTPT*TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1
     ¦           ¦   ¦       ¦           ¦   ¦       ¦       ¦       ¦       °--does not get TPT                                                                              ,1-soc.prop.starting.tpt,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦           ¦   ¦       ¦           ¦   ¦       ¦       ¦       °--Did not attend TPT referral                                                                           ,1-soc.prop.attend.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦           ¦   ¦       ¦           ¦   ¦       ¦       °--In prison/IRC for <3 months                                                                                   ,1-soc.prop.staying.3+months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦   ¦       ¦           ¦   ¦       ¦           ¦--Remaining in the UK (community or other prison/IRC)                                                       ,soc.prop.staying.<3months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦   ¦       ¦           ¦   ¦       ¦           ¦   °--Refer for treatment and forward details to receiving prison/community TB nurse                        ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦   ¦       ¦           ¦   ¦       ¦           ¦       ¦--Attended TPT referral                                                                             ,soc.prop.attend.nhs.referral,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.attending.nhs.tb.service,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,ucost.prison.escort ,ucost.nhs.tb.service,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦   ¦       ¦           ¦   ¦       ¦           ¦       ¦   °--TPT outcomes                                                                                  ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦   ¦       ¦           ¦   ¦       ¦           ¦       ¦       ¦--gets TPT                                                                                  ,soc.prop.starting.tpt,cost.tpt.initiation,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.tpt.initiation,0,cost.tpt.initiation,0,0,0,0,0,0,0,0,ucost.prison.escort,ucost.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0
     ¦           ¦   ¦       ¦           ¦   ¦       ¦           ¦       ¦       ¦   ¦--completed TPT                                                                         ,soc.prop.completing.tpt,cost.tpt.complete,0,0,0,0,0,0,0,0,0,0,TPT.visits*(ucost.prison.escort),durTPT*(ucost.ltbi.drugs),TPT.visits*(ucost.tpt.opd.visit),durTPT*(ucost.dots),0,0,0,cost.tpt.complete,0,0,cost.tpt.complete,0,0,0,0,0,0,0,(TPT.visits*ucost.prison.escort + durTPT*ucost.dots),(durTPT*ucost.ltbi.drugs+ TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,1
     ¦           ¦   ¦       ¦           ¦   ¦       ¦           ¦       ¦       ¦   °--did not complete TPT                                                                  ,1-soc.prop.completing.tpt,cost.tpt.incomplete,0,0,0,0,0,0,0,0,0,0,IncompDurTPT / durTPT * TPT.visits*ucost.prison.escort,IncompDurTPT*ucost.ltbi.drugs,IncompDurTPT / durTPT * TPT.visits*ucost.tpt.opd.visit,IncompDurTPT*ucost.dots,0,0,0,cost.tpt.incomplete,0,0,0,cost.tpt.incomplete,0,0,0,0,0,0,(IncompDurTPT/durTPT*TPT.visits*ucost.prison.escort + IncompDurTPT*ucost.dots),(IncompDurTPT*ucost.ltbi.drugs + IncompDurTPT/durTPT*TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1
     ¦           ¦   ¦       ¦           ¦   ¦       ¦           ¦       ¦       °--does not get TPT                                                                          ,1-soc.prop.starting.tpt,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦           ¦   ¦       ¦           ¦   ¦       ¦           ¦       °--Did not attend TPT referral                                                                       ,1-soc.prop.attend.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦           ¦   ¦       ¦           ¦   ¦       ¦           °--Early removal scheme or deportation                                                                       ,1-soc.prop.staying.<3months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦           ¦   ¦       ¦           ¦   ¦       °--No chest x-ray                                                                                                        ,1-soc.prop.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦   ¦       ¦           ¦   ¦           ¦--Referred to NHS TB service                                                                                        ,nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦   ¦       ¦           ¦   ¦           ¦   ¦--Attended TB referral                                                                                          ,soc.prop.attend.nhs.referral,cost.tb.evaluation,0,cost.tb.evaluation,0,0,0,cost.nhs.tb.service,0,ucost.prison.escort,cost.tb.investigations,0,0,0,0,0,0,0,cost.tb.evaluation,0,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort ,ucost.nhs.tb.service + ucost.tb.investigations,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦   ¦       ¦           ¦   ¦           ¦   ¦   ¦--TB                                                                                                        ,soc.prop.no.xray.tb.dx,cost.contact.management,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,cost.contact.management,smear.positive * (cost.prison.isolation),0,0,0,smear.positive * (nContacts * ucost.contact.tracing),cost.contact.management,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0
     ¦           ¦   ¦       ¦           ¦   ¦           ¦   ¦   ¦   °--TB outcomes                                                                                           ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦   ¦       ¦           ¦   ¦           ¦   ¦   ¦       ¦--ATT                                                                                               ,soc.prop.starting.att,cost.att.initiation,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,0,0,0,0,0,cost.att.initiation,0,cost.att.initiation,0,0,0,ucost.prison.escort,ucost.nhs.tb.service ,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0
     ¦           ¦   ¦       ¦           ¦   ¦           ¦   ¦   ¦       ¦   ¦--completed ATT                                                                                 ,soc.prop.completing.att,cost.att.complete,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort * (pDSTB * dstb.visits + (1 - pDSTB) * mdrtb.visits) ,pDSTB * DurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * DurMDRTB * ucost.mdratt.drugs,pDSTB * dstb.visits*ucost.dstb.opd.visit + (1 - pDSTB) * mdrtb.visits * ucost.mdrtb.opd.visit,ucost.dots * (pDSTB * DurDSTB + (1 - pDSTB) * DurMDRTB),(pDSTB * smear.positive * DurDSTBIsolation * ucost.dstb.ipd +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * ucost.mdrtb.ipd + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * ucost.mdrtb.ipd),ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation),0,0,0,0,0,0,cost.att.complete,0,0,cost.att.complete,0,0,(ucost.prison.escort * (pDSTB * dstb.visits + (1 - pDSTB) * mdrtb.visits)  + ucost.dots * (pDSTB * DurDSTB + (1 - pDSTB) * DurMDRTB) + ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation)),(pDSTB * DurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * DurMDRTB * ucost.mdratt.drugs + pDSTB * dstb.visits*(ucost.dstb.opd.visit) + (1 - pDSTB) * mdrtb.visits * (ucost.mdrtb.opd.visit) + (pDSTB * smear.positive * DurDSTBIsolation * (ucost.dstb.ipd) +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * (ucost.mdrtb.ipd) + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * (ucost.mdrtb.ipd))),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,1
     ¦           ¦   ¦       ¦           ¦   ¦           ¦   ¦   ¦       ¦   °--did not complete ATT                                                                          ,1-soc.prop.completing.att,cost.att.incomplete ,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort * (IncompDurDSTB/DurDSTB*pDSTB * dstb.visits + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits),pDSTB  * IncompDurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * IncompDurMDRTB  * ucost.mdratt.drugs,IncompDurDSTB / DurDSTB * pDSTB * dstb.visits*ucost.dstb.opd.visit + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits * ucost.mdrtb.opd.visit,ucost.dots * (pDSTB * IncompDurDSTB + (1 - pDSTB) * IncompDurMDRTB),(pDSTB * smear.positive * DurDSTBIsolation * ucost.dstb.ipd +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * ucost.mdrtb.ipd + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * ucost.mdrtb.ipd),ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation),0,0,0,0,0,0,cost.att.incomplete ,0,0,0,cost.att.incomplete ,0,(ucost.prison.escort * (IncompDurDSTB/DurDSTB*pDSTB * dstb.visits + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits) + ucost.dots * (pDSTB * IncompDurDSTB + (1 - pDSTB) * IncompDurMDRTB) + ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  + (1 - pDSTB) * smear.positive * DurMDRTB2Isolation+ (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation)),(pDSTB  * IncompDurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * IncompDurMDRTB * ucost.mdratt.drugs) + (IncompDurDSTB / DurDSTB * pDSTB * dstb.visits*ucost.dstb.opd.visit + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits * ucost.mdrtb.opd.visit) + ((pDSTB * smear.positive * DurDSTBIsolation * (ucost.dstb.ipd) +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * (ucost.mdrtb.ipd) +(1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * (ucost.mdrtb.ipd))),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦           ¦   ¦       ¦           ¦   ¦           ¦   ¦   ¦       °--no ATT                                                                                            ,1-soc.prop.starting.att,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦           ¦   ¦       ¦           ¦   ¦           ¦   ¦   °--Not TB                                                                                                    ,1-soc.prop.no.xray.tb.dx,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦   ¦       ¦           ¦   ¦           ¦   ¦       ¦--In prison/IRC for >3 months                                                                           ,soc.prop.staying.3+months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0
     ¦           ¦   ¦       ¦           ¦   ¦           ¦   ¦       ¦   °--Refer for treatment                                                                               ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦   ¦       ¦           ¦   ¦           ¦   ¦       ¦       ¦--Attended TPT referral                                                                         ,soc.prop.attend.nhs.referral,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.attending.nhs.tb.service,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,ucost.prison.escort ,ucost.nhs.tb.service,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦   ¦       ¦           ¦   ¦           ¦   ¦       ¦       ¦   °--TPT outcomes                                                                              ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦   ¦       ¦           ¦   ¦           ¦   ¦       ¦       ¦       ¦--gets TPT                                                                              ,soc.prop.starting.tpt,cost.tpt.initiation,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.tpt.initiation,0,cost.tpt.initiation,0,0,0,0,0,0,0,0,ucost.prison.escort,ucost.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0
     ¦           ¦   ¦       ¦           ¦   ¦           ¦   ¦       ¦       ¦       ¦   ¦--completed TPT                                                                     ,soc.prop.completing.tpt,cost.tpt.complete,0,0,0,0,0,0,0,0,0,0,TPT.visits*(ucost.prison.escort),durTPT*(ucost.ltbi.drugs),TPT.visits*(ucost.tpt.opd.visit),durTPT*(ucost.dots),0,0,0,cost.tpt.complete,0,0,cost.tpt.complete,0,0,0,0,0,0,0,(TPT.visits*ucost.prison.escort + durTPT*ucost.dots),(durTPT*ucost.ltbi.drugs+ TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,1
     ¦           ¦   ¦       ¦           ¦   ¦           ¦   ¦       ¦       ¦       ¦   °--did not complete TPT                                                              ,1-soc.prop.completing.tpt,cost.tpt.incomplete,0,0,0,0,0,0,0,0,0,0,IncompDurTPT / durTPT * TPT.visits*ucost.prison.escort,IncompDurTPT*ucost.ltbi.drugs,IncompDurTPT / durTPT * TPT.visits*ucost.tpt.opd.visit,IncompDurTPT*ucost.dots,0,0,0,cost.tpt.incomplete,0,0,0,cost.tpt.incomplete,0,0,0,0,0,0,(IncompDurTPT/durTPT*TPT.visits*ucost.prison.escort + IncompDurTPT*ucost.dots),(IncompDurTPT*ucost.ltbi.drugs + IncompDurTPT/durTPT*TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1
     ¦           ¦   ¦       ¦           ¦   ¦           ¦   ¦       ¦       ¦       °--does not get TPT                                                                      ,1-soc.prop.starting.tpt,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦           ¦   ¦       ¦           ¦   ¦           ¦   ¦       ¦       °--Did not attend TPT referral                                                                   ,1-soc.prop.attend.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦           ¦   ¦       ¦           ¦   ¦           ¦   ¦       °--In prison/IRC for <3 months                                                                           ,1-soc.prop.staying.3+months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦   ¦       ¦           ¦   ¦           ¦   ¦           ¦--Remaining in the UK (community or other prison/IRC)                                               ,soc.prop.staying.<3months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦   ¦       ¦           ¦   ¦           ¦   ¦           ¦   °--Refer for treatment and forward details to receiving prison/community TB nurse                ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦   ¦       ¦           ¦   ¦           ¦   ¦           ¦       ¦--Attended TPT referral                                                                     ,soc.prop.attend.nhs.referral,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.attending.nhs.tb.service,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,ucost.prison.escort ,ucost.nhs.tb.service,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦   ¦       ¦           ¦   ¦           ¦   ¦           ¦       ¦   °--TPT outcomes                                                                          ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦   ¦       ¦           ¦   ¦           ¦   ¦           ¦       ¦       ¦--gets TPT                                                                          ,soc.prop.starting.tpt,cost.tpt.initiation,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.tpt.initiation,0,cost.tpt.initiation,0,0,0,0,0,0,0,0,ucost.prison.escort,ucost.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0
     ¦           ¦   ¦       ¦           ¦   ¦           ¦   ¦           ¦       ¦       ¦   ¦--completed TPT                                                                 ,soc.prop.completing.tpt,cost.tpt.complete,0,0,0,0,0,0,0,0,0,0,TPT.visits*(ucost.prison.escort),durTPT*(ucost.ltbi.drugs),TPT.visits*(ucost.tpt.opd.visit),durTPT*(ucost.dots),0,0,0,cost.tpt.complete,0,0,cost.tpt.complete,0,0,0,0,0,0,0,(TPT.visits*ucost.prison.escort + durTPT*ucost.dots),(durTPT*ucost.ltbi.drugs+ TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,1
     ¦           ¦   ¦       ¦           ¦   ¦           ¦   ¦           ¦       ¦       ¦   °--did not complete TPT                                                          ,1-soc.prop.completing.tpt,cost.tpt.incomplete,0,0,0,0,0,0,0,0,0,0,IncompDurTPT / durTPT * TPT.visits*ucost.prison.escort,IncompDurTPT*ucost.ltbi.drugs,IncompDurTPT / durTPT * TPT.visits*ucost.tpt.opd.visit,IncompDurTPT*ucost.dots,0,0,0,cost.tpt.incomplete,0,0,0,cost.tpt.incomplete,0,0,0,0,0,0,(IncompDurTPT/durTPT*TPT.visits*ucost.prison.escort + IncompDurTPT*ucost.dots),(IncompDurTPT*ucost.ltbi.drugs + IncompDurTPT/durTPT*TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1
     ¦           ¦   ¦       ¦           ¦   ¦           ¦   ¦           ¦       ¦       °--does not get TPT                                                                  ,1-soc.prop.starting.tpt,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦           ¦   ¦       ¦           ¦   ¦           ¦   ¦           ¦       °--Did not attend TPT referral                                                               ,1-soc.prop.attend.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦           ¦   ¦       ¦           ¦   ¦           ¦   ¦           °--Early removal scheme or deportation                                                               ,1-soc.prop.staying.<3months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦           ¦   ¦       ¦           ¦   ¦           ¦   °--Did not attend TB referral                                                                                    ,1-soc.prop.attend.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦           ¦   ¦       ¦           ¦   ¦           °--Not referred to NHS TB service                                                                                    ,1-nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦           ¦   ¦       ¦           ¦   °--IGRA test -                                                                                                                   ,1-soc.prop.igra.test.positive,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦           ¦   ¦       ¦           °--no IGRA test                                                                                                                      ,1-soc.prop.igra.tested,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦           ¦   ¦       °--Did not attend TB referral                                                                                                                    ,1-soc.prop.attend.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦           ¦   °--Normal chest x-ray                                                                                                                                    ,1-soc.prop.abnormal.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦       °--LTBI pathway                                                                                                                                      ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦           ¦--IGRA test                                                                                                                                     ,soc.prop.igra.tested,cost.igra.test,0,0,0,0,0,0,0,0,0,cost.igra.test,0,0,0,0,0,0,0,cost.igra.test,0,0,0,0,0,0,0,0,0,0,0,ucost.igra.test,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦           ¦   ¦--IGRA test +                                                                                                                               ,soc.prop.igra.test.positive,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0
     ¦           ¦           ¦   ¦   ¦--Previous chest x-ray                                                                                                                  ,soc.prop.prev.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦           ¦   ¦   ¦   ¦--Abornomal chest x-ray                                                                                                             ,soc.prop.abnormal.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦           ¦   ¦   ¦   ¦   ¦--Referred to NHS TB service                                                                                                    ,nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦           ¦   ¦   ¦   ¦   ¦   ¦--Attended TB referral                                                                                                      ,soc.prop.attend.nhs.referral,cost.tb.evaluation,0,cost.tb.evaluation,0,0,0,cost.nhs.tb.service,0,ucost.prison.escort,cost.tb.investigations,0,0,0,0,0,0,0,cost.tb.evaluation,0,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort ,ucost.nhs.tb.service + ucost.tb.investigations,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦           ¦   ¦   ¦   ¦   ¦   ¦   ¦--TB                                                                                                                    ,soc.prop.abn.xray.tb.dx,cost.contact.management,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,cost.contact.management,smear.positive * (cost.prison.isolation),0,0,0,smear.positive * (nContacts * ucost.contact.tracing),cost.contact.management,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0
     ¦           ¦           ¦   ¦   ¦   ¦   ¦   ¦   ¦   °--TB outcomes                                                                                                       ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦           ¦   ¦   ¦   ¦   ¦   ¦   ¦       ¦--ATT                                                                                                           ,soc.prop.starting.att,cost.att.initiation,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,0,0,0,0,0,cost.att.initiation,0,cost.att.initiation,0,0,0,ucost.prison.escort,ucost.nhs.tb.service ,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0
     ¦           ¦           ¦   ¦   ¦   ¦   ¦   ¦   ¦       ¦   ¦--completed ATT                                                                                             ,soc.prop.completing.att,cost.att.complete,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort * (pDSTB * dstb.visits + (1 - pDSTB) * mdrtb.visits) ,pDSTB * DurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * DurMDRTB * ucost.mdratt.drugs,pDSTB * dstb.visits*ucost.dstb.opd.visit + (1 - pDSTB) * mdrtb.visits * ucost.mdrtb.opd.visit,ucost.dots * (pDSTB * DurDSTB + (1 - pDSTB) * DurMDRTB),(pDSTB * smear.positive * DurDSTBIsolation * ucost.dstb.ipd +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * ucost.mdrtb.ipd + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * ucost.mdrtb.ipd),ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation),0,0,0,0,0,0,cost.att.complete,0,0,cost.att.complete,0,0,(ucost.prison.escort * (pDSTB * dstb.visits + (1 - pDSTB) * mdrtb.visits)  + ucost.dots * (pDSTB * DurDSTB + (1 - pDSTB) * DurMDRTB) + ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation)),(pDSTB * DurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * DurMDRTB * ucost.mdratt.drugs + pDSTB * dstb.visits*(ucost.dstb.opd.visit) + (1 - pDSTB) * mdrtb.visits * (ucost.mdrtb.opd.visit) + (pDSTB * smear.positive * DurDSTBIsolation * (ucost.dstb.ipd) +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * (ucost.mdrtb.ipd) + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * (ucost.mdrtb.ipd))),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,1
     ¦           ¦           ¦   ¦   ¦   ¦   ¦   ¦   ¦       ¦   °--did not complete ATT                                                                                      ,1-soc.prop.completing.att,cost.att.incomplete ,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort * (IncompDurDSTB/DurDSTB*pDSTB * dstb.visits + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits),pDSTB  * IncompDurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * IncompDurMDRTB  * ucost.mdratt.drugs,IncompDurDSTB / DurDSTB * pDSTB * dstb.visits*ucost.dstb.opd.visit + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits * ucost.mdrtb.opd.visit,ucost.dots * (pDSTB * IncompDurDSTB + (1 - pDSTB) * IncompDurMDRTB),(pDSTB * smear.positive * DurDSTBIsolation * ucost.dstb.ipd +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * ucost.mdrtb.ipd + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * ucost.mdrtb.ipd),ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation),0,0,0,0,0,0,cost.att.incomplete ,0,0,0,cost.att.incomplete ,0,(ucost.prison.escort * (IncompDurDSTB/DurDSTB*pDSTB * dstb.visits + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits) + ucost.dots * (pDSTB * IncompDurDSTB + (1 - pDSTB) * IncompDurMDRTB) + ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  + (1 - pDSTB) * smear.positive * DurMDRTB2Isolation+ (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation)),(pDSTB  * IncompDurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * IncompDurMDRTB * ucost.mdratt.drugs) + (IncompDurDSTB / DurDSTB * pDSTB * dstb.visits*ucost.dstb.opd.visit + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits * ucost.mdrtb.opd.visit) + ((pDSTB * smear.positive * DurDSTBIsolation * (ucost.dstb.ipd) +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * (ucost.mdrtb.ipd) +(1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * (ucost.mdrtb.ipd))),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦           ¦           ¦   ¦   ¦   ¦   ¦   ¦   ¦       °--no ATT                                                                                                        ,1-soc.prop.starting.att,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦           ¦           ¦   ¦   ¦   ¦   ¦   ¦   °--Not TB                                                                                                                ,1-soc.prop.abn.xray.tb.dx,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦           ¦   ¦   ¦   ¦   ¦   ¦       ¦--In prison/IRC for >3 months                                                                                       ,soc.prop.staying.3+months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0
     ¦           ¦           ¦   ¦   ¦   ¦   ¦   ¦       ¦   °--Refer for treatment                                                                                           ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦           ¦   ¦   ¦   ¦   ¦   ¦       ¦       ¦--Attended TPT referral                                                                                     ,soc.prop.attend.nhs.referral,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.attending.nhs.tb.service,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,ucost.prison.escort ,ucost.nhs.tb.service,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦           ¦   ¦   ¦   ¦   ¦   ¦       ¦       ¦   °--TPT outcomes                                                                                          ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦           ¦   ¦   ¦   ¦   ¦   ¦       ¦       ¦       ¦--gets TPT                                                                                          ,soc.prop.starting.tpt,cost.tpt.initiation,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.tpt.initiation,0,cost.tpt.initiation,0,0,0,0,0,0,0,0,ucost.prison.escort,ucost.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0
     ¦           ¦           ¦   ¦   ¦   ¦   ¦   ¦       ¦       ¦       ¦   ¦--completed TPT                                                                                 ,soc.prop.completing.tpt,cost.tpt.complete,0,0,0,0,0,0,0,0,0,0,TPT.visits*(ucost.prison.escort),durTPT*(ucost.ltbi.drugs),TPT.visits*(ucost.tpt.opd.visit),durTPT*(ucost.dots),0,0,0,cost.tpt.complete,0,0,cost.tpt.complete,0,0,0,0,0,0,0,(TPT.visits*ucost.prison.escort + durTPT*ucost.dots),(durTPT*ucost.ltbi.drugs+ TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,1
     ¦           ¦           ¦   ¦   ¦   ¦   ¦   ¦       ¦       ¦       ¦   °--did not complete TPT                                                                          ,1-soc.prop.completing.tpt,cost.tpt.incomplete,0,0,0,0,0,0,0,0,0,0,IncompDurTPT / durTPT * TPT.visits*ucost.prison.escort,IncompDurTPT*ucost.ltbi.drugs,IncompDurTPT / durTPT * TPT.visits*ucost.tpt.opd.visit,IncompDurTPT*ucost.dots,0,0,0,cost.tpt.incomplete,0,0,0,cost.tpt.incomplete,0,0,0,0,0,0,(IncompDurTPT/durTPT*TPT.visits*ucost.prison.escort + IncompDurTPT*ucost.dots),(IncompDurTPT*ucost.ltbi.drugs + IncompDurTPT/durTPT*TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1
     ¦           ¦           ¦   ¦   ¦   ¦   ¦   ¦       ¦       ¦       °--does not get TPT                                                                                  ,1-soc.prop.starting.tpt,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦           ¦           ¦   ¦   ¦   ¦   ¦   ¦       ¦       °--Did not attend TB referral TPT referral                                                                   ,1-soc.prop.attend.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦           ¦           ¦   ¦   ¦   ¦   ¦   ¦       °--In prison/IRC for <3 months                                                                                       ,1-soc.prop.staying.3+months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦           ¦   ¦   ¦   ¦   ¦   ¦           ¦--Remaining in the UK (community or other prison/IRC)                                                           ,soc.prop.staying.<3months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦           ¦   ¦   ¦   ¦   ¦   ¦           ¦   °--Refer for treatment and forward details to receiving prison/community TB nurse                            ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦           ¦   ¦   ¦   ¦   ¦   ¦           ¦       ¦--Attended TPT referral                                                                                 ,soc.prop.attend.nhs.referral,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.attending.nhs.tb.service,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,ucost.prison.escort ,ucost.nhs.tb.service,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦           ¦   ¦   ¦   ¦   ¦   ¦           ¦       ¦   °--TPT outcomes                                                                                      ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦           ¦   ¦   ¦   ¦   ¦   ¦           ¦       ¦       ¦--gets TPT                                                                                      ,soc.prop.starting.tpt,cost.tpt.initiation,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.tpt.initiation,0,cost.tpt.initiation,0,0,0,0,0,0,0,0,ucost.prison.escort,ucost.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0
     ¦           ¦           ¦   ¦   ¦   ¦   ¦   ¦           ¦       ¦       ¦   ¦--completed TPT                                                                             ,soc.prop.completing.tpt,cost.tpt.complete,0,0,0,0,0,0,0,0,0,0,TPT.visits*(ucost.prison.escort),durTPT*(ucost.ltbi.drugs),TPT.visits*(ucost.tpt.opd.visit),durTPT*(ucost.dots),0,0,0,cost.tpt.complete,0,0,cost.tpt.complete,0,0,0,0,0,0,0,(TPT.visits*ucost.prison.escort + durTPT*ucost.dots),(durTPT*ucost.ltbi.drugs+ TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,1
     ¦           ¦           ¦   ¦   ¦   ¦   ¦   ¦           ¦       ¦       ¦   °--did not complete TPT                                                                      ,1-soc.prop.completing.tpt,cost.tpt.incomplete,0,0,0,0,0,0,0,0,0,0,IncompDurTPT / durTPT * TPT.visits*ucost.prison.escort,IncompDurTPT*ucost.ltbi.drugs,IncompDurTPT / durTPT * TPT.visits*ucost.tpt.opd.visit,IncompDurTPT*ucost.dots,0,0,0,cost.tpt.incomplete,0,0,0,cost.tpt.incomplete,0,0,0,0,0,0,(IncompDurTPT/durTPT*TPT.visits*ucost.prison.escort + IncompDurTPT*ucost.dots),(IncompDurTPT*ucost.ltbi.drugs + IncompDurTPT/durTPT*TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1
     ¦           ¦           ¦   ¦   ¦   ¦   ¦   ¦           ¦       ¦       °--does not get TPT                                                                              ,1-soc.prop.starting.tpt,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦           ¦           ¦   ¦   ¦   ¦   ¦   ¦           ¦       °--Did not attend TPT referral                                                                           ,1-soc.prop.attend.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦           ¦           ¦   ¦   ¦   ¦   ¦   ¦           °--Early removal scheme or deportation                                                                           ,1-soc.prop.staying.<3months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦           ¦           ¦   ¦   ¦   ¦   ¦   °--Did not attend TB referral                                                                                                ,1-soc.prop.attend.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦           ¦           ¦   ¦   ¦   ¦   °--Not referred to NHS TB service                                                                                                ,1-nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦           ¦           ¦   ¦   ¦   °--Normal chest x-ray                                                                                                                ,1-soc.prop.abnormal.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦           ¦   ¦   ¦       ¦--In prison/IRC for >3 months                                                                                                   ,soc.prop.staying.3+months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0
     ¦           ¦           ¦   ¦   ¦       ¦   °--Refer for treatment                                                                                                       ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦           ¦   ¦   ¦       ¦       ¦--Attended TPT referral                                                                                                 ,soc.prop.attend.nhs.referral,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.attending.nhs.tb.service,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,ucost.prison.escort ,ucost.nhs.tb.service,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦           ¦   ¦   ¦       ¦       ¦   °--TPT outcomes                                                                                                      ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦           ¦   ¦   ¦       ¦       ¦       ¦--gets TPT                                                                                                      ,soc.prop.starting.tpt,cost.tpt.initiation,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.tpt.initiation,0,cost.tpt.initiation,0,0,0,0,0,0,0,0,ucost.prison.escort,ucost.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0
     ¦           ¦           ¦   ¦   ¦       ¦       ¦       ¦   ¦--completed TPT                                                                                             ,soc.prop.completing.tpt,cost.tpt.complete,0,0,0,0,0,0,0,0,0,0,TPT.visits*(ucost.prison.escort),durTPT*(ucost.ltbi.drugs),TPT.visits*(ucost.tpt.opd.visit),durTPT*(ucost.dots),0,0,0,cost.tpt.complete,0,0,cost.tpt.complete,0,0,0,0,0,0,0,(TPT.visits*ucost.prison.escort + durTPT*ucost.dots),(durTPT*ucost.ltbi.drugs+ TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,1
     ¦           ¦           ¦   ¦   ¦       ¦       ¦       ¦   °--did not complete TPT                                                                                      ,1-soc.prop.completing.tpt,cost.tpt.incomplete,0,0,0,0,0,0,0,0,0,0,IncompDurTPT / durTPT * TPT.visits*ucost.prison.escort,IncompDurTPT*ucost.ltbi.drugs,IncompDurTPT / durTPT * TPT.visits*ucost.tpt.opd.visit,IncompDurTPT*ucost.dots,0,0,0,cost.tpt.incomplete,0,0,0,cost.tpt.incomplete,0,0,0,0,0,0,(IncompDurTPT/durTPT*TPT.visits*ucost.prison.escort + IncompDurTPT*ucost.dots),(IncompDurTPT*ucost.ltbi.drugs + IncompDurTPT/durTPT*TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1
     ¦           ¦           ¦   ¦   ¦       ¦       ¦       °--does not get TPT                                                                                              ,1-soc.prop.starting.tpt,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦           ¦           ¦   ¦   ¦       ¦       °--Did not attend TPT referral                                                                                           ,1-soc.prop.attend.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦           ¦           ¦   ¦   ¦       °--In prison/IRC for <3 months                                                                                                   ,1-soc.prop.staying.3+months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦           ¦   ¦   ¦           ¦--Remaining in the UK (community or other prison/IRC)                                                                       ,soc.prop.staying.<3months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦           ¦   ¦   ¦           ¦   °--Refer for treatment and forward details to receiving prison/community TB nurse                                        ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦           ¦   ¦   ¦           ¦       ¦--Attended TPT referral                                                                                             ,soc.prop.attend.nhs.referral,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.attending.nhs.tb.service,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,ucost.prison.escort ,ucost.nhs.tb.service,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦           ¦   ¦   ¦           ¦       ¦   °--TPT outcomes                                                                                                  ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦           ¦   ¦   ¦           ¦       ¦       ¦--gets TPT                                                                                                  ,soc.prop.starting.tpt,cost.tpt.initiation,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.tpt.initiation,0,cost.tpt.initiation,0,0,0,0,0,0,0,0,ucost.prison.escort,ucost.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0
     ¦           ¦           ¦   ¦   ¦           ¦       ¦       ¦   ¦--completed TPT                                                                                         ,soc.prop.completing.tpt,cost.tpt.complete,0,0,0,0,0,0,0,0,0,0,TPT.visits*(ucost.prison.escort),durTPT*(ucost.ltbi.drugs),TPT.visits*(ucost.tpt.opd.visit),durTPT*(ucost.dots),0,0,0,cost.tpt.complete,0,0,cost.tpt.complete,0,0,0,0,0,0,0,(TPT.visits*ucost.prison.escort + durTPT*ucost.dots),(durTPT*ucost.ltbi.drugs+ TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,1
     ¦           ¦           ¦   ¦   ¦           ¦       ¦       ¦   °--did not complete TPT                                                                                  ,1-soc.prop.completing.tpt,cost.tpt.incomplete,0,0,0,0,0,0,0,0,0,0,IncompDurTPT / durTPT * TPT.visits*ucost.prison.escort,IncompDurTPT*ucost.ltbi.drugs,IncompDurTPT / durTPT * TPT.visits*ucost.tpt.opd.visit,IncompDurTPT*ucost.dots,0,0,0,cost.tpt.incomplete,0,0,0,cost.tpt.incomplete,0,0,0,0,0,0,(IncompDurTPT/durTPT*TPT.visits*ucost.prison.escort + IncompDurTPT*ucost.dots),(IncompDurTPT*ucost.ltbi.drugs + IncompDurTPT/durTPT*TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1
     ¦           ¦           ¦   ¦   ¦           ¦       ¦       °--does not get TPT                                                                                          ,1-soc.prop.starting.tpt,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦           ¦           ¦   ¦   ¦           ¦       °--Did not attend TPT referral                                                                                       ,1-soc.prop.attend.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦           ¦           ¦   ¦   ¦           °--Early removal scheme or deportation                                                                                       ,1-soc.prop.staying.<3months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦           ¦           ¦   ¦   °--No previous chest x-ray                                                                                                               ,1-soc.prop.prev.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦           ¦   ¦       ¦--Chest x-ray                                                                                                                       ,soc.prop.xray,cost.chest.xray,0,cost.chest.xray,0,ucost.chest.xray,0,0,ucost.prison.escort,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,ucost.chest.xray,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦           ¦   ¦       ¦   ¦--Abornomal chest x-ray                                                                                                         ,soc.prop.abnormal.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦           ¦   ¦       ¦   ¦   ¦--Referred to NHS TB service                                                                                                ,nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦           ¦   ¦       ¦   ¦   ¦   ¦--Attended TB referral                                                                                                  ,soc.prop.attend.nhs.referral,cost.tb.evaluation,0,cost.tb.evaluation,0,0,0,cost.nhs.tb.service,0,ucost.prison.escort,cost.tb.investigations,0,0,0,0,0,0,0,cost.tb.evaluation,0,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort ,ucost.nhs.tb.service + ucost.tb.investigations,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦           ¦   ¦       ¦   ¦   ¦   ¦   ¦--TB                                                                                                                ,soc.prop.abn.xray.tb.dx,cost.contact.management,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,cost.contact.management,smear.positive * (cost.prison.isolation),0,0,0,smear.positive * (nContacts * ucost.contact.tracing),cost.contact.management,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0
     ¦           ¦           ¦   ¦       ¦   ¦   ¦   ¦   ¦   °--TB outcomes                                                                                                   ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦           ¦   ¦       ¦   ¦   ¦   ¦   ¦       ¦--ATT                                                                                                       ,soc.prop.starting.att,cost.att.initiation,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,0,0,0,0,0,cost.att.initiation,0,cost.att.initiation,0,0,0,ucost.prison.escort,ucost.nhs.tb.service ,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0
     ¦           ¦           ¦   ¦       ¦   ¦   ¦   ¦   ¦       ¦   ¦--completed ATT                                                                                         ,soc.prop.completing.att,cost.att.complete,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort * (pDSTB * dstb.visits + (1 - pDSTB) * mdrtb.visits) ,pDSTB * DurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * DurMDRTB * ucost.mdratt.drugs,pDSTB * dstb.visits*ucost.dstb.opd.visit + (1 - pDSTB) * mdrtb.visits * ucost.mdrtb.opd.visit,ucost.dots * (pDSTB * DurDSTB + (1 - pDSTB) * DurMDRTB),(pDSTB * smear.positive * DurDSTBIsolation * ucost.dstb.ipd +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * ucost.mdrtb.ipd + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * ucost.mdrtb.ipd),ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation),0,0,0,0,0,0,cost.att.complete,0,0,cost.att.complete,0,0,(ucost.prison.escort * (pDSTB * dstb.visits + (1 - pDSTB) * mdrtb.visits)  + ucost.dots * (pDSTB * DurDSTB + (1 - pDSTB) * DurMDRTB) + ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation)),(pDSTB * DurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * DurMDRTB * ucost.mdratt.drugs + pDSTB * dstb.visits*(ucost.dstb.opd.visit) + (1 - pDSTB) * mdrtb.visits * (ucost.mdrtb.opd.visit) + (pDSTB * smear.positive * DurDSTBIsolation * (ucost.dstb.ipd) +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * (ucost.mdrtb.ipd) + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * (ucost.mdrtb.ipd))),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,1
     ¦           ¦           ¦   ¦       ¦   ¦   ¦   ¦   ¦       ¦   °--did not complete ATT                                                                                  ,1-soc.prop.completing.att,cost.att.incomplete ,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort * (IncompDurDSTB/DurDSTB*pDSTB * dstb.visits + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits),pDSTB  * IncompDurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * IncompDurMDRTB  * ucost.mdratt.drugs,IncompDurDSTB / DurDSTB * pDSTB * dstb.visits*ucost.dstb.opd.visit + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits * ucost.mdrtb.opd.visit,ucost.dots * (pDSTB * IncompDurDSTB + (1 - pDSTB) * IncompDurMDRTB),(pDSTB * smear.positive * DurDSTBIsolation * ucost.dstb.ipd +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * ucost.mdrtb.ipd + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * ucost.mdrtb.ipd),ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation),0,0,0,0,0,0,cost.att.incomplete ,0,0,0,cost.att.incomplete ,0,(ucost.prison.escort * (IncompDurDSTB/DurDSTB*pDSTB * dstb.visits + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits) + ucost.dots * (pDSTB * IncompDurDSTB + (1 - pDSTB) * IncompDurMDRTB) + ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  + (1 - pDSTB) * smear.positive * DurMDRTB2Isolation+ (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation)),(pDSTB  * IncompDurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * IncompDurMDRTB * ucost.mdratt.drugs) + (IncompDurDSTB / DurDSTB * pDSTB * dstb.visits*ucost.dstb.opd.visit + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits * ucost.mdrtb.opd.visit) + ((pDSTB * smear.positive * DurDSTBIsolation * (ucost.dstb.ipd) +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * (ucost.mdrtb.ipd) +(1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * (ucost.mdrtb.ipd))),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦           ¦           ¦   ¦       ¦   ¦   ¦   ¦   ¦       °--no ATT                                                                                                    ,1-soc.prop.starting.att,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦           ¦           ¦   ¦       ¦   ¦   ¦   ¦   °--Not TB                                                                                                            ,1-soc.prop.abn.xray.tb.dx,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦           ¦   ¦       ¦   ¦   ¦   ¦       ¦--In prison/IRC for >3 months                                                                                   ,soc.prop.staying.3+months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0
     ¦           ¦           ¦   ¦       ¦   ¦   ¦   ¦       ¦   °--Refer for treatment                                                                                       ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦           ¦   ¦       ¦   ¦   ¦   ¦       ¦       ¦--Attended TPT referral                                                                                 ,soc.prop.attend.nhs.referral,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.attending.nhs.tb.service,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,ucost.prison.escort ,ucost.nhs.tb.service,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦           ¦   ¦       ¦   ¦   ¦   ¦       ¦       ¦   °--TPT outcomes                                                                                      ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦           ¦   ¦       ¦   ¦   ¦   ¦       ¦       ¦       ¦--gets TPT                                                                                      ,soc.prop.starting.tpt,cost.tpt.initiation,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.tpt.initiation,0,cost.tpt.initiation,0,0,0,0,0,0,0,0,ucost.prison.escort,ucost.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0
     ¦           ¦           ¦   ¦       ¦   ¦   ¦   ¦       ¦       ¦       ¦   ¦--completed TPT                                                                             ,soc.prop.completing.tpt,cost.tpt.complete,0,0,0,0,0,0,0,0,0,0,TPT.visits*(ucost.prison.escort),durTPT*(ucost.ltbi.drugs),TPT.visits*(ucost.tpt.opd.visit),durTPT*(ucost.dots),0,0,0,cost.tpt.complete,0,0,cost.tpt.complete,0,0,0,0,0,0,0,(TPT.visits*ucost.prison.escort + durTPT*ucost.dots),(durTPT*ucost.ltbi.drugs+ TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,1
     ¦           ¦           ¦   ¦       ¦   ¦   ¦   ¦       ¦       ¦       ¦   °--did not complete TPT                                                                      ,1-soc.prop.completing.tpt,cost.tpt.incomplete,0,0,0,0,0,0,0,0,0,0,IncompDurTPT / durTPT * TPT.visits*ucost.prison.escort,IncompDurTPT*ucost.ltbi.drugs,IncompDurTPT / durTPT * TPT.visits*ucost.tpt.opd.visit,IncompDurTPT*ucost.dots,0,0,0,cost.tpt.incomplete,0,0,0,cost.tpt.incomplete,0,0,0,0,0,0,(IncompDurTPT/durTPT*TPT.visits*ucost.prison.escort + IncompDurTPT*ucost.dots),(IncompDurTPT*ucost.ltbi.drugs + IncompDurTPT/durTPT*TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1
     ¦           ¦           ¦   ¦       ¦   ¦   ¦   ¦       ¦       ¦       °--does not get TPT                                                                              ,1-soc.prop.starting.tpt,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦           ¦           ¦   ¦       ¦   ¦   ¦   ¦       ¦       °--Did not attend TPT referral                                                                           ,1-soc.prop.attend.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦           ¦           ¦   ¦       ¦   ¦   ¦   ¦       °--In prison/IRC for <3 months                                                                                   ,1-soc.prop.staying.3+months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦           ¦   ¦       ¦   ¦   ¦   ¦           ¦--Remaining in the UK (community or other prison/IRC)                                                       ,soc.prop.staying.<3months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦           ¦   ¦       ¦   ¦   ¦   ¦           ¦   °--Refer for treatment and forward details to receiving prison/community TB nurse                        ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦           ¦   ¦       ¦   ¦   ¦   ¦           ¦       ¦--Attended TPT referral                                                                             ,soc.prop.attend.nhs.referral,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.attending.nhs.tb.service,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,ucost.prison.escort ,ucost.nhs.tb.service,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦           ¦   ¦       ¦   ¦   ¦   ¦           ¦       ¦   °--TPT outcomes                                                                                  ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦           ¦   ¦       ¦   ¦   ¦   ¦           ¦       ¦       ¦--gets TPT                                                                                  ,soc.prop.starting.tpt,cost.tpt.initiation,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.tpt.initiation,0,cost.tpt.initiation,0,0,0,0,0,0,0,0,ucost.prison.escort,ucost.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0
     ¦           ¦           ¦   ¦       ¦   ¦   ¦   ¦           ¦       ¦       ¦   ¦--completed TPT                                                                         ,soc.prop.completing.tpt,cost.tpt.complete,0,0,0,0,0,0,0,0,0,0,TPT.visits*(ucost.prison.escort),durTPT*(ucost.ltbi.drugs),TPT.visits*(ucost.tpt.opd.visit),durTPT*(ucost.dots),0,0,0,cost.tpt.complete,0,0,cost.tpt.complete,0,0,0,0,0,0,0,(TPT.visits*ucost.prison.escort + durTPT*ucost.dots),(durTPT*ucost.ltbi.drugs+ TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,1
     ¦           ¦           ¦   ¦       ¦   ¦   ¦   ¦           ¦       ¦       ¦   °--did not complete TPT                                                                  ,1-soc.prop.completing.tpt,cost.tpt.incomplete,0,0,0,0,0,0,0,0,0,0,IncompDurTPT / durTPT * TPT.visits*ucost.prison.escort,IncompDurTPT*ucost.ltbi.drugs,IncompDurTPT / durTPT * TPT.visits*ucost.tpt.opd.visit,IncompDurTPT*ucost.dots,0,0,0,cost.tpt.incomplete,0,0,0,cost.tpt.incomplete,0,0,0,0,0,0,(IncompDurTPT/durTPT*TPT.visits*ucost.prison.escort + IncompDurTPT*ucost.dots),(IncompDurTPT*ucost.ltbi.drugs + IncompDurTPT/durTPT*TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1
     ¦           ¦           ¦   ¦       ¦   ¦   ¦   ¦           ¦       ¦       °--does not get TPT                                                                          ,1-soc.prop.starting.tpt,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦           ¦           ¦   ¦       ¦   ¦   ¦   ¦           ¦       °--Did not attend TPT referral                                                                       ,1-soc.prop.attend.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦           ¦           ¦   ¦       ¦   ¦   ¦   ¦           °--Early removal scheme or deportation                                                                       ,1-soc.prop.staying.<3months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦           ¦           ¦   ¦       ¦   ¦   ¦   °--Did not attend TB referral                                                                                            ,1-soc.prop.attend.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦           ¦           ¦   ¦       ¦   ¦   °--Not referred to NHS TB service                                                                                            ,1-nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦           ¦           ¦   ¦       ¦   °--Normal chest x-ray                                                                                                            ,1-soc.prop.abnormal.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦           ¦   ¦       ¦       ¦--In prison/IRC for >3 months                                                                                               ,soc.prop.staying.3+months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0
     ¦           ¦           ¦   ¦       ¦       ¦   °--Refer for treatment                                                                                                   ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦           ¦   ¦       ¦       ¦       ¦--Attended TPT referral                                                                                             ,soc.prop.attend.nhs.referral,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.attending.nhs.tb.service,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,ucost.prison.escort ,ucost.nhs.tb.service,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦           ¦   ¦       ¦       ¦       ¦   °--TPT outcomes                                                                                                  ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦           ¦   ¦       ¦       ¦       ¦       ¦--gets TPT                                                                                                  ,soc.prop.starting.tpt,cost.tpt.initiation,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.tpt.initiation,0,cost.tpt.initiation,0,0,0,0,0,0,0,0,ucost.prison.escort,ucost.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0
     ¦           ¦           ¦   ¦       ¦       ¦       ¦       ¦   ¦--completed TPT                                                                                         ,soc.prop.completing.tpt,cost.tpt.complete,0,0,0,0,0,0,0,0,0,0,TPT.visits*(ucost.prison.escort),durTPT*(ucost.ltbi.drugs),TPT.visits*(ucost.tpt.opd.visit),durTPT*(ucost.dots),0,0,0,cost.tpt.complete,0,0,cost.tpt.complete,0,0,0,0,0,0,0,(TPT.visits*ucost.prison.escort + durTPT*ucost.dots),(durTPT*ucost.ltbi.drugs+ TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,1
     ¦           ¦           ¦   ¦       ¦       ¦       ¦       ¦   °--did not complete TPT                                                                                  ,1-soc.prop.completing.tpt,cost.tpt.incomplete,0,0,0,0,0,0,0,0,0,0,IncompDurTPT / durTPT * TPT.visits*ucost.prison.escort,IncompDurTPT*ucost.ltbi.drugs,IncompDurTPT / durTPT * TPT.visits*ucost.tpt.opd.visit,IncompDurTPT*ucost.dots,0,0,0,cost.tpt.incomplete,0,0,0,cost.tpt.incomplete,0,0,0,0,0,0,(IncompDurTPT/durTPT*TPT.visits*ucost.prison.escort + IncompDurTPT*ucost.dots),(IncompDurTPT*ucost.ltbi.drugs + IncompDurTPT/durTPT*TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1
     ¦           ¦           ¦   ¦       ¦       ¦       ¦       °--does not get TPT                                                                                          ,1-soc.prop.starting.tpt,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦           ¦           ¦   ¦       ¦       ¦       °--Did not attend TPT referral                                                                                       ,1-soc.prop.attend.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦           ¦           ¦   ¦       ¦       °--In prison/IRC for <3 months                                                                                               ,1-soc.prop.staying.3+months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦           ¦   ¦       ¦           ¦--Remaining in the UK (community or other prison/IRC)                                                                   ,soc.prop.staying.<3months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦           ¦   ¦       ¦           ¦   °--Refer for treatment and forward details to receiving prison/community TB nurse                                    ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦           ¦   ¦       ¦           ¦       ¦--Attended TPT referral                                                                                         ,soc.prop.attend.nhs.referral,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.attending.nhs.tb.service,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,ucost.prison.escort ,ucost.nhs.tb.service,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦           ¦   ¦       ¦           ¦       ¦   °--TPT outcomes                                                                                              ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦           ¦   ¦       ¦           ¦       ¦       ¦--gets TPT                                                                                              ,soc.prop.starting.tpt,cost.tpt.initiation,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.tpt.initiation,0,cost.tpt.initiation,0,0,0,0,0,0,0,0,ucost.prison.escort,ucost.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0
     ¦           ¦           ¦   ¦       ¦           ¦       ¦       ¦   ¦--completed TPT                                                                                     ,soc.prop.completing.tpt,cost.tpt.complete,0,0,0,0,0,0,0,0,0,0,TPT.visits*(ucost.prison.escort),durTPT*(ucost.ltbi.drugs),TPT.visits*(ucost.tpt.opd.visit),durTPT*(ucost.dots),0,0,0,cost.tpt.complete,0,0,cost.tpt.complete,0,0,0,0,0,0,0,(TPT.visits*ucost.prison.escort + durTPT*ucost.dots),(durTPT*ucost.ltbi.drugs+ TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,1
     ¦           ¦           ¦   ¦       ¦           ¦       ¦       ¦   °--did not complete TPT                                                                              ,1-soc.prop.completing.tpt,cost.tpt.incomplete,0,0,0,0,0,0,0,0,0,0,IncompDurTPT / durTPT * TPT.visits*ucost.prison.escort,IncompDurTPT*ucost.ltbi.drugs,IncompDurTPT / durTPT * TPT.visits*ucost.tpt.opd.visit,IncompDurTPT*ucost.dots,0,0,0,cost.tpt.incomplete,0,0,0,cost.tpt.incomplete,0,0,0,0,0,0,(IncompDurTPT/durTPT*TPT.visits*ucost.prison.escort + IncompDurTPT*ucost.dots),(IncompDurTPT*ucost.ltbi.drugs + IncompDurTPT/durTPT*TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1
     ¦           ¦           ¦   ¦       ¦           ¦       ¦       °--does not get TPT                                                                                      ,1-soc.prop.starting.tpt,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦           ¦           ¦   ¦       ¦           ¦       °--Did not attend TPT referral                                                                                   ,1-soc.prop.attend.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦           ¦           ¦   ¦       ¦           °--Early removal scheme or deportation                                                                                   ,1-soc.prop.staying.<3months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦           ¦           ¦   ¦       °--No chest x-ray                                                                                                                    ,1-soc.prop.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦           ¦   ¦           ¦--Referred to NHS TB service                                                                                                    ,nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦           ¦   ¦           ¦   ¦--Attended TB referral                                                                                                      ,soc.prop.attend.nhs.referral,cost.tb.evaluation,0,cost.tb.evaluation,0,0,0,cost.nhs.tb.service,0,ucost.prison.escort,cost.tb.investigations,0,0,0,0,0,0,0,cost.tb.evaluation,0,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort ,ucost.nhs.tb.service + ucost.tb.investigations,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦           ¦   ¦           ¦   ¦   ¦--TB                                                                                                                    ,soc.prop.no.xray.tb.dx,cost.contact.management,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,cost.contact.management,smear.positive * (cost.prison.isolation),0,0,0,smear.positive * (nContacts * ucost.contact.tracing),cost.contact.management,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0
     ¦           ¦           ¦   ¦           ¦   ¦   ¦   °--TB outcomes                                                                                                       ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦           ¦   ¦           ¦   ¦   ¦       ¦--ATT                                                                                                           ,soc.prop.starting.att,cost.att.initiation,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,0,0,0,0,0,cost.att.initiation,0,cost.att.initiation,0,0,0,ucost.prison.escort,ucost.nhs.tb.service ,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0
     ¦           ¦           ¦   ¦           ¦   ¦   ¦       ¦   ¦--completed ATT                                                                                             ,soc.prop.completing.att,cost.att.complete,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort * (pDSTB * dstb.visits + (1 - pDSTB) * mdrtb.visits) ,pDSTB * DurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * DurMDRTB * ucost.mdratt.drugs,pDSTB * dstb.visits*ucost.dstb.opd.visit + (1 - pDSTB) * mdrtb.visits * ucost.mdrtb.opd.visit,ucost.dots * (pDSTB * DurDSTB + (1 - pDSTB) * DurMDRTB),(pDSTB * smear.positive * DurDSTBIsolation * ucost.dstb.ipd +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * ucost.mdrtb.ipd + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * ucost.mdrtb.ipd),ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation),0,0,0,0,0,0,cost.att.complete,0,0,cost.att.complete,0,0,(ucost.prison.escort * (pDSTB * dstb.visits + (1 - pDSTB) * mdrtb.visits)  + ucost.dots * (pDSTB * DurDSTB + (1 - pDSTB) * DurMDRTB) + ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation)),(pDSTB * DurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * DurMDRTB * ucost.mdratt.drugs + pDSTB * dstb.visits*(ucost.dstb.opd.visit) + (1 - pDSTB) * mdrtb.visits * (ucost.mdrtb.opd.visit) + (pDSTB * smear.positive * DurDSTBIsolation * (ucost.dstb.ipd) +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * (ucost.mdrtb.ipd) + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * (ucost.mdrtb.ipd))),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,1
     ¦           ¦           ¦   ¦           ¦   ¦   ¦       ¦   °--did not complete ATT                                                                                      ,1-soc.prop.completing.att,cost.att.incomplete ,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort * (IncompDurDSTB/DurDSTB*pDSTB * dstb.visits + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits),pDSTB  * IncompDurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * IncompDurMDRTB  * ucost.mdratt.drugs,IncompDurDSTB / DurDSTB * pDSTB * dstb.visits*ucost.dstb.opd.visit + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits * ucost.mdrtb.opd.visit,ucost.dots * (pDSTB * IncompDurDSTB + (1 - pDSTB) * IncompDurMDRTB),(pDSTB * smear.positive * DurDSTBIsolation * ucost.dstb.ipd +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * ucost.mdrtb.ipd + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * ucost.mdrtb.ipd),ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation),0,0,0,0,0,0,cost.att.incomplete ,0,0,0,cost.att.incomplete ,0,(ucost.prison.escort * (IncompDurDSTB/DurDSTB*pDSTB * dstb.visits + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits) + ucost.dots * (pDSTB * IncompDurDSTB + (1 - pDSTB) * IncompDurMDRTB) + ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  + (1 - pDSTB) * smear.positive * DurMDRTB2Isolation+ (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation)),(pDSTB  * IncompDurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * IncompDurMDRTB * ucost.mdratt.drugs) + (IncompDurDSTB / DurDSTB * pDSTB * dstb.visits*ucost.dstb.opd.visit + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits * ucost.mdrtb.opd.visit) + ((pDSTB * smear.positive * DurDSTBIsolation * (ucost.dstb.ipd) +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * (ucost.mdrtb.ipd) +(1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * (ucost.mdrtb.ipd))),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦           ¦           ¦   ¦           ¦   ¦   ¦       °--no ATT                                                                                                        ,1-soc.prop.starting.att,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦           ¦           ¦   ¦           ¦   ¦   °--Not TB                                                                                                                ,1-soc.prop.no.xray.tb.dx,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦           ¦   ¦           ¦   ¦       ¦--In prison/IRC for >3 months                                                                                       ,soc.prop.staying.3+months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0
     ¦           ¦           ¦   ¦           ¦   ¦       ¦   °--Refer for treatment                                                                                           ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦           ¦   ¦           ¦   ¦       ¦       ¦--Attended TPT referral                                                                                     ,soc.prop.attend.nhs.referral,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.attending.nhs.tb.service,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,ucost.prison.escort ,ucost.nhs.tb.service,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦           ¦   ¦           ¦   ¦       ¦       ¦   °--TPT outcomes                                                                                          ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦           ¦   ¦           ¦   ¦       ¦       ¦       ¦--gets TPT                                                                                          ,soc.prop.starting.tpt,cost.tpt.initiation,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.tpt.initiation,0,cost.tpt.initiation,0,0,0,0,0,0,0,0,ucost.prison.escort,ucost.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0
     ¦           ¦           ¦   ¦           ¦   ¦       ¦       ¦       ¦   ¦--completed TPT                                                                                 ,soc.prop.completing.tpt,cost.tpt.complete,0,0,0,0,0,0,0,0,0,0,TPT.visits*(ucost.prison.escort),durTPT*(ucost.ltbi.drugs),TPT.visits*(ucost.tpt.opd.visit),durTPT*(ucost.dots),0,0,0,cost.tpt.complete,0,0,cost.tpt.complete,0,0,0,0,0,0,0,(TPT.visits*ucost.prison.escort + durTPT*ucost.dots),(durTPT*ucost.ltbi.drugs+ TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,1
     ¦           ¦           ¦   ¦           ¦   ¦       ¦       ¦       ¦   °--did not complete TPT                                                                          ,1-soc.prop.completing.tpt,cost.tpt.incomplete,0,0,0,0,0,0,0,0,0,0,IncompDurTPT / durTPT * TPT.visits*ucost.prison.escort,IncompDurTPT*ucost.ltbi.drugs,IncompDurTPT / durTPT * TPT.visits*ucost.tpt.opd.visit,IncompDurTPT*ucost.dots,0,0,0,cost.tpt.incomplete,0,0,0,cost.tpt.incomplete,0,0,0,0,0,0,(IncompDurTPT/durTPT*TPT.visits*ucost.prison.escort + IncompDurTPT*ucost.dots),(IncompDurTPT*ucost.ltbi.drugs + IncompDurTPT/durTPT*TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1
     ¦           ¦           ¦   ¦           ¦   ¦       ¦       ¦       °--does not get TPT                                                                                  ,1-soc.prop.starting.tpt,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦           ¦           ¦   ¦           ¦   ¦       ¦       °--Did not attend TPT referral                                                                               ,1-soc.prop.attend.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦           ¦           ¦   ¦           ¦   ¦       °--In prison/IRC for <3 months                                                                                       ,1-soc.prop.staying.3+months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦           ¦   ¦           ¦   ¦           ¦--Remaining in the UK (community or other prison/IRC)                                                           ,soc.prop.staying.<3months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦           ¦   ¦           ¦   ¦           ¦   °--Refer for treatment and forward details to receiving prison/community TB nurse                            ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦           ¦   ¦           ¦   ¦           ¦       ¦--Attended TPT referral                                                                                 ,soc.prop.attend.nhs.referral,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.attending.nhs.tb.service,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,ucost.prison.escort ,ucost.nhs.tb.service,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦           ¦   ¦           ¦   ¦           ¦       ¦   °--TPT outcomes                                                                                      ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦           ¦           ¦   ¦           ¦   ¦           ¦       ¦       ¦--gets TPT                                                                                      ,soc.prop.starting.tpt,cost.tpt.initiation,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.tpt.initiation,0,cost.tpt.initiation,0,0,0,0,0,0,0,0,ucost.prison.escort,ucost.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0
     ¦           ¦           ¦   ¦           ¦   ¦           ¦       ¦       ¦   ¦--completed TPT                                                                             ,soc.prop.completing.tpt,cost.tpt.complete,0,0,0,0,0,0,0,0,0,0,TPT.visits*(ucost.prison.escort),durTPT*(ucost.ltbi.drugs),TPT.visits*(ucost.tpt.opd.visit),durTPT*(ucost.dots),0,0,0,cost.tpt.complete,0,0,cost.tpt.complete,0,0,0,0,0,0,0,(TPT.visits*ucost.prison.escort + durTPT*ucost.dots),(durTPT*ucost.ltbi.drugs+ TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,1
     ¦           ¦           ¦   ¦           ¦   ¦           ¦       ¦       ¦   °--did not complete TPT                                                                      ,1-soc.prop.completing.tpt,cost.tpt.incomplete,0,0,0,0,0,0,0,0,0,0,IncompDurTPT / durTPT * TPT.visits*ucost.prison.escort,IncompDurTPT*ucost.ltbi.drugs,IncompDurTPT / durTPT * TPT.visits*ucost.tpt.opd.visit,IncompDurTPT*ucost.dots,0,0,0,cost.tpt.incomplete,0,0,0,cost.tpt.incomplete,0,0,0,0,0,0,(IncompDurTPT/durTPT*TPT.visits*ucost.prison.escort + IncompDurTPT*ucost.dots),(IncompDurTPT*ucost.ltbi.drugs + IncompDurTPT/durTPT*TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1
     ¦           ¦           ¦   ¦           ¦   ¦           ¦       ¦       °--does not get TPT                                                                              ,1-soc.prop.starting.tpt,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦           ¦           ¦   ¦           ¦   ¦           ¦       °--Did not attend TPT referral                                                                           ,1-soc.prop.attend.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦           ¦           ¦   ¦           ¦   ¦           °--Early removal scheme or deportation                                                                           ,1-soc.prop.staying.<3months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦           ¦           ¦   ¦           ¦   °--Did not attend TB referral                                                                                                ,1-soc.prop.attend.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦           ¦           ¦   ¦           °--Not referred to NHS TB service                                                                                                ,1-nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦           ¦           ¦   °--IGRA test -                                                                                                                               ,1-soc.prop.igra.test.positive,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦           ¦           °--no IGRA test                                                                                                                                  ,1-soc.prop.igra.tested,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦           °--No chest x-ray < 6 months                                                                                                                                 ,1-soc.prop.prev.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦--Chest x-ray                                                                                                                                           ,soc.prop.xray,cost.chest.xray,0,cost.chest.xray,0,ucost.chest.xray,0,0,ucost.prison.escort,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,ucost.chest.xray,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦   ¦--Abornomal chest x-ray                                                                                                                             ,soc.prop.abnormal.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦   ¦   °--Urgent referral to local NHS TB service                                                                                                       ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦   ¦       ¦--Attended TB referral                                                                                                                      ,soc.prop.attend.nhs.referral,cost.tb.evaluation,0,cost.tb.evaluation,0,0,0,cost.nhs.tb.service,0,ucost.prison.escort,cost.tb.investigations,0,0,0,0,0,0,0,cost.tb.evaluation,0,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort ,ucost.nhs.tb.service + ucost.tb.investigations,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦   ¦       ¦   ¦--TB                                                                                                                                    ,soc.prop.abn.xray.tb.dx,cost.contact.management,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,cost.contact.management,smear.positive * (cost.prison.isolation),0,0,0,smear.positive * (nContacts * ucost.contact.tracing),cost.contact.management,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0
     ¦               ¦   ¦       ¦   ¦   °--TB outcomes                                                                                                                       ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦   ¦       ¦   ¦       ¦--ATT                                                                                                                           ,soc.prop.starting.att,cost.att.initiation,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,0,0,0,0,0,cost.att.initiation,0,cost.att.initiation,0,0,0,ucost.prison.escort,ucost.nhs.tb.service ,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0
     ¦               ¦   ¦       ¦   ¦       ¦   ¦--completed ATT                                                                                                             ,soc.prop.completing.att,cost.att.complete,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort * (pDSTB * dstb.visits + (1 - pDSTB) * mdrtb.visits) ,pDSTB * DurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * DurMDRTB * ucost.mdratt.drugs,pDSTB * dstb.visits*ucost.dstb.opd.visit + (1 - pDSTB) * mdrtb.visits * ucost.mdrtb.opd.visit,ucost.dots * (pDSTB * DurDSTB + (1 - pDSTB) * DurMDRTB),(pDSTB * smear.positive * DurDSTBIsolation * ucost.dstb.ipd +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * ucost.mdrtb.ipd + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * ucost.mdrtb.ipd),ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation),0,0,0,0,0,0,cost.att.complete,0,0,cost.att.complete,0,0,(ucost.prison.escort * (pDSTB * dstb.visits + (1 - pDSTB) * mdrtb.visits)  + ucost.dots * (pDSTB * DurDSTB + (1 - pDSTB) * DurMDRTB) + ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation)),(pDSTB * DurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * DurMDRTB * ucost.mdratt.drugs + pDSTB * dstb.visits*(ucost.dstb.opd.visit) + (1 - pDSTB) * mdrtb.visits * (ucost.mdrtb.opd.visit) + (pDSTB * smear.positive * DurDSTBIsolation * (ucost.dstb.ipd) +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * (ucost.mdrtb.ipd) + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * (ucost.mdrtb.ipd))),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,1
     ¦               ¦   ¦       ¦   ¦       ¦   °--did not complete ATT                                                                                                      ,1-soc.prop.completing.att,cost.att.incomplete ,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort * (IncompDurDSTB/DurDSTB*pDSTB * dstb.visits + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits),pDSTB  * IncompDurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * IncompDurMDRTB  * ucost.mdratt.drugs,IncompDurDSTB / DurDSTB * pDSTB * dstb.visits*ucost.dstb.opd.visit + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits * ucost.mdrtb.opd.visit,ucost.dots * (pDSTB * IncompDurDSTB + (1 - pDSTB) * IncompDurMDRTB),(pDSTB * smear.positive * DurDSTBIsolation * ucost.dstb.ipd +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * ucost.mdrtb.ipd + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * ucost.mdrtb.ipd),ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation),0,0,0,0,0,0,cost.att.incomplete ,0,0,0,cost.att.incomplete ,0,(ucost.prison.escort * (IncompDurDSTB/DurDSTB*pDSTB * dstb.visits + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits) + ucost.dots * (pDSTB * IncompDurDSTB + (1 - pDSTB) * IncompDurMDRTB) + ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  + (1 - pDSTB) * smear.positive * DurMDRTB2Isolation+ (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation)),(pDSTB  * IncompDurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * IncompDurMDRTB * ucost.mdratt.drugs) + (IncompDurDSTB / DurDSTB * pDSTB * dstb.visits*ucost.dstb.opd.visit + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits * ucost.mdrtb.opd.visit) + ((pDSTB * smear.positive * DurDSTBIsolation * (ucost.dstb.ipd) +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * (ucost.mdrtb.ipd) +(1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * (ucost.mdrtb.ipd))),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦               ¦   ¦       ¦   ¦       °--no ATT                                                                                                                        ,1-soc.prop.starting.att,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦               ¦   ¦       ¦   °--Not TB                                                                                                                                ,1-soc.prop.abn.xray.tb.dx,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦   ¦       ¦       °--LTBI pathway                                                                                                                      ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦   ¦       ¦           ¦--IGRA test                                                                                                                     ,soc.prop.igra.tested,cost.igra.test,0,0,0,0,0,0,0,0,0,cost.igra.test,0,0,0,0,0,0,0,cost.igra.test,0,0,0,0,0,0,0,0,0,0,0,ucost.igra.test,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦   ¦       ¦           ¦   ¦--IGRA test +                                                                                                               ,soc.prop.igra.test.positive,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0
     ¦               ¦   ¦       ¦           ¦   ¦   ¦--Previous chest x-ray                                                                                                  ,soc.prop.prev.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦   ¦       ¦           ¦   ¦   ¦   ¦--Abornomal chest x-ray                                                                                             ,soc.prop.abnormal.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦--Referred to NHS TB service                                                                                    ,nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦--Attended TB referral                                                                                      ,soc.prop.attend.nhs.referral,cost.tb.evaluation,0,cost.tb.evaluation,0,0,0,cost.nhs.tb.service,0,ucost.prison.escort,cost.tb.investigations,0,0,0,0,0,0,0,cost.tb.evaluation,0,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort ,ucost.nhs.tb.service + ucost.tb.investigations,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦   ¦--TB                                                                                                    ,soc.prop.abn.xray.tb.dx,cost.contact.management,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,cost.contact.management,smear.positive * (cost.prison.isolation),0,0,0,smear.positive * (nContacts * ucost.contact.tracing),cost.contact.management,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0
     ¦               ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦   ¦   °--TB outcomes                                                                                       ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦   ¦       ¦--ATT                                                                                           ,soc.prop.starting.att,cost.att.initiation,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,0,0,0,0,0,cost.att.initiation,0,cost.att.initiation,0,0,0,ucost.prison.escort,ucost.nhs.tb.service ,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0
     ¦               ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦   ¦       ¦   ¦--completed ATT                                                                             ,soc.prop.completing.att,cost.att.complete,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort * (pDSTB * dstb.visits + (1 - pDSTB) * mdrtb.visits) ,pDSTB * DurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * DurMDRTB * ucost.mdratt.drugs,pDSTB * dstb.visits*ucost.dstb.opd.visit + (1 - pDSTB) * mdrtb.visits * ucost.mdrtb.opd.visit,ucost.dots * (pDSTB * DurDSTB + (1 - pDSTB) * DurMDRTB),(pDSTB * smear.positive * DurDSTBIsolation * ucost.dstb.ipd +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * ucost.mdrtb.ipd + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * ucost.mdrtb.ipd),ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation),0,0,0,0,0,0,cost.att.complete,0,0,cost.att.complete,0,0,(ucost.prison.escort * (pDSTB * dstb.visits + (1 - pDSTB) * mdrtb.visits)  + ucost.dots * (pDSTB * DurDSTB + (1 - pDSTB) * DurMDRTB) + ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation)),(pDSTB * DurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * DurMDRTB * ucost.mdratt.drugs + pDSTB * dstb.visits*(ucost.dstb.opd.visit) + (1 - pDSTB) * mdrtb.visits * (ucost.mdrtb.opd.visit) + (pDSTB * smear.positive * DurDSTBIsolation * (ucost.dstb.ipd) +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * (ucost.mdrtb.ipd) + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * (ucost.mdrtb.ipd))),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,1
     ¦               ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦   ¦       ¦   °--did not complete ATT                                                                      ,1-soc.prop.completing.att,cost.att.incomplete ,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort * (IncompDurDSTB/DurDSTB*pDSTB * dstb.visits + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits),pDSTB  * IncompDurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * IncompDurMDRTB  * ucost.mdratt.drugs,IncompDurDSTB / DurDSTB * pDSTB * dstb.visits*ucost.dstb.opd.visit + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits * ucost.mdrtb.opd.visit,ucost.dots * (pDSTB * IncompDurDSTB + (1 - pDSTB) * IncompDurMDRTB),(pDSTB * smear.positive * DurDSTBIsolation * ucost.dstb.ipd +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * ucost.mdrtb.ipd + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * ucost.mdrtb.ipd),ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation),0,0,0,0,0,0,cost.att.incomplete ,0,0,0,cost.att.incomplete ,0,(ucost.prison.escort * (IncompDurDSTB/DurDSTB*pDSTB * dstb.visits + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits) + ucost.dots * (pDSTB * IncompDurDSTB + (1 - pDSTB) * IncompDurMDRTB) + ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  + (1 - pDSTB) * smear.positive * DurMDRTB2Isolation+ (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation)),(pDSTB  * IncompDurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * IncompDurMDRTB * ucost.mdratt.drugs) + (IncompDurDSTB / DurDSTB * pDSTB * dstb.visits*ucost.dstb.opd.visit + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits * ucost.mdrtb.opd.visit) + ((pDSTB * smear.positive * DurDSTBIsolation * (ucost.dstb.ipd) +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * (ucost.mdrtb.ipd) +(1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * (ucost.mdrtb.ipd))),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦               ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦   ¦       °--no ATT                                                                                        ,1-soc.prop.starting.att,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦               ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦   °--Not TB                                                                                                ,1-soc.prop.abn.xray.tb.dx,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦       ¦--In prison/IRC for >3 months                                                                       ,soc.prop.staying.3+months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0
     ¦               ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦       ¦   °--Refer for treatment                                                                           ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦       ¦       ¦--Attended TPT referral                                                                     ,soc.prop.attend.nhs.referral,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.attending.nhs.tb.service,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,ucost.prison.escort ,ucost.nhs.tb.service,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦       ¦       ¦   °--TPT outcomes                                                                          ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦       ¦       ¦       ¦--gets TPT                                                                          ,soc.prop.starting.tpt,cost.tpt.initiation,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.tpt.initiation,0,cost.tpt.initiation,0,0,0,0,0,0,0,0,ucost.prison.escort,ucost.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0
     ¦               ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦       ¦       ¦       ¦   ¦--completed TPT                                                                 ,soc.prop.completing.tpt,cost.tpt.complete,0,0,0,0,0,0,0,0,0,0,TPT.visits*(ucost.prison.escort),durTPT*(ucost.ltbi.drugs),TPT.visits*(ucost.tpt.opd.visit),durTPT*(ucost.dots),0,0,0,cost.tpt.complete,0,0,cost.tpt.complete,0,0,0,0,0,0,0,(TPT.visits*ucost.prison.escort + durTPT*ucost.dots),(durTPT*ucost.ltbi.drugs+ TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,1
     ¦               ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦       ¦       ¦       ¦   °--did not complete TPT                                                          ,1-soc.prop.completing.tpt,cost.tpt.incomplete,0,0,0,0,0,0,0,0,0,0,IncompDurTPT / durTPT * TPT.visits*ucost.prison.escort,IncompDurTPT*ucost.ltbi.drugs,IncompDurTPT / durTPT * TPT.visits*ucost.tpt.opd.visit,IncompDurTPT*ucost.dots,0,0,0,cost.tpt.incomplete,0,0,0,cost.tpt.incomplete,0,0,0,0,0,0,(IncompDurTPT/durTPT*TPT.visits*ucost.prison.escort + IncompDurTPT*ucost.dots),(IncompDurTPT*ucost.ltbi.drugs + IncompDurTPT/durTPT*TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1
     ¦               ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦       ¦       ¦       °--does not get TPT                                                                  ,1-soc.prop.starting.tpt,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦               ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦       ¦       °--Did not attend TB referral TPT referral                                                   ,1-soc.prop.attend.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦               ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦       °--In prison/IRC for <3 months                                                                       ,1-soc.prop.staying.3+months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦           ¦--Remaining in the UK (community or other prison/IRC)                                           ,soc.prop.staying.<3months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦           ¦   °--Refer for treatment and forward details to receiving prison/community TB nurse            ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦           ¦       ¦--Attended TPT referral                                                                 ,soc.prop.attend.nhs.referral,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.attending.nhs.tb.service,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,ucost.prison.escort ,ucost.nhs.tb.service,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦           ¦       ¦   °--TPT outcomes                                                                      ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦           ¦       ¦       ¦--gets TPT                                                                      ,soc.prop.starting.tpt,cost.tpt.initiation,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.tpt.initiation,0,cost.tpt.initiation,0,0,0,0,0,0,0,0,ucost.prison.escort,ucost.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0
     ¦               ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦           ¦       ¦       ¦   ¦--completed TPT                                                             ,soc.prop.completing.tpt,cost.tpt.complete,0,0,0,0,0,0,0,0,0,0,TPT.visits*(ucost.prison.escort),durTPT*(ucost.ltbi.drugs),TPT.visits*(ucost.tpt.opd.visit),durTPT*(ucost.dots),0,0,0,cost.tpt.complete,0,0,cost.tpt.complete,0,0,0,0,0,0,0,(TPT.visits*ucost.prison.escort + durTPT*ucost.dots),(durTPT*ucost.ltbi.drugs+ TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,1
     ¦               ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦           ¦       ¦       ¦   °--did not complete TPT                                                      ,1-soc.prop.completing.tpt,cost.tpt.incomplete,0,0,0,0,0,0,0,0,0,0,IncompDurTPT / durTPT * TPT.visits*ucost.prison.escort,IncompDurTPT*ucost.ltbi.drugs,IncompDurTPT / durTPT * TPT.visits*ucost.tpt.opd.visit,IncompDurTPT*ucost.dots,0,0,0,cost.tpt.incomplete,0,0,0,cost.tpt.incomplete,0,0,0,0,0,0,(IncompDurTPT/durTPT*TPT.visits*ucost.prison.escort + IncompDurTPT*ucost.dots),(IncompDurTPT*ucost.ltbi.drugs + IncompDurTPT/durTPT*TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1
     ¦               ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦           ¦       ¦       °--does not get TPT                                                              ,1-soc.prop.starting.tpt,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦               ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦           ¦       °--Did not attend TPT referral                                                           ,1-soc.prop.attend.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦               ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   ¦           °--Early removal scheme or deportation                                                           ,1-soc.prop.staying.<3months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦               ¦   ¦       ¦           ¦   ¦   ¦   ¦   ¦   °--Did not attend TB referral                                                                                ,1-soc.prop.attend.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦               ¦   ¦       ¦           ¦   ¦   ¦   ¦   °--Not referred to NHS TB service                                                                                ,1-nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦               ¦   ¦       ¦           ¦   ¦   ¦   °--Normal chest x-ray                                                                                                ,1-soc.prop.abnormal.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦   ¦       ¦           ¦   ¦   ¦       ¦--In prison/IRC for >3 months                                                                                   ,soc.prop.staying.3+months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0
     ¦               ¦   ¦       ¦           ¦   ¦   ¦       ¦   °--Refer for treatment                                                                                       ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦   ¦       ¦           ¦   ¦   ¦       ¦       ¦--Attended TPT referral                                                                                 ,soc.prop.attend.nhs.referral,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.attending.nhs.tb.service,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,ucost.prison.escort ,ucost.nhs.tb.service,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦   ¦       ¦           ¦   ¦   ¦       ¦       ¦   °--TPT outcomes                                                                                      ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦   ¦       ¦           ¦   ¦   ¦       ¦       ¦       ¦--gets TPT                                                                                      ,soc.prop.starting.tpt,cost.tpt.initiation,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.tpt.initiation,0,cost.tpt.initiation,0,0,0,0,0,0,0,0,ucost.prison.escort,ucost.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0
     ¦               ¦   ¦       ¦           ¦   ¦   ¦       ¦       ¦       ¦   ¦--completed TPT                                                                             ,soc.prop.completing.tpt,cost.tpt.complete,0,0,0,0,0,0,0,0,0,0,TPT.visits*(ucost.prison.escort),durTPT*(ucost.ltbi.drugs),TPT.visits*(ucost.tpt.opd.visit),durTPT*(ucost.dots),0,0,0,cost.tpt.complete,0,0,cost.tpt.complete,0,0,0,0,0,0,0,(TPT.visits*ucost.prison.escort + durTPT*ucost.dots),(durTPT*ucost.ltbi.drugs+ TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,1
     ¦               ¦   ¦       ¦           ¦   ¦   ¦       ¦       ¦       ¦   °--did not complete TPT                                                                      ,1-soc.prop.completing.tpt,cost.tpt.incomplete,0,0,0,0,0,0,0,0,0,0,IncompDurTPT / durTPT * TPT.visits*ucost.prison.escort,IncompDurTPT*ucost.ltbi.drugs,IncompDurTPT / durTPT * TPT.visits*ucost.tpt.opd.visit,IncompDurTPT*ucost.dots,0,0,0,cost.tpt.incomplete,0,0,0,cost.tpt.incomplete,0,0,0,0,0,0,(IncompDurTPT/durTPT*TPT.visits*ucost.prison.escort + IncompDurTPT*ucost.dots),(IncompDurTPT*ucost.ltbi.drugs + IncompDurTPT/durTPT*TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1
     ¦               ¦   ¦       ¦           ¦   ¦   ¦       ¦       ¦       °--does not get TPT                                                                              ,1-soc.prop.starting.tpt,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦               ¦   ¦       ¦           ¦   ¦   ¦       ¦       °--Did not attend TPT referral                                                                           ,1-soc.prop.attend.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦               ¦   ¦       ¦           ¦   ¦   ¦       °--In prison/IRC for <3 months                                                                                   ,1-soc.prop.staying.3+months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦   ¦       ¦           ¦   ¦   ¦           ¦--Remaining in the UK (community or other prison/IRC)                                                       ,soc.prop.staying.<3months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦   ¦       ¦           ¦   ¦   ¦           ¦   °--Refer for treatment and forward details to receiving prison/community TB nurse                        ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦   ¦       ¦           ¦   ¦   ¦           ¦       ¦--Attended TPT referral                                                                             ,soc.prop.attend.nhs.referral,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.attending.nhs.tb.service,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,ucost.prison.escort ,ucost.nhs.tb.service,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦   ¦       ¦           ¦   ¦   ¦           ¦       ¦   °--TPT outcomes                                                                                  ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦   ¦       ¦           ¦   ¦   ¦           ¦       ¦       ¦--gets TPT                                                                                  ,soc.prop.starting.tpt,cost.tpt.initiation,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.tpt.initiation,0,cost.tpt.initiation,0,0,0,0,0,0,0,0,ucost.prison.escort,ucost.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0
     ¦               ¦   ¦       ¦           ¦   ¦   ¦           ¦       ¦       ¦   ¦--completed TPT                                                                         ,soc.prop.completing.tpt,cost.tpt.complete,0,0,0,0,0,0,0,0,0,0,TPT.visits*(ucost.prison.escort),durTPT*(ucost.ltbi.drugs),TPT.visits*(ucost.tpt.opd.visit),durTPT*(ucost.dots),0,0,0,cost.tpt.complete,0,0,cost.tpt.complete,0,0,0,0,0,0,0,(TPT.visits*ucost.prison.escort + durTPT*ucost.dots),(durTPT*ucost.ltbi.drugs+ TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,1
     ¦               ¦   ¦       ¦           ¦   ¦   ¦           ¦       ¦       ¦   °--did not complete TPT                                                                  ,1-soc.prop.completing.tpt,cost.tpt.incomplete,0,0,0,0,0,0,0,0,0,0,IncompDurTPT / durTPT * TPT.visits*ucost.prison.escort,IncompDurTPT*ucost.ltbi.drugs,IncompDurTPT / durTPT * TPT.visits*ucost.tpt.opd.visit,IncompDurTPT*ucost.dots,0,0,0,cost.tpt.incomplete,0,0,0,cost.tpt.incomplete,0,0,0,0,0,0,(IncompDurTPT/durTPT*TPT.visits*ucost.prison.escort + IncompDurTPT*ucost.dots),(IncompDurTPT*ucost.ltbi.drugs + IncompDurTPT/durTPT*TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1
     ¦               ¦   ¦       ¦           ¦   ¦   ¦           ¦       ¦       °--does not get TPT                                                                          ,1-soc.prop.starting.tpt,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦               ¦   ¦       ¦           ¦   ¦   ¦           ¦       °--Did not attend TPT referral                                                                       ,1-soc.prop.attend.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦               ¦   ¦       ¦           ¦   ¦   ¦           °--Early removal scheme or deportation                                                                       ,1-soc.prop.staying.<3months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦               ¦   ¦       ¦           ¦   ¦   °--No previous chest x-ray                                                                                               ,1-soc.prop.prev.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦   ¦       ¦           ¦   ¦       ¦--Chest x-ray                                                                                                       ,soc.prop.xray,cost.chest.xray,0,cost.chest.xray,0,ucost.chest.xray,0,0,ucost.prison.escort,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,ucost.chest.xray,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦   ¦       ¦           ¦   ¦       ¦   ¦--Abornomal chest x-ray                                                                                         ,soc.prop.abnormal.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦--Referred to NHS TB service                                                                                ,nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦--Attended TB referral                                                                                  ,soc.prop.attend.nhs.referral,cost.tb.evaluation,0,cost.tb.evaluation,0,0,0,cost.nhs.tb.service,0,ucost.prison.escort,cost.tb.investigations,0,0,0,0,0,0,0,cost.tb.evaluation,0,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort ,ucost.nhs.tb.service + ucost.tb.investigations,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦   ¦--TB                                                                                                ,soc.prop.abn.xray.tb.dx,cost.contact.management,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,cost.contact.management,smear.positive * (cost.prison.isolation),0,0,0,smear.positive * (nContacts * ucost.contact.tracing),cost.contact.management,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0
     ¦               ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦   ¦   °--TB outcomes                                                                                   ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦   ¦       ¦--ATT                                                                                       ,soc.prop.starting.att,cost.att.initiation,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,0,0,0,0,0,cost.att.initiation,0,cost.att.initiation,0,0,0,ucost.prison.escort,ucost.nhs.tb.service ,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0
     ¦               ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦   ¦       ¦   ¦--completed ATT                                                                         ,soc.prop.completing.att,cost.att.complete,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort * (pDSTB * dstb.visits + (1 - pDSTB) * mdrtb.visits) ,pDSTB * DurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * DurMDRTB * ucost.mdratt.drugs,pDSTB * dstb.visits*ucost.dstb.opd.visit + (1 - pDSTB) * mdrtb.visits * ucost.mdrtb.opd.visit,ucost.dots * (pDSTB * DurDSTB + (1 - pDSTB) * DurMDRTB),(pDSTB * smear.positive * DurDSTBIsolation * ucost.dstb.ipd +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * ucost.mdrtb.ipd + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * ucost.mdrtb.ipd),ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation),0,0,0,0,0,0,cost.att.complete,0,0,cost.att.complete,0,0,(ucost.prison.escort * (pDSTB * dstb.visits + (1 - pDSTB) * mdrtb.visits)  + ucost.dots * (pDSTB * DurDSTB + (1 - pDSTB) * DurMDRTB) + ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation)),(pDSTB * DurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * DurMDRTB * ucost.mdratt.drugs + pDSTB * dstb.visits*(ucost.dstb.opd.visit) + (1 - pDSTB) * mdrtb.visits * (ucost.mdrtb.opd.visit) + (pDSTB * smear.positive * DurDSTBIsolation * (ucost.dstb.ipd) +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * (ucost.mdrtb.ipd) + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * (ucost.mdrtb.ipd))),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,1
     ¦               ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦   ¦       ¦   °--did not complete ATT                                                                  ,1-soc.prop.completing.att,cost.att.incomplete ,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort * (IncompDurDSTB/DurDSTB*pDSTB * dstb.visits + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits),pDSTB  * IncompDurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * IncompDurMDRTB  * ucost.mdratt.drugs,IncompDurDSTB / DurDSTB * pDSTB * dstb.visits*ucost.dstb.opd.visit + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits * ucost.mdrtb.opd.visit,ucost.dots * (pDSTB * IncompDurDSTB + (1 - pDSTB) * IncompDurMDRTB),(pDSTB * smear.positive * DurDSTBIsolation * ucost.dstb.ipd +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * ucost.mdrtb.ipd + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * ucost.mdrtb.ipd),ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation),0,0,0,0,0,0,cost.att.incomplete ,0,0,0,cost.att.incomplete ,0,(ucost.prison.escort * (IncompDurDSTB/DurDSTB*pDSTB * dstb.visits + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits) + ucost.dots * (pDSTB * IncompDurDSTB + (1 - pDSTB) * IncompDurMDRTB) + ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  + (1 - pDSTB) * smear.positive * DurMDRTB2Isolation+ (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation)),(pDSTB  * IncompDurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * IncompDurMDRTB * ucost.mdratt.drugs) + (IncompDurDSTB / DurDSTB * pDSTB * dstb.visits*ucost.dstb.opd.visit + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits * ucost.mdrtb.opd.visit) + ((pDSTB * smear.positive * DurDSTBIsolation * (ucost.dstb.ipd) +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * (ucost.mdrtb.ipd) +(1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * (ucost.mdrtb.ipd))),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦               ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦   ¦       °--no ATT                                                                                    ,1-soc.prop.starting.att,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦               ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦   °--Not TB                                                                                            ,1-soc.prop.abn.xray.tb.dx,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦       ¦--In prison/IRC for >3 months                                                                   ,soc.prop.staying.3+months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0
     ¦               ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦       ¦   °--Refer for treatment                                                                       ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦       ¦       ¦--Attended TPT referral                                                                 ,soc.prop.attend.nhs.referral,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.attending.nhs.tb.service,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,ucost.prison.escort ,ucost.nhs.tb.service,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦       ¦       ¦   °--TPT outcomes                                                                      ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦       ¦       ¦       ¦--gets TPT                                                                      ,soc.prop.starting.tpt,cost.tpt.initiation,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.tpt.initiation,0,cost.tpt.initiation,0,0,0,0,0,0,0,0,ucost.prison.escort,ucost.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0
     ¦               ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦       ¦       ¦       ¦   ¦--completed TPT                                                             ,soc.prop.completing.tpt,cost.tpt.complete,0,0,0,0,0,0,0,0,0,0,TPT.visits*(ucost.prison.escort),durTPT*(ucost.ltbi.drugs),TPT.visits*(ucost.tpt.opd.visit),durTPT*(ucost.dots),0,0,0,cost.tpt.complete,0,0,cost.tpt.complete,0,0,0,0,0,0,0,(TPT.visits*ucost.prison.escort + durTPT*ucost.dots),(durTPT*ucost.ltbi.drugs+ TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,1
     ¦               ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦       ¦       ¦       ¦   °--did not complete TPT                                                      ,1-soc.prop.completing.tpt,cost.tpt.incomplete,0,0,0,0,0,0,0,0,0,0,IncompDurTPT / durTPT * TPT.visits*ucost.prison.escort,IncompDurTPT*ucost.ltbi.drugs,IncompDurTPT / durTPT * TPT.visits*ucost.tpt.opd.visit,IncompDurTPT*ucost.dots,0,0,0,cost.tpt.incomplete,0,0,0,cost.tpt.incomplete,0,0,0,0,0,0,(IncompDurTPT/durTPT*TPT.visits*ucost.prison.escort + IncompDurTPT*ucost.dots),(IncompDurTPT*ucost.ltbi.drugs + IncompDurTPT/durTPT*TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1
     ¦               ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦       ¦       ¦       °--does not get TPT                                                              ,1-soc.prop.starting.tpt,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦               ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦       ¦       °--Did not attend TPT referral                                                           ,1-soc.prop.attend.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦               ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦       °--In prison/IRC for <3 months                                                                   ,1-soc.prop.staying.3+months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦           ¦--Remaining in the UK (community or other prison/IRC)                                       ,soc.prop.staying.<3months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦           ¦   °--Refer for treatment and forward details to receiving prison/community TB nurse        ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦           ¦       ¦--Attended TPT referral                                                             ,soc.prop.attend.nhs.referral,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.attending.nhs.tb.service,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,ucost.prison.escort ,ucost.nhs.tb.service,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦           ¦       ¦   °--TPT outcomes                                                                  ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦           ¦       ¦       ¦--gets TPT                                                                  ,soc.prop.starting.tpt,cost.tpt.initiation,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.tpt.initiation,0,cost.tpt.initiation,0,0,0,0,0,0,0,0,ucost.prison.escort,ucost.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0
     ¦               ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦           ¦       ¦       ¦   ¦--completed TPT                                                         ,soc.prop.completing.tpt,cost.tpt.complete,0,0,0,0,0,0,0,0,0,0,TPT.visits*(ucost.prison.escort),durTPT*(ucost.ltbi.drugs),TPT.visits*(ucost.tpt.opd.visit),durTPT*(ucost.dots),0,0,0,cost.tpt.complete,0,0,cost.tpt.complete,0,0,0,0,0,0,0,(TPT.visits*ucost.prison.escort + durTPT*ucost.dots),(durTPT*ucost.ltbi.drugs+ TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,1
     ¦               ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦           ¦       ¦       ¦   °--did not complete TPT                                                  ,1-soc.prop.completing.tpt,cost.tpt.incomplete,0,0,0,0,0,0,0,0,0,0,IncompDurTPT / durTPT * TPT.visits*ucost.prison.escort,IncompDurTPT*ucost.ltbi.drugs,IncompDurTPT / durTPT * TPT.visits*ucost.tpt.opd.visit,IncompDurTPT*ucost.dots,0,0,0,cost.tpt.incomplete,0,0,0,cost.tpt.incomplete,0,0,0,0,0,0,(IncompDurTPT/durTPT*TPT.visits*ucost.prison.escort + IncompDurTPT*ucost.dots),(IncompDurTPT*ucost.ltbi.drugs + IncompDurTPT/durTPT*TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1
     ¦               ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦           ¦       ¦       °--does not get TPT                                                          ,1-soc.prop.starting.tpt,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦               ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦           ¦       °--Did not attend TPT referral                                                       ,1-soc.prop.attend.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦               ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   ¦           °--Early removal scheme or deportation                                                       ,1-soc.prop.staying.<3months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦               ¦   ¦       ¦           ¦   ¦       ¦   ¦   ¦   °--Did not attend TB referral                                                                            ,1-soc.prop.attend.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦               ¦   ¦       ¦           ¦   ¦       ¦   ¦   °--Not referred to NHS TB service                                                                            ,1-nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦               ¦   ¦       ¦           ¦   ¦       ¦   °--Normal chest x-ray                                                                                            ,1-soc.prop.abnormal.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦   ¦       ¦           ¦   ¦       ¦       ¦--In prison/IRC for >3 months                                                                               ,soc.prop.staying.3+months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0
     ¦               ¦   ¦       ¦           ¦   ¦       ¦       ¦   °--Refer for treatment                                                                                   ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦   ¦       ¦           ¦   ¦       ¦       ¦       ¦--Attended TPT referral                                                                             ,soc.prop.attend.nhs.referral,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.attending.nhs.tb.service,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,ucost.prison.escort ,ucost.nhs.tb.service,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦   ¦       ¦           ¦   ¦       ¦       ¦       ¦   °--TPT outcomes                                                                                  ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦   ¦       ¦           ¦   ¦       ¦       ¦       ¦       ¦--gets TPT                                                                                  ,soc.prop.starting.tpt,cost.tpt.initiation,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.tpt.initiation,0,cost.tpt.initiation,0,0,0,0,0,0,0,0,ucost.prison.escort,ucost.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0
     ¦               ¦   ¦       ¦           ¦   ¦       ¦       ¦       ¦       ¦   ¦--completed TPT                                                                         ,soc.prop.completing.tpt,cost.tpt.complete,0,0,0,0,0,0,0,0,0,0,TPT.visits*(ucost.prison.escort),durTPT*(ucost.ltbi.drugs),TPT.visits*(ucost.tpt.opd.visit),durTPT*(ucost.dots),0,0,0,cost.tpt.complete,0,0,cost.tpt.complete,0,0,0,0,0,0,0,(TPT.visits*ucost.prison.escort + durTPT*ucost.dots),(durTPT*ucost.ltbi.drugs+ TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,1
     ¦               ¦   ¦       ¦           ¦   ¦       ¦       ¦       ¦       ¦   °--did not complete TPT                                                                  ,1-soc.prop.completing.tpt,cost.tpt.incomplete,0,0,0,0,0,0,0,0,0,0,IncompDurTPT / durTPT * TPT.visits*ucost.prison.escort,IncompDurTPT*ucost.ltbi.drugs,IncompDurTPT / durTPT * TPT.visits*ucost.tpt.opd.visit,IncompDurTPT*ucost.dots,0,0,0,cost.tpt.incomplete,0,0,0,cost.tpt.incomplete,0,0,0,0,0,0,(IncompDurTPT/durTPT*TPT.visits*ucost.prison.escort + IncompDurTPT*ucost.dots),(IncompDurTPT*ucost.ltbi.drugs + IncompDurTPT/durTPT*TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1
     ¦               ¦   ¦       ¦           ¦   ¦       ¦       ¦       ¦       °--does not get TPT                                                                          ,1-soc.prop.starting.tpt,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦               ¦   ¦       ¦           ¦   ¦       ¦       ¦       °--Did not attend TPT referral                                                                       ,1-soc.prop.attend.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦               ¦   ¦       ¦           ¦   ¦       ¦       °--In prison/IRC for <3 months                                                                               ,1-soc.prop.staying.3+months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦   ¦       ¦           ¦   ¦       ¦           ¦--Remaining in the UK (community or other prison/IRC)                                                   ,soc.prop.staying.<3months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦   ¦       ¦           ¦   ¦       ¦           ¦   °--Refer for treatment and forward details to receiving prison/community TB nurse                    ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦   ¦       ¦           ¦   ¦       ¦           ¦       ¦--Attended TPT referral                                                                         ,soc.prop.attend.nhs.referral,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.attending.nhs.tb.service,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,ucost.prison.escort ,ucost.nhs.tb.service,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦   ¦       ¦           ¦   ¦       ¦           ¦       ¦   °--TPT outcomes                                                                              ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦   ¦       ¦           ¦   ¦       ¦           ¦       ¦       ¦--gets TPT                                                                              ,soc.prop.starting.tpt,cost.tpt.initiation,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.tpt.initiation,0,cost.tpt.initiation,0,0,0,0,0,0,0,0,ucost.prison.escort,ucost.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0
     ¦               ¦   ¦       ¦           ¦   ¦       ¦           ¦       ¦       ¦   ¦--completed TPT                                                                     ,soc.prop.completing.tpt,cost.tpt.complete,0,0,0,0,0,0,0,0,0,0,TPT.visits*(ucost.prison.escort),durTPT*(ucost.ltbi.drugs),TPT.visits*(ucost.tpt.opd.visit),durTPT*(ucost.dots),0,0,0,cost.tpt.complete,0,0,cost.tpt.complete,0,0,0,0,0,0,0,(TPT.visits*ucost.prison.escort + durTPT*ucost.dots),(durTPT*ucost.ltbi.drugs+ TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,1
     ¦               ¦   ¦       ¦           ¦   ¦       ¦           ¦       ¦       ¦   °--did not complete TPT                                                              ,1-soc.prop.completing.tpt,cost.tpt.incomplete,0,0,0,0,0,0,0,0,0,0,IncompDurTPT / durTPT * TPT.visits*ucost.prison.escort,IncompDurTPT*ucost.ltbi.drugs,IncompDurTPT / durTPT * TPT.visits*ucost.tpt.opd.visit,IncompDurTPT*ucost.dots,0,0,0,cost.tpt.incomplete,0,0,0,cost.tpt.incomplete,0,0,0,0,0,0,(IncompDurTPT/durTPT*TPT.visits*ucost.prison.escort + IncompDurTPT*ucost.dots),(IncompDurTPT*ucost.ltbi.drugs + IncompDurTPT/durTPT*TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1
     ¦               ¦   ¦       ¦           ¦   ¦       ¦           ¦       ¦       °--does not get TPT                                                                      ,1-soc.prop.starting.tpt,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦               ¦   ¦       ¦           ¦   ¦       ¦           ¦       °--Did not attend TPT referral                                                                   ,1-soc.prop.attend.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦               ¦   ¦       ¦           ¦   ¦       ¦           °--Early removal scheme or deportation                                                                   ,1-soc.prop.staying.<3months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦               ¦   ¦       ¦           ¦   ¦       °--No chest x-ray                                                                                                    ,1-soc.prop.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦   ¦       ¦           ¦   ¦           ¦--Referred to NHS TB service                                                                                    ,nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦   ¦       ¦           ¦   ¦           ¦   ¦--Attended TB referral                                                                                      ,soc.prop.attend.nhs.referral,cost.tb.evaluation,0,cost.tb.evaluation,0,0,0,cost.nhs.tb.service,0,ucost.prison.escort,cost.tb.investigations,0,0,0,0,0,0,0,cost.tb.evaluation,0,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort ,ucost.nhs.tb.service + ucost.tb.investigations,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦   ¦       ¦           ¦   ¦           ¦   ¦   ¦--TB                                                                                                    ,soc.prop.no.xray.tb.dx,cost.contact.management,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,cost.contact.management,smear.positive * (cost.prison.isolation),0,0,0,smear.positive * (nContacts * ucost.contact.tracing),cost.contact.management,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0
     ¦               ¦   ¦       ¦           ¦   ¦           ¦   ¦   ¦   °--TB outcomes                                                                                       ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦   ¦       ¦           ¦   ¦           ¦   ¦   ¦       ¦--ATT                                                                                           ,soc.prop.starting.att,cost.att.initiation,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,0,0,0,0,0,cost.att.initiation,0,cost.att.initiation,0,0,0,ucost.prison.escort,ucost.nhs.tb.service ,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0
     ¦               ¦   ¦       ¦           ¦   ¦           ¦   ¦   ¦       ¦   ¦--completed ATT                                                                             ,soc.prop.completing.att,cost.att.complete,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort * (pDSTB * dstb.visits + (1 - pDSTB) * mdrtb.visits) ,pDSTB * DurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * DurMDRTB * ucost.mdratt.drugs,pDSTB * dstb.visits*ucost.dstb.opd.visit + (1 - pDSTB) * mdrtb.visits * ucost.mdrtb.opd.visit,ucost.dots * (pDSTB * DurDSTB + (1 - pDSTB) * DurMDRTB),(pDSTB * smear.positive * DurDSTBIsolation * ucost.dstb.ipd +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * ucost.mdrtb.ipd + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * ucost.mdrtb.ipd),ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation),0,0,0,0,0,0,cost.att.complete,0,0,cost.att.complete,0,0,(ucost.prison.escort * (pDSTB * dstb.visits + (1 - pDSTB) * mdrtb.visits)  + ucost.dots * (pDSTB * DurDSTB + (1 - pDSTB) * DurMDRTB) + ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation)),(pDSTB * DurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * DurMDRTB * ucost.mdratt.drugs + pDSTB * dstb.visits*(ucost.dstb.opd.visit) + (1 - pDSTB) * mdrtb.visits * (ucost.mdrtb.opd.visit) + (pDSTB * smear.positive * DurDSTBIsolation * (ucost.dstb.ipd) +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * (ucost.mdrtb.ipd) + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * (ucost.mdrtb.ipd))),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,1
     ¦               ¦   ¦       ¦           ¦   ¦           ¦   ¦   ¦       ¦   °--did not complete ATT                                                                      ,1-soc.prop.completing.att,cost.att.incomplete ,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort * (IncompDurDSTB/DurDSTB*pDSTB * dstb.visits + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits),pDSTB  * IncompDurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * IncompDurMDRTB  * ucost.mdratt.drugs,IncompDurDSTB / DurDSTB * pDSTB * dstb.visits*ucost.dstb.opd.visit + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits * ucost.mdrtb.opd.visit,ucost.dots * (pDSTB * IncompDurDSTB + (1 - pDSTB) * IncompDurMDRTB),(pDSTB * smear.positive * DurDSTBIsolation * ucost.dstb.ipd +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * ucost.mdrtb.ipd + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * ucost.mdrtb.ipd),ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation),0,0,0,0,0,0,cost.att.incomplete ,0,0,0,cost.att.incomplete ,0,(ucost.prison.escort * (IncompDurDSTB/DurDSTB*pDSTB * dstb.visits + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits) + ucost.dots * (pDSTB * IncompDurDSTB + (1 - pDSTB) * IncompDurMDRTB) + ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  + (1 - pDSTB) * smear.positive * DurMDRTB2Isolation+ (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation)),(pDSTB  * IncompDurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * IncompDurMDRTB * ucost.mdratt.drugs) + (IncompDurDSTB / DurDSTB * pDSTB * dstb.visits*ucost.dstb.opd.visit + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits * ucost.mdrtb.opd.visit) + ((pDSTB * smear.positive * DurDSTBIsolation * (ucost.dstb.ipd) +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * (ucost.mdrtb.ipd) +(1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * (ucost.mdrtb.ipd))),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦               ¦   ¦       ¦           ¦   ¦           ¦   ¦   ¦       °--no ATT                                                                                        ,1-soc.prop.starting.att,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦               ¦   ¦       ¦           ¦   ¦           ¦   ¦   °--Not TB                                                                                                ,1-soc.prop.no.xray.tb.dx,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦   ¦       ¦           ¦   ¦           ¦   ¦       ¦--In prison/IRC for >3 months                                                                       ,soc.prop.staying.3+months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0
     ¦               ¦   ¦       ¦           ¦   ¦           ¦   ¦       ¦   °--Refer for treatment                                                                           ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦   ¦       ¦           ¦   ¦           ¦   ¦       ¦       ¦--Attended TPT referral                                                                     ,soc.prop.attend.nhs.referral,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.attending.nhs.tb.service,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,ucost.prison.escort ,ucost.nhs.tb.service,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦   ¦       ¦           ¦   ¦           ¦   ¦       ¦       ¦   °--TPT outcomes                                                                          ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦   ¦       ¦           ¦   ¦           ¦   ¦       ¦       ¦       ¦--gets TPT                                                                          ,soc.prop.starting.tpt,cost.tpt.initiation,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.tpt.initiation,0,cost.tpt.initiation,0,0,0,0,0,0,0,0,ucost.prison.escort,ucost.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0
     ¦               ¦   ¦       ¦           ¦   ¦           ¦   ¦       ¦       ¦       ¦   ¦--completed TPT                                                                 ,soc.prop.completing.tpt,cost.tpt.complete,0,0,0,0,0,0,0,0,0,0,TPT.visits*(ucost.prison.escort),durTPT*(ucost.ltbi.drugs),TPT.visits*(ucost.tpt.opd.visit),durTPT*(ucost.dots),0,0,0,cost.tpt.complete,0,0,cost.tpt.complete,0,0,0,0,0,0,0,(TPT.visits*ucost.prison.escort + durTPT*ucost.dots),(durTPT*ucost.ltbi.drugs+ TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,1
     ¦               ¦   ¦       ¦           ¦   ¦           ¦   ¦       ¦       ¦       ¦   °--did not complete TPT                                                          ,1-soc.prop.completing.tpt,cost.tpt.incomplete,0,0,0,0,0,0,0,0,0,0,IncompDurTPT / durTPT * TPT.visits*ucost.prison.escort,IncompDurTPT*ucost.ltbi.drugs,IncompDurTPT / durTPT * TPT.visits*ucost.tpt.opd.visit,IncompDurTPT*ucost.dots,0,0,0,cost.tpt.incomplete,0,0,0,cost.tpt.incomplete,0,0,0,0,0,0,(IncompDurTPT/durTPT*TPT.visits*ucost.prison.escort + IncompDurTPT*ucost.dots),(IncompDurTPT*ucost.ltbi.drugs + IncompDurTPT/durTPT*TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1
     ¦               ¦   ¦       ¦           ¦   ¦           ¦   ¦       ¦       ¦       °--does not get TPT                                                                  ,1-soc.prop.starting.tpt,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦               ¦   ¦       ¦           ¦   ¦           ¦   ¦       ¦       °--Did not attend TPT referral                                                               ,1-soc.prop.attend.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦               ¦   ¦       ¦           ¦   ¦           ¦   ¦       °--In prison/IRC for <3 months                                                                       ,1-soc.prop.staying.3+months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦   ¦       ¦           ¦   ¦           ¦   ¦           ¦--Remaining in the UK (community or other prison/IRC)                                           ,soc.prop.staying.<3months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦   ¦       ¦           ¦   ¦           ¦   ¦           ¦   °--Refer for treatment and forward details to receiving prison/community TB nurse            ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦   ¦       ¦           ¦   ¦           ¦   ¦           ¦       ¦--Attended TPT referral                                                                 ,soc.prop.attend.nhs.referral,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.attending.nhs.tb.service,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,ucost.prison.escort ,ucost.nhs.tb.service,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦   ¦       ¦           ¦   ¦           ¦   ¦           ¦       ¦   °--TPT outcomes                                                                      ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦   ¦       ¦           ¦   ¦           ¦   ¦           ¦       ¦       ¦--gets TPT                                                                      ,soc.prop.starting.tpt,cost.tpt.initiation,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.tpt.initiation,0,cost.tpt.initiation,0,0,0,0,0,0,0,0,ucost.prison.escort,ucost.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0
     ¦               ¦   ¦       ¦           ¦   ¦           ¦   ¦           ¦       ¦       ¦   ¦--completed TPT                                                             ,soc.prop.completing.tpt,cost.tpt.complete,0,0,0,0,0,0,0,0,0,0,TPT.visits*(ucost.prison.escort),durTPT*(ucost.ltbi.drugs),TPT.visits*(ucost.tpt.opd.visit),durTPT*(ucost.dots),0,0,0,cost.tpt.complete,0,0,cost.tpt.complete,0,0,0,0,0,0,0,(TPT.visits*ucost.prison.escort + durTPT*ucost.dots),(durTPT*ucost.ltbi.drugs+ TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,1
     ¦               ¦   ¦       ¦           ¦   ¦           ¦   ¦           ¦       ¦       ¦   °--did not complete TPT                                                      ,1-soc.prop.completing.tpt,cost.tpt.incomplete,0,0,0,0,0,0,0,0,0,0,IncompDurTPT / durTPT * TPT.visits*ucost.prison.escort,IncompDurTPT*ucost.ltbi.drugs,IncompDurTPT / durTPT * TPT.visits*ucost.tpt.opd.visit,IncompDurTPT*ucost.dots,0,0,0,cost.tpt.incomplete,0,0,0,cost.tpt.incomplete,0,0,0,0,0,0,(IncompDurTPT/durTPT*TPT.visits*ucost.prison.escort + IncompDurTPT*ucost.dots),(IncompDurTPT*ucost.ltbi.drugs + IncompDurTPT/durTPT*TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1
     ¦               ¦   ¦       ¦           ¦   ¦           ¦   ¦           ¦       ¦       °--does not get TPT                                                              ,1-soc.prop.starting.tpt,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦               ¦   ¦       ¦           ¦   ¦           ¦   ¦           ¦       °--Did not attend TPT referral                                                           ,1-soc.prop.attend.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦               ¦   ¦       ¦           ¦   ¦           ¦   ¦           °--Early removal scheme or deportation                                                           ,1-soc.prop.staying.<3months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦               ¦   ¦       ¦           ¦   ¦           ¦   °--Did not attend TB referral                                                                                ,1-soc.prop.attend.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦               ¦   ¦       ¦           ¦   ¦           °--Not referred to NHS TB service                                                                                ,1-nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦               ¦   ¦       ¦           ¦   °--IGRA test -                                                                                                               ,1-soc.prop.igra.test.positive,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦               ¦   ¦       ¦           °--no IGRA test                                                                                                                  ,1-soc.prop.igra.tested,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦               ¦   ¦       °--Did not attend TB referral                                                                                                                ,1-soc.prop.attend.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦               ¦   °--Normal chest x-ray                                                                                                                                ,1-soc.prop.abnormal.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦       °--LTBI pathway                                                                                                                                  ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦           ¦--IGRA test                                                                                                                                 ,soc.prop.igra.tested,cost.igra.test,0,0,0,0,0,0,0,0,0,cost.igra.test,0,0,0,0,0,0,0,cost.igra.test,0,0,0,0,0,0,0,0,0,0,0,ucost.igra.test,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦           ¦   ¦--IGRA test +                                                                                                                           ,soc.prop.igra.test.positive,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0
     ¦               ¦           ¦   ¦   ¦--Previous chest x-ray                                                                                                              ,soc.prop.prev.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦           ¦   ¦   ¦   ¦--Abornomal chest x-ray                                                                                                         ,soc.prop.abnormal.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦           ¦   ¦   ¦   ¦   ¦--Referred to NHS TB service                                                                                                ,nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦           ¦   ¦   ¦   ¦   ¦   ¦--Attended TB referral                                                                                                  ,soc.prop.attend.nhs.referral,cost.tb.evaluation,0,cost.tb.evaluation,0,0,0,cost.nhs.tb.service,0,ucost.prison.escort,cost.tb.investigations,0,0,0,0,0,0,0,cost.tb.evaluation,0,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort ,ucost.nhs.tb.service + ucost.tb.investigations,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦           ¦   ¦   ¦   ¦   ¦   ¦   ¦--TB                                                                                                                ,soc.prop.abn.xray.tb.dx,cost.contact.management,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,cost.contact.management,smear.positive * (cost.prison.isolation),0,0,0,smear.positive * (nContacts * ucost.contact.tracing),cost.contact.management,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0
     ¦               ¦           ¦   ¦   ¦   ¦   ¦   ¦   ¦   °--TB outcomes                                                                                                   ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦           ¦   ¦   ¦   ¦   ¦   ¦   ¦       ¦--ATT                                                                                                       ,soc.prop.starting.att,cost.att.initiation,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,0,0,0,0,0,cost.att.initiation,0,cost.att.initiation,0,0,0,ucost.prison.escort,ucost.nhs.tb.service ,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0
     ¦               ¦           ¦   ¦   ¦   ¦   ¦   ¦   ¦       ¦   ¦--completed ATT                                                                                         ,soc.prop.completing.att,cost.att.complete,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort * (pDSTB * dstb.visits + (1 - pDSTB) * mdrtb.visits) ,pDSTB * DurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * DurMDRTB * ucost.mdratt.drugs,pDSTB * dstb.visits*ucost.dstb.opd.visit + (1 - pDSTB) * mdrtb.visits * ucost.mdrtb.opd.visit,ucost.dots * (pDSTB * DurDSTB + (1 - pDSTB) * DurMDRTB),(pDSTB * smear.positive * DurDSTBIsolation * ucost.dstb.ipd +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * ucost.mdrtb.ipd + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * ucost.mdrtb.ipd),ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation),0,0,0,0,0,0,cost.att.complete,0,0,cost.att.complete,0,0,(ucost.prison.escort * (pDSTB * dstb.visits + (1 - pDSTB) * mdrtb.visits)  + ucost.dots * (pDSTB * DurDSTB + (1 - pDSTB) * DurMDRTB) + ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation)),(pDSTB * DurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * DurMDRTB * ucost.mdratt.drugs + pDSTB * dstb.visits*(ucost.dstb.opd.visit) + (1 - pDSTB) * mdrtb.visits * (ucost.mdrtb.opd.visit) + (pDSTB * smear.positive * DurDSTBIsolation * (ucost.dstb.ipd) +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * (ucost.mdrtb.ipd) + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * (ucost.mdrtb.ipd))),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,1
     ¦               ¦           ¦   ¦   ¦   ¦   ¦   ¦   ¦       ¦   °--did not complete ATT                                                                                  ,1-soc.prop.completing.att,cost.att.incomplete ,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort * (IncompDurDSTB/DurDSTB*pDSTB * dstb.visits + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits),pDSTB  * IncompDurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * IncompDurMDRTB  * ucost.mdratt.drugs,IncompDurDSTB / DurDSTB * pDSTB * dstb.visits*ucost.dstb.opd.visit + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits * ucost.mdrtb.opd.visit,ucost.dots * (pDSTB * IncompDurDSTB + (1 - pDSTB) * IncompDurMDRTB),(pDSTB * smear.positive * DurDSTBIsolation * ucost.dstb.ipd +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * ucost.mdrtb.ipd + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * ucost.mdrtb.ipd),ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation),0,0,0,0,0,0,cost.att.incomplete ,0,0,0,cost.att.incomplete ,0,(ucost.prison.escort * (IncompDurDSTB/DurDSTB*pDSTB * dstb.visits + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits) + ucost.dots * (pDSTB * IncompDurDSTB + (1 - pDSTB) * IncompDurMDRTB) + ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  + (1 - pDSTB) * smear.positive * DurMDRTB2Isolation+ (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation)),(pDSTB  * IncompDurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * IncompDurMDRTB * ucost.mdratt.drugs) + (IncompDurDSTB / DurDSTB * pDSTB * dstb.visits*ucost.dstb.opd.visit + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits * ucost.mdrtb.opd.visit) + ((pDSTB * smear.positive * DurDSTBIsolation * (ucost.dstb.ipd) +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * (ucost.mdrtb.ipd) +(1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * (ucost.mdrtb.ipd))),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦               ¦           ¦   ¦   ¦   ¦   ¦   ¦   ¦       °--no ATT                                                                                                    ,1-soc.prop.starting.att,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦               ¦           ¦   ¦   ¦   ¦   ¦   ¦   °--Not TB                                                                                                            ,1-soc.prop.abn.xray.tb.dx,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦           ¦   ¦   ¦   ¦   ¦   ¦       ¦--In prison/IRC for >3 months                                                                                   ,soc.prop.staying.3+months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0
     ¦               ¦           ¦   ¦   ¦   ¦   ¦   ¦       ¦   °--Refer for treatment                                                                                       ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦           ¦   ¦   ¦   ¦   ¦   ¦       ¦       ¦--Attended TPT referral                                                                                 ,soc.prop.attend.nhs.referral,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.attending.nhs.tb.service,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,ucost.prison.escort ,ucost.nhs.tb.service,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦           ¦   ¦   ¦   ¦   ¦   ¦       ¦       ¦   °--TPT outcomes                                                                                      ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦           ¦   ¦   ¦   ¦   ¦   ¦       ¦       ¦       ¦--gets TPT                                                                                      ,soc.prop.starting.tpt,cost.tpt.initiation,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.tpt.initiation,0,cost.tpt.initiation,0,0,0,0,0,0,0,0,ucost.prison.escort,ucost.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0
     ¦               ¦           ¦   ¦   ¦   ¦   ¦   ¦       ¦       ¦       ¦   ¦--completed TPT                                                                             ,soc.prop.completing.tpt,cost.tpt.complete,0,0,0,0,0,0,0,0,0,0,TPT.visits*(ucost.prison.escort),durTPT*(ucost.ltbi.drugs),TPT.visits*(ucost.tpt.opd.visit),durTPT*(ucost.dots),0,0,0,cost.tpt.complete,0,0,cost.tpt.complete,0,0,0,0,0,0,0,(TPT.visits*ucost.prison.escort + durTPT*ucost.dots),(durTPT*ucost.ltbi.drugs+ TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,1
     ¦               ¦           ¦   ¦   ¦   ¦   ¦   ¦       ¦       ¦       ¦   °--did not complete TPT                                                                      ,1-soc.prop.completing.tpt,cost.tpt.incomplete,0,0,0,0,0,0,0,0,0,0,IncompDurTPT / durTPT * TPT.visits*ucost.prison.escort,IncompDurTPT*ucost.ltbi.drugs,IncompDurTPT / durTPT * TPT.visits*ucost.tpt.opd.visit,IncompDurTPT*ucost.dots,0,0,0,cost.tpt.incomplete,0,0,0,cost.tpt.incomplete,0,0,0,0,0,0,(IncompDurTPT/durTPT*TPT.visits*ucost.prison.escort + IncompDurTPT*ucost.dots),(IncompDurTPT*ucost.ltbi.drugs + IncompDurTPT/durTPT*TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1
     ¦               ¦           ¦   ¦   ¦   ¦   ¦   ¦       ¦       ¦       °--does not get TPT                                                                              ,1-soc.prop.starting.tpt,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦               ¦           ¦   ¦   ¦   ¦   ¦   ¦       ¦       °--Did not attend TB referral TPT referral                                                               ,1-soc.prop.attend.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦               ¦           ¦   ¦   ¦   ¦   ¦   ¦       °--In prison/IRC for <3 months                                                                                   ,1-soc.prop.staying.3+months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦           ¦   ¦   ¦   ¦   ¦   ¦           ¦--Remaining in the UK (community or other prison/IRC)                                                       ,soc.prop.staying.<3months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦           ¦   ¦   ¦   ¦   ¦   ¦           ¦   °--Refer for treatment and forward details to receiving prison/community TB nurse                        ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦           ¦   ¦   ¦   ¦   ¦   ¦           ¦       ¦--Attended TPT referral                                                                             ,soc.prop.attend.nhs.referral,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.attending.nhs.tb.service,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,ucost.prison.escort ,ucost.nhs.tb.service,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦           ¦   ¦   ¦   ¦   ¦   ¦           ¦       ¦   °--TPT outcomes                                                                                  ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦           ¦   ¦   ¦   ¦   ¦   ¦           ¦       ¦       ¦--gets TPT                                                                                  ,soc.prop.starting.tpt,cost.tpt.initiation,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.tpt.initiation,0,cost.tpt.initiation,0,0,0,0,0,0,0,0,ucost.prison.escort,ucost.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0
     ¦               ¦           ¦   ¦   ¦   ¦   ¦   ¦           ¦       ¦       ¦   ¦--completed TPT                                                                         ,soc.prop.completing.tpt,cost.tpt.complete,0,0,0,0,0,0,0,0,0,0,TPT.visits*(ucost.prison.escort),durTPT*(ucost.ltbi.drugs),TPT.visits*(ucost.tpt.opd.visit),durTPT*(ucost.dots),0,0,0,cost.tpt.complete,0,0,cost.tpt.complete,0,0,0,0,0,0,0,(TPT.visits*ucost.prison.escort + durTPT*ucost.dots),(durTPT*ucost.ltbi.drugs+ TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,1
     ¦               ¦           ¦   ¦   ¦   ¦   ¦   ¦           ¦       ¦       ¦   °--did not complete TPT                                                                  ,1-soc.prop.completing.tpt,cost.tpt.incomplete,0,0,0,0,0,0,0,0,0,0,IncompDurTPT / durTPT * TPT.visits*ucost.prison.escort,IncompDurTPT*ucost.ltbi.drugs,IncompDurTPT / durTPT * TPT.visits*ucost.tpt.opd.visit,IncompDurTPT*ucost.dots,0,0,0,cost.tpt.incomplete,0,0,0,cost.tpt.incomplete,0,0,0,0,0,0,(IncompDurTPT/durTPT*TPT.visits*ucost.prison.escort + IncompDurTPT*ucost.dots),(IncompDurTPT*ucost.ltbi.drugs + IncompDurTPT/durTPT*TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1
     ¦               ¦           ¦   ¦   ¦   ¦   ¦   ¦           ¦       ¦       °--does not get TPT                                                                          ,1-soc.prop.starting.tpt,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦               ¦           ¦   ¦   ¦   ¦   ¦   ¦           ¦       °--Did not attend TPT referral                                                                       ,1-soc.prop.attend.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦               ¦           ¦   ¦   ¦   ¦   ¦   ¦           °--Early removal scheme or deportation                                                                       ,1-soc.prop.staying.<3months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦               ¦           ¦   ¦   ¦   ¦   ¦   °--Did not attend TB referral                                                                                            ,1-soc.prop.attend.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦               ¦           ¦   ¦   ¦   ¦   °--Not referred to NHS TB service                                                                                            ,1-nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦               ¦           ¦   ¦   ¦   °--Normal chest x-ray                                                                                                            ,1-soc.prop.abnormal.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦           ¦   ¦   ¦       ¦--In prison/IRC for >3 months                                                                                               ,soc.prop.staying.3+months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0
     ¦               ¦           ¦   ¦   ¦       ¦   °--Refer for treatment                                                                                                   ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦           ¦   ¦   ¦       ¦       ¦--Attended TPT referral                                                                                             ,soc.prop.attend.nhs.referral,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.attending.nhs.tb.service,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,ucost.prison.escort ,ucost.nhs.tb.service,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦           ¦   ¦   ¦       ¦       ¦   °--TPT outcomes                                                                                                  ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦           ¦   ¦   ¦       ¦       ¦       ¦--gets TPT                                                                                                  ,soc.prop.starting.tpt,cost.tpt.initiation,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.tpt.initiation,0,cost.tpt.initiation,0,0,0,0,0,0,0,0,ucost.prison.escort,ucost.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0
     ¦               ¦           ¦   ¦   ¦       ¦       ¦       ¦   ¦--completed TPT                                                                                         ,soc.prop.completing.tpt,cost.tpt.complete,0,0,0,0,0,0,0,0,0,0,TPT.visits*(ucost.prison.escort),durTPT*(ucost.ltbi.drugs),TPT.visits*(ucost.tpt.opd.visit),durTPT*(ucost.dots),0,0,0,cost.tpt.complete,0,0,cost.tpt.complete,0,0,0,0,0,0,0,(TPT.visits*ucost.prison.escort + durTPT*ucost.dots),(durTPT*ucost.ltbi.drugs+ TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,1
     ¦               ¦           ¦   ¦   ¦       ¦       ¦       ¦   °--did not complete TPT                                                                                  ,1-soc.prop.completing.tpt,cost.tpt.incomplete,0,0,0,0,0,0,0,0,0,0,IncompDurTPT / durTPT * TPT.visits*ucost.prison.escort,IncompDurTPT*ucost.ltbi.drugs,IncompDurTPT / durTPT * TPT.visits*ucost.tpt.opd.visit,IncompDurTPT*ucost.dots,0,0,0,cost.tpt.incomplete,0,0,0,cost.tpt.incomplete,0,0,0,0,0,0,(IncompDurTPT/durTPT*TPT.visits*ucost.prison.escort + IncompDurTPT*ucost.dots),(IncompDurTPT*ucost.ltbi.drugs + IncompDurTPT/durTPT*TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1
     ¦               ¦           ¦   ¦   ¦       ¦       ¦       °--does not get TPT                                                                                          ,1-soc.prop.starting.tpt,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦               ¦           ¦   ¦   ¦       ¦       °--Did not attend TPT referral                                                                                       ,1-soc.prop.attend.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦               ¦           ¦   ¦   ¦       °--In prison/IRC for <3 months                                                                                               ,1-soc.prop.staying.3+months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦           ¦   ¦   ¦           ¦--Remaining in the UK (community or other prison/IRC)                                                                   ,soc.prop.staying.<3months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦           ¦   ¦   ¦           ¦   °--Refer for treatment and forward details to receiving prison/community TB nurse                                    ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦           ¦   ¦   ¦           ¦       ¦--Attended TPT referral                                                                                         ,soc.prop.attend.nhs.referral,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.attending.nhs.tb.service,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,ucost.prison.escort ,ucost.nhs.tb.service,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦           ¦   ¦   ¦           ¦       ¦   °--TPT outcomes                                                                                              ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦           ¦   ¦   ¦           ¦       ¦       ¦--gets TPT                                                                                              ,soc.prop.starting.tpt,cost.tpt.initiation,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.tpt.initiation,0,cost.tpt.initiation,0,0,0,0,0,0,0,0,ucost.prison.escort,ucost.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0
     ¦               ¦           ¦   ¦   ¦           ¦       ¦       ¦   ¦--completed TPT                                                                                     ,soc.prop.completing.tpt,cost.tpt.complete,0,0,0,0,0,0,0,0,0,0,TPT.visits*(ucost.prison.escort),durTPT*(ucost.ltbi.drugs),TPT.visits*(ucost.tpt.opd.visit),durTPT*(ucost.dots),0,0,0,cost.tpt.complete,0,0,cost.tpt.complete,0,0,0,0,0,0,0,(TPT.visits*ucost.prison.escort + durTPT*ucost.dots),(durTPT*ucost.ltbi.drugs+ TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,1
     ¦               ¦           ¦   ¦   ¦           ¦       ¦       ¦   °--did not complete TPT                                                                              ,1-soc.prop.completing.tpt,cost.tpt.incomplete,0,0,0,0,0,0,0,0,0,0,IncompDurTPT / durTPT * TPT.visits*ucost.prison.escort,IncompDurTPT*ucost.ltbi.drugs,IncompDurTPT / durTPT * TPT.visits*ucost.tpt.opd.visit,IncompDurTPT*ucost.dots,0,0,0,cost.tpt.incomplete,0,0,0,cost.tpt.incomplete,0,0,0,0,0,0,(IncompDurTPT/durTPT*TPT.visits*ucost.prison.escort + IncompDurTPT*ucost.dots),(IncompDurTPT*ucost.ltbi.drugs + IncompDurTPT/durTPT*TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1
     ¦               ¦           ¦   ¦   ¦           ¦       ¦       °--does not get TPT                                                                                      ,1-soc.prop.starting.tpt,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦               ¦           ¦   ¦   ¦           ¦       °--Did not attend TPT referral                                                                                   ,1-soc.prop.attend.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦               ¦           ¦   ¦   ¦           °--Early removal scheme or deportation                                                                                   ,1-soc.prop.staying.<3months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦               ¦           ¦   ¦   °--No previous chest x-ray                                                                                                           ,1-soc.prop.prev.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦           ¦   ¦       ¦--Chest x-ray                                                                                                                   ,soc.prop.xray,cost.chest.xray,0,cost.chest.xray,0,ucost.chest.xray,0,0,ucost.prison.escort,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,ucost.chest.xray,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦           ¦   ¦       ¦   ¦--Abornomal chest x-ray                                                                                                     ,soc.prop.abnormal.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦           ¦   ¦       ¦   ¦   ¦--Referred to NHS TB service                                                                                            ,nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦           ¦   ¦       ¦   ¦   ¦   ¦--Attended TB referral                                                                                              ,soc.prop.attend.nhs.referral,cost.tb.evaluation,0,cost.tb.evaluation,0,0,0,cost.nhs.tb.service,0,ucost.prison.escort,cost.tb.investigations,0,0,0,0,0,0,0,cost.tb.evaluation,0,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort ,ucost.nhs.tb.service + ucost.tb.investigations,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦           ¦   ¦       ¦   ¦   ¦   ¦   ¦--TB                                                                                                            ,soc.prop.abn.xray.tb.dx,cost.contact.management,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,cost.contact.management,smear.positive * (cost.prison.isolation),0,0,0,smear.positive * (nContacts * ucost.contact.tracing),cost.contact.management,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0
     ¦               ¦           ¦   ¦       ¦   ¦   ¦   ¦   ¦   °--TB outcomes                                                                                               ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦           ¦   ¦       ¦   ¦   ¦   ¦   ¦       ¦--ATT                                                                                                   ,soc.prop.starting.att,cost.att.initiation,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,0,0,0,0,0,cost.att.initiation,0,cost.att.initiation,0,0,0,ucost.prison.escort,ucost.nhs.tb.service ,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0
     ¦               ¦           ¦   ¦       ¦   ¦   ¦   ¦   ¦       ¦   ¦--completed ATT                                                                                     ,soc.prop.completing.att,cost.att.complete,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort * (pDSTB * dstb.visits + (1 - pDSTB) * mdrtb.visits) ,pDSTB * DurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * DurMDRTB * ucost.mdratt.drugs,pDSTB * dstb.visits*ucost.dstb.opd.visit + (1 - pDSTB) * mdrtb.visits * ucost.mdrtb.opd.visit,ucost.dots * (pDSTB * DurDSTB + (1 - pDSTB) * DurMDRTB),(pDSTB * smear.positive * DurDSTBIsolation * ucost.dstb.ipd +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * ucost.mdrtb.ipd + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * ucost.mdrtb.ipd),ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation),0,0,0,0,0,0,cost.att.complete,0,0,cost.att.complete,0,0,(ucost.prison.escort * (pDSTB * dstb.visits + (1 - pDSTB) * mdrtb.visits)  + ucost.dots * (pDSTB * DurDSTB + (1 - pDSTB) * DurMDRTB) + ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation)),(pDSTB * DurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * DurMDRTB * ucost.mdratt.drugs + pDSTB * dstb.visits*(ucost.dstb.opd.visit) + (1 - pDSTB) * mdrtb.visits * (ucost.mdrtb.opd.visit) + (pDSTB * smear.positive * DurDSTBIsolation * (ucost.dstb.ipd) +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * (ucost.mdrtb.ipd) + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * (ucost.mdrtb.ipd))),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,1
     ¦               ¦           ¦   ¦       ¦   ¦   ¦   ¦   ¦       ¦   °--did not complete ATT                                                                              ,1-soc.prop.completing.att,cost.att.incomplete ,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort * (IncompDurDSTB/DurDSTB*pDSTB * dstb.visits + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits),pDSTB  * IncompDurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * IncompDurMDRTB  * ucost.mdratt.drugs,IncompDurDSTB / DurDSTB * pDSTB * dstb.visits*ucost.dstb.opd.visit + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits * ucost.mdrtb.opd.visit,ucost.dots * (pDSTB * IncompDurDSTB + (1 - pDSTB) * IncompDurMDRTB),(pDSTB * smear.positive * DurDSTBIsolation * ucost.dstb.ipd +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * ucost.mdrtb.ipd + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * ucost.mdrtb.ipd),ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation),0,0,0,0,0,0,cost.att.incomplete ,0,0,0,cost.att.incomplete ,0,(ucost.prison.escort * (IncompDurDSTB/DurDSTB*pDSTB * dstb.visits + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits) + ucost.dots * (pDSTB * IncompDurDSTB + (1 - pDSTB) * IncompDurMDRTB) + ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  + (1 - pDSTB) * smear.positive * DurMDRTB2Isolation+ (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation)),(pDSTB  * IncompDurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * IncompDurMDRTB * ucost.mdratt.drugs) + (IncompDurDSTB / DurDSTB * pDSTB * dstb.visits*ucost.dstb.opd.visit + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits * ucost.mdrtb.opd.visit) + ((pDSTB * smear.positive * DurDSTBIsolation * (ucost.dstb.ipd) +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * (ucost.mdrtb.ipd) +(1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * (ucost.mdrtb.ipd))),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦               ¦           ¦   ¦       ¦   ¦   ¦   ¦   ¦       °--no ATT                                                                                                ,1-soc.prop.starting.att,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦               ¦           ¦   ¦       ¦   ¦   ¦   ¦   °--Not TB                                                                                                        ,1-soc.prop.abn.xray.tb.dx,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦           ¦   ¦       ¦   ¦   ¦   ¦       ¦--In prison/IRC for >3 months                                                                               ,soc.prop.staying.3+months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0
     ¦               ¦           ¦   ¦       ¦   ¦   ¦   ¦       ¦   °--Refer for treatment                                                                                   ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦           ¦   ¦       ¦   ¦   ¦   ¦       ¦       ¦--Attended TPT referral                                                                             ,soc.prop.attend.nhs.referral,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.attending.nhs.tb.service,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,ucost.prison.escort ,ucost.nhs.tb.service,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦           ¦   ¦       ¦   ¦   ¦   ¦       ¦       ¦   °--TPT outcomes                                                                                  ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦           ¦   ¦       ¦   ¦   ¦   ¦       ¦       ¦       ¦--gets TPT                                                                                  ,soc.prop.starting.tpt,cost.tpt.initiation,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.tpt.initiation,0,cost.tpt.initiation,0,0,0,0,0,0,0,0,ucost.prison.escort,ucost.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0
     ¦               ¦           ¦   ¦       ¦   ¦   ¦   ¦       ¦       ¦       ¦   ¦--completed TPT                                                                         ,soc.prop.completing.tpt,cost.tpt.complete,0,0,0,0,0,0,0,0,0,0,TPT.visits*(ucost.prison.escort),durTPT*(ucost.ltbi.drugs),TPT.visits*(ucost.tpt.opd.visit),durTPT*(ucost.dots),0,0,0,cost.tpt.complete,0,0,cost.tpt.complete,0,0,0,0,0,0,0,(TPT.visits*ucost.prison.escort + durTPT*ucost.dots),(durTPT*ucost.ltbi.drugs+ TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,1
     ¦               ¦           ¦   ¦       ¦   ¦   ¦   ¦       ¦       ¦       ¦   °--did not complete TPT                                                                  ,1-soc.prop.completing.tpt,cost.tpt.incomplete,0,0,0,0,0,0,0,0,0,0,IncompDurTPT / durTPT * TPT.visits*ucost.prison.escort,IncompDurTPT*ucost.ltbi.drugs,IncompDurTPT / durTPT * TPT.visits*ucost.tpt.opd.visit,IncompDurTPT*ucost.dots,0,0,0,cost.tpt.incomplete,0,0,0,cost.tpt.incomplete,0,0,0,0,0,0,(IncompDurTPT/durTPT*TPT.visits*ucost.prison.escort + IncompDurTPT*ucost.dots),(IncompDurTPT*ucost.ltbi.drugs + IncompDurTPT/durTPT*TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1
     ¦               ¦           ¦   ¦       ¦   ¦   ¦   ¦       ¦       ¦       °--does not get TPT                                                                          ,1-soc.prop.starting.tpt,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦               ¦           ¦   ¦       ¦   ¦   ¦   ¦       ¦       °--Did not attend TPT referral                                                                       ,1-soc.prop.attend.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦               ¦           ¦   ¦       ¦   ¦   ¦   ¦       °--In prison/IRC for <3 months                                                                               ,1-soc.prop.staying.3+months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦           ¦   ¦       ¦   ¦   ¦   ¦           ¦--Remaining in the UK (community or other prison/IRC)                                                   ,soc.prop.staying.<3months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦           ¦   ¦       ¦   ¦   ¦   ¦           ¦   °--Refer for treatment and forward details to receiving prison/community TB nurse                    ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦           ¦   ¦       ¦   ¦   ¦   ¦           ¦       ¦--Attended TPT referral                                                                         ,soc.prop.attend.nhs.referral,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.attending.nhs.tb.service,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,ucost.prison.escort ,ucost.nhs.tb.service,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦           ¦   ¦       ¦   ¦   ¦   ¦           ¦       ¦   °--TPT outcomes                                                                              ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦           ¦   ¦       ¦   ¦   ¦   ¦           ¦       ¦       ¦--gets TPT                                                                              ,soc.prop.starting.tpt,cost.tpt.initiation,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.tpt.initiation,0,cost.tpt.initiation,0,0,0,0,0,0,0,0,ucost.prison.escort,ucost.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0
     ¦               ¦           ¦   ¦       ¦   ¦   ¦   ¦           ¦       ¦       ¦   ¦--completed TPT                                                                     ,soc.prop.completing.tpt,cost.tpt.complete,0,0,0,0,0,0,0,0,0,0,TPT.visits*(ucost.prison.escort),durTPT*(ucost.ltbi.drugs),TPT.visits*(ucost.tpt.opd.visit),durTPT*(ucost.dots),0,0,0,cost.tpt.complete,0,0,cost.tpt.complete,0,0,0,0,0,0,0,(TPT.visits*ucost.prison.escort + durTPT*ucost.dots),(durTPT*ucost.ltbi.drugs+ TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,1
     ¦               ¦           ¦   ¦       ¦   ¦   ¦   ¦           ¦       ¦       ¦   °--did not complete TPT                                                              ,1-soc.prop.completing.tpt,cost.tpt.incomplete,0,0,0,0,0,0,0,0,0,0,IncompDurTPT / durTPT * TPT.visits*ucost.prison.escort,IncompDurTPT*ucost.ltbi.drugs,IncompDurTPT / durTPT * TPT.visits*ucost.tpt.opd.visit,IncompDurTPT*ucost.dots,0,0,0,cost.tpt.incomplete,0,0,0,cost.tpt.incomplete,0,0,0,0,0,0,(IncompDurTPT/durTPT*TPT.visits*ucost.prison.escort + IncompDurTPT*ucost.dots),(IncompDurTPT*ucost.ltbi.drugs + IncompDurTPT/durTPT*TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1
     ¦               ¦           ¦   ¦       ¦   ¦   ¦   ¦           ¦       ¦       °--does not get TPT                                                                      ,1-soc.prop.starting.tpt,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦               ¦           ¦   ¦       ¦   ¦   ¦   ¦           ¦       °--Did not attend TPT referral                                                                   ,1-soc.prop.attend.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦               ¦           ¦   ¦       ¦   ¦   ¦   ¦           °--Early removal scheme or deportation                                                                   ,1-soc.prop.staying.<3months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦               ¦           ¦   ¦       ¦   ¦   ¦   °--Did not attend TB referral                                                                                        ,1-soc.prop.attend.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦               ¦           ¦   ¦       ¦   ¦   °--Not referred to NHS TB service                                                                                        ,1-nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦               ¦           ¦   ¦       ¦   °--Normal chest x-ray                                                                                                        ,1-soc.prop.abnormal.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦           ¦   ¦       ¦       ¦--In prison/IRC for >3 months                                                                                           ,soc.prop.staying.3+months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0
     ¦               ¦           ¦   ¦       ¦       ¦   °--Refer for treatment                                                                                               ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦           ¦   ¦       ¦       ¦       ¦--Attended TPT referral                                                                                         ,soc.prop.attend.nhs.referral,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.attending.nhs.tb.service,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,ucost.prison.escort ,ucost.nhs.tb.service,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦           ¦   ¦       ¦       ¦       ¦   °--TPT outcomes                                                                                              ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦           ¦   ¦       ¦       ¦       ¦       ¦--gets TPT                                                                                              ,soc.prop.starting.tpt,cost.tpt.initiation,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.tpt.initiation,0,cost.tpt.initiation,0,0,0,0,0,0,0,0,ucost.prison.escort,ucost.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0
     ¦               ¦           ¦   ¦       ¦       ¦       ¦       ¦   ¦--completed TPT                                                                                     ,soc.prop.completing.tpt,cost.tpt.complete,0,0,0,0,0,0,0,0,0,0,TPT.visits*(ucost.prison.escort),durTPT*(ucost.ltbi.drugs),TPT.visits*(ucost.tpt.opd.visit),durTPT*(ucost.dots),0,0,0,cost.tpt.complete,0,0,cost.tpt.complete,0,0,0,0,0,0,0,(TPT.visits*ucost.prison.escort + durTPT*ucost.dots),(durTPT*ucost.ltbi.drugs+ TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,1
     ¦               ¦           ¦   ¦       ¦       ¦       ¦       ¦   °--did not complete TPT                                                                              ,1-soc.prop.completing.tpt,cost.tpt.incomplete,0,0,0,0,0,0,0,0,0,0,IncompDurTPT / durTPT * TPT.visits*ucost.prison.escort,IncompDurTPT*ucost.ltbi.drugs,IncompDurTPT / durTPT * TPT.visits*ucost.tpt.opd.visit,IncompDurTPT*ucost.dots,0,0,0,cost.tpt.incomplete,0,0,0,cost.tpt.incomplete,0,0,0,0,0,0,(IncompDurTPT/durTPT*TPT.visits*ucost.prison.escort + IncompDurTPT*ucost.dots),(IncompDurTPT*ucost.ltbi.drugs + IncompDurTPT/durTPT*TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1
     ¦               ¦           ¦   ¦       ¦       ¦       ¦       °--does not get TPT                                                                                      ,1-soc.prop.starting.tpt,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦               ¦           ¦   ¦       ¦       ¦       °--Did not attend TPT referral                                                                                   ,1-soc.prop.attend.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦               ¦           ¦   ¦       ¦       °--In prison/IRC for <3 months                                                                                           ,1-soc.prop.staying.3+months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦           ¦   ¦       ¦           ¦--Remaining in the UK (community or other prison/IRC)                                                               ,soc.prop.staying.<3months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦           ¦   ¦       ¦           ¦   °--Refer for treatment and forward details to receiving prison/community TB nurse                                ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦           ¦   ¦       ¦           ¦       ¦--Attended TPT referral                                                                                     ,soc.prop.attend.nhs.referral,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.attending.nhs.tb.service,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,ucost.prison.escort ,ucost.nhs.tb.service,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦           ¦   ¦       ¦           ¦       ¦   °--TPT outcomes                                                                                          ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦           ¦   ¦       ¦           ¦       ¦       ¦--gets TPT                                                                                          ,soc.prop.starting.tpt,cost.tpt.initiation,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.tpt.initiation,0,cost.tpt.initiation,0,0,0,0,0,0,0,0,ucost.prison.escort,ucost.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0
     ¦               ¦           ¦   ¦       ¦           ¦       ¦       ¦   ¦--completed TPT                                                                                 ,soc.prop.completing.tpt,cost.tpt.complete,0,0,0,0,0,0,0,0,0,0,TPT.visits*(ucost.prison.escort),durTPT*(ucost.ltbi.drugs),TPT.visits*(ucost.tpt.opd.visit),durTPT*(ucost.dots),0,0,0,cost.tpt.complete,0,0,cost.tpt.complete,0,0,0,0,0,0,0,(TPT.visits*ucost.prison.escort + durTPT*ucost.dots),(durTPT*ucost.ltbi.drugs+ TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,1
     ¦               ¦           ¦   ¦       ¦           ¦       ¦       ¦   °--did not complete TPT                                                                          ,1-soc.prop.completing.tpt,cost.tpt.incomplete,0,0,0,0,0,0,0,0,0,0,IncompDurTPT / durTPT * TPT.visits*ucost.prison.escort,IncompDurTPT*ucost.ltbi.drugs,IncompDurTPT / durTPT * TPT.visits*ucost.tpt.opd.visit,IncompDurTPT*ucost.dots,0,0,0,cost.tpt.incomplete,0,0,0,cost.tpt.incomplete,0,0,0,0,0,0,(IncompDurTPT/durTPT*TPT.visits*ucost.prison.escort + IncompDurTPT*ucost.dots),(IncompDurTPT*ucost.ltbi.drugs + IncompDurTPT/durTPT*TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1
     ¦               ¦           ¦   ¦       ¦           ¦       ¦       °--does not get TPT                                                                                  ,1-soc.prop.starting.tpt,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦               ¦           ¦   ¦       ¦           ¦       °--Did not attend TPT referral                                                                               ,1-soc.prop.attend.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦               ¦           ¦   ¦       ¦           °--Early removal scheme or deportation                                                                               ,1-soc.prop.staying.<3months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦               ¦           ¦   ¦       °--No chest x-ray                                                                                                                ,1-soc.prop.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦           ¦   ¦           ¦--Referred to NHS TB service                                                                                                ,nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦           ¦   ¦           ¦   ¦--Attended TB referral                                                                                                  ,soc.prop.attend.nhs.referral,cost.tb.evaluation,0,cost.tb.evaluation,0,0,0,cost.nhs.tb.service,0,ucost.prison.escort,cost.tb.investigations,0,0,0,0,0,0,0,cost.tb.evaluation,0,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort ,ucost.nhs.tb.service + ucost.tb.investigations,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦           ¦   ¦           ¦   ¦   ¦--TB                                                                                                                ,soc.prop.no.xray.tb.dx,cost.contact.management,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,cost.contact.management,smear.positive * (cost.prison.isolation),0,0,0,smear.positive * (nContacts * ucost.contact.tracing),cost.contact.management,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0
     ¦               ¦           ¦   ¦           ¦   ¦   ¦   °--TB outcomes                                                                                                   ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦           ¦   ¦           ¦   ¦   ¦       ¦--ATT                                                                                                       ,soc.prop.starting.att,cost.att.initiation,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,0,0,0,0,0,cost.att.initiation,0,cost.att.initiation,0,0,0,ucost.prison.escort,ucost.nhs.tb.service ,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0
     ¦               ¦           ¦   ¦           ¦   ¦   ¦       ¦   ¦--completed ATT                                                                                         ,soc.prop.completing.att,cost.att.complete,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort * (pDSTB * dstb.visits + (1 - pDSTB) * mdrtb.visits) ,pDSTB * DurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * DurMDRTB * ucost.mdratt.drugs,pDSTB * dstb.visits*ucost.dstb.opd.visit + (1 - pDSTB) * mdrtb.visits * ucost.mdrtb.opd.visit,ucost.dots * (pDSTB * DurDSTB + (1 - pDSTB) * DurMDRTB),(pDSTB * smear.positive * DurDSTBIsolation * ucost.dstb.ipd +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * ucost.mdrtb.ipd + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * ucost.mdrtb.ipd),ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation),0,0,0,0,0,0,cost.att.complete,0,0,cost.att.complete,0,0,(ucost.prison.escort * (pDSTB * dstb.visits + (1 - pDSTB) * mdrtb.visits)  + ucost.dots * (pDSTB * DurDSTB + (1 - pDSTB) * DurMDRTB) + ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation)),(pDSTB * DurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * DurMDRTB * ucost.mdratt.drugs + pDSTB * dstb.visits*(ucost.dstb.opd.visit) + (1 - pDSTB) * mdrtb.visits * (ucost.mdrtb.opd.visit) + (pDSTB * smear.positive * DurDSTBIsolation * (ucost.dstb.ipd) +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * (ucost.mdrtb.ipd) + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * (ucost.mdrtb.ipd))),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,1
     ¦               ¦           ¦   ¦           ¦   ¦   ¦       ¦   °--did not complete ATT                                                                                  ,1-soc.prop.completing.att,cost.att.incomplete ,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort * (IncompDurDSTB/DurDSTB*pDSTB * dstb.visits + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits),pDSTB  * IncompDurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * IncompDurMDRTB  * ucost.mdratt.drugs,IncompDurDSTB / DurDSTB * pDSTB * dstb.visits*ucost.dstb.opd.visit + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits * ucost.mdrtb.opd.visit,ucost.dots * (pDSTB * IncompDurDSTB + (1 - pDSTB) * IncompDurMDRTB),(pDSTB * smear.positive * DurDSTBIsolation * ucost.dstb.ipd +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * ucost.mdrtb.ipd + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * ucost.mdrtb.ipd),ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation),0,0,0,0,0,0,cost.att.incomplete ,0,0,0,cost.att.incomplete ,0,(ucost.prison.escort * (IncompDurDSTB/DurDSTB*pDSTB * dstb.visits + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits) + ucost.dots * (pDSTB * IncompDurDSTB + (1 - pDSTB) * IncompDurMDRTB) + ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  + (1 - pDSTB) * smear.positive * DurMDRTB2Isolation+ (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation)),(pDSTB  * IncompDurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * IncompDurMDRTB * ucost.mdratt.drugs) + (IncompDurDSTB / DurDSTB * pDSTB * dstb.visits*ucost.dstb.opd.visit + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits * ucost.mdrtb.opd.visit) + ((pDSTB * smear.positive * DurDSTBIsolation * (ucost.dstb.ipd) +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * (ucost.mdrtb.ipd) +(1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * (ucost.mdrtb.ipd))),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦               ¦           ¦   ¦           ¦   ¦   ¦       °--no ATT                                                                                                    ,1-soc.prop.starting.att,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦               ¦           ¦   ¦           ¦   ¦   °--Not TB                                                                                                            ,1-soc.prop.no.xray.tb.dx,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦           ¦   ¦           ¦   ¦       ¦--In prison/IRC for >3 months                                                                                   ,soc.prop.staying.3+months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0
     ¦               ¦           ¦   ¦           ¦   ¦       ¦   °--Refer for treatment                                                                                       ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦           ¦   ¦           ¦   ¦       ¦       ¦--Attended TPT referral                                                                                 ,soc.prop.attend.nhs.referral,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.attending.nhs.tb.service,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,ucost.prison.escort ,ucost.nhs.tb.service,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦           ¦   ¦           ¦   ¦       ¦       ¦   °--TPT outcomes                                                                                      ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦           ¦   ¦           ¦   ¦       ¦       ¦       ¦--gets TPT                                                                                      ,soc.prop.starting.tpt,cost.tpt.initiation,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.tpt.initiation,0,cost.tpt.initiation,0,0,0,0,0,0,0,0,ucost.prison.escort,ucost.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0
     ¦               ¦           ¦   ¦           ¦   ¦       ¦       ¦       ¦   ¦--completed TPT                                                                             ,soc.prop.completing.tpt,cost.tpt.complete,0,0,0,0,0,0,0,0,0,0,TPT.visits*(ucost.prison.escort),durTPT*(ucost.ltbi.drugs),TPT.visits*(ucost.tpt.opd.visit),durTPT*(ucost.dots),0,0,0,cost.tpt.complete,0,0,cost.tpt.complete,0,0,0,0,0,0,0,(TPT.visits*ucost.prison.escort + durTPT*ucost.dots),(durTPT*ucost.ltbi.drugs+ TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,1
     ¦               ¦           ¦   ¦           ¦   ¦       ¦       ¦       ¦   °--did not complete TPT                                                                      ,1-soc.prop.completing.tpt,cost.tpt.incomplete,0,0,0,0,0,0,0,0,0,0,IncompDurTPT / durTPT * TPT.visits*ucost.prison.escort,IncompDurTPT*ucost.ltbi.drugs,IncompDurTPT / durTPT * TPT.visits*ucost.tpt.opd.visit,IncompDurTPT*ucost.dots,0,0,0,cost.tpt.incomplete,0,0,0,cost.tpt.incomplete,0,0,0,0,0,0,(IncompDurTPT/durTPT*TPT.visits*ucost.prison.escort + IncompDurTPT*ucost.dots),(IncompDurTPT*ucost.ltbi.drugs + IncompDurTPT/durTPT*TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1
     ¦               ¦           ¦   ¦           ¦   ¦       ¦       ¦       °--does not get TPT                                                                              ,1-soc.prop.starting.tpt,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦               ¦           ¦   ¦           ¦   ¦       ¦       °--Did not attend TPT referral                                                                           ,1-soc.prop.attend.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦               ¦           ¦   ¦           ¦   ¦       °--In prison/IRC for <3 months                                                                                   ,1-soc.prop.staying.3+months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦           ¦   ¦           ¦   ¦           ¦--Remaining in the UK (community or other prison/IRC)                                                       ,soc.prop.staying.<3months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦           ¦   ¦           ¦   ¦           ¦   °--Refer for treatment and forward details to receiving prison/community TB nurse                        ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦           ¦   ¦           ¦   ¦           ¦       ¦--Attended TPT referral                                                                             ,soc.prop.attend.nhs.referral,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.attending.nhs.tb.service,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,ucost.prison.escort ,ucost.nhs.tb.service,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦           ¦   ¦           ¦   ¦           ¦       ¦   °--TPT outcomes                                                                                  ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦               ¦           ¦   ¦           ¦   ¦           ¦       ¦       ¦--gets TPT                                                                                  ,soc.prop.starting.tpt,cost.tpt.initiation,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.tpt.initiation,0,cost.tpt.initiation,0,0,0,0,0,0,0,0,ucost.prison.escort,ucost.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0
     ¦               ¦           ¦   ¦           ¦   ¦           ¦       ¦       ¦   ¦--completed TPT                                                                         ,soc.prop.completing.tpt,cost.tpt.complete,0,0,0,0,0,0,0,0,0,0,TPT.visits*(ucost.prison.escort),durTPT*(ucost.ltbi.drugs),TPT.visits*(ucost.tpt.opd.visit),durTPT*(ucost.dots),0,0,0,cost.tpt.complete,0,0,cost.tpt.complete,0,0,0,0,0,0,0,(TPT.visits*ucost.prison.escort + durTPT*ucost.dots),(durTPT*ucost.ltbi.drugs+ TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,1
     ¦               ¦           ¦   ¦           ¦   ¦           ¦       ¦       ¦   °--did not complete TPT                                                                  ,1-soc.prop.completing.tpt,cost.tpt.incomplete,0,0,0,0,0,0,0,0,0,0,IncompDurTPT / durTPT * TPT.visits*ucost.prison.escort,IncompDurTPT*ucost.ltbi.drugs,IncompDurTPT / durTPT * TPT.visits*ucost.tpt.opd.visit,IncompDurTPT*ucost.dots,0,0,0,cost.tpt.incomplete,0,0,0,cost.tpt.incomplete,0,0,0,0,0,0,(IncompDurTPT/durTPT*TPT.visits*ucost.prison.escort + IncompDurTPT*ucost.dots),(IncompDurTPT*ucost.ltbi.drugs + IncompDurTPT/durTPT*TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1
     ¦               ¦           ¦   ¦           ¦   ¦           ¦       ¦       °--does not get TPT                                                                          ,1-soc.prop.starting.tpt,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦               ¦           ¦   ¦           ¦   ¦           ¦       °--Did not attend TPT referral                                                                       ,1-soc.prop.attend.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦               ¦           ¦   ¦           ¦   ¦           °--Early removal scheme or deportation                                                                       ,1-soc.prop.staying.<3months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦               ¦           ¦   ¦           ¦   °--Did not attend TB referral                                                                                            ,1-soc.prop.attend.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦               ¦           ¦   ¦           °--Not referred to NHS TB service                                                                                            ,1-nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦               ¦           ¦   °--IGRA test -                                                                                                                           ,1-soc.prop.igra.test.positive,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦               ¦           °--no IGRA test                                                                                                                              ,1-soc.prop.igra.tested,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦               °--No chest x-ray                                                                                                                                        ,1-soc.prop.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦                   °--LTBI pathway                                                                                                                                      ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦                       ¦--IGRA test                                                                                                                                     ,soc.prop.igra.tested,cost.igra.test,0,0,0,0,0,0,0,0,0,cost.igra.test,0,0,0,0,0,0,0,cost.igra.test,0,0,0,0,0,0,0,0,0,0,0,ucost.igra.test,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0
     ¦                       ¦   ¦--IGRA test +                                                                                                                               ,soc.prop.igra.test.positive,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0
     ¦                       ¦   ¦   ¦--Previous chest x-ray                                                                                                                  ,soc.prop.prev.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦                       ¦   ¦   ¦   ¦--Abornomal chest x-ray                                                                                                             ,soc.prop.abnormal.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦                       ¦   ¦   ¦   ¦   ¦--Referred to NHS TB service                                                                                                    ,nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦                       ¦   ¦   ¦   ¦   ¦   ¦--Attended TB referral                                                                                                      ,soc.prop.attend.nhs.referral,cost.tb.evaluation,0,cost.tb.evaluation,0,0,0,cost.nhs.tb.service,0,ucost.prison.escort,cost.tb.investigations,0,0,0,0,0,0,0,cost.tb.evaluation,0,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort ,ucost.nhs.tb.service + ucost.tb.investigations,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦                       ¦   ¦   ¦   ¦   ¦   ¦   ¦--TB                                                                                                                    ,soc.prop.abn.xray.tb.dx,cost.contact.management,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,cost.contact.management,smear.positive * (cost.prison.isolation),0,0,0,smear.positive * (nContacts * ucost.contact.tracing),cost.contact.management,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0
     ¦                       ¦   ¦   ¦   ¦   ¦   ¦   ¦   °--TB outcomes                                                                                                       ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦                       ¦   ¦   ¦   ¦   ¦   ¦   ¦       ¦--ATT                                                                                                           ,soc.prop.starting.att,cost.att.initiation,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,0,0,0,0,0,cost.att.initiation,0,cost.att.initiation,0,0,0,ucost.prison.escort,ucost.nhs.tb.service ,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0
     ¦                       ¦   ¦   ¦   ¦   ¦   ¦   ¦       ¦   ¦--completed ATT                                                                                             ,soc.prop.completing.att,cost.att.complete,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort * (pDSTB * dstb.visits + (1 - pDSTB) * mdrtb.visits) ,pDSTB * DurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * DurMDRTB * ucost.mdratt.drugs,pDSTB * dstb.visits*ucost.dstb.opd.visit + (1 - pDSTB) * mdrtb.visits * ucost.mdrtb.opd.visit,ucost.dots * (pDSTB * DurDSTB + (1 - pDSTB) * DurMDRTB),(pDSTB * smear.positive * DurDSTBIsolation * ucost.dstb.ipd +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * ucost.mdrtb.ipd + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * ucost.mdrtb.ipd),ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation),0,0,0,0,0,0,cost.att.complete,0,0,cost.att.complete,0,0,(ucost.prison.escort * (pDSTB * dstb.visits + (1 - pDSTB) * mdrtb.visits)  + ucost.dots * (pDSTB * DurDSTB + (1 - pDSTB) * DurMDRTB) + ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation)),(pDSTB * DurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * DurMDRTB * ucost.mdratt.drugs + pDSTB * dstb.visits*(ucost.dstb.opd.visit) + (1 - pDSTB) * mdrtb.visits * (ucost.mdrtb.opd.visit) + (pDSTB * smear.positive * DurDSTBIsolation * (ucost.dstb.ipd) +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * (ucost.mdrtb.ipd) + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * (ucost.mdrtb.ipd))),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,1
     ¦                       ¦   ¦   ¦   ¦   ¦   ¦   ¦       ¦   °--did not complete ATT                                                                                      ,1-soc.prop.completing.att,cost.att.incomplete ,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort * (IncompDurDSTB/DurDSTB*pDSTB * dstb.visits + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits),pDSTB  * IncompDurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * IncompDurMDRTB  * ucost.mdratt.drugs,IncompDurDSTB / DurDSTB * pDSTB * dstb.visits*ucost.dstb.opd.visit + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits * ucost.mdrtb.opd.visit,ucost.dots * (pDSTB * IncompDurDSTB + (1 - pDSTB) * IncompDurMDRTB),(pDSTB * smear.positive * DurDSTBIsolation * ucost.dstb.ipd +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * ucost.mdrtb.ipd + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * ucost.mdrtb.ipd),ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation),0,0,0,0,0,0,cost.att.incomplete ,0,0,0,cost.att.incomplete ,0,(ucost.prison.escort * (IncompDurDSTB/DurDSTB*pDSTB * dstb.visits + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits) + ucost.dots * (pDSTB * IncompDurDSTB + (1 - pDSTB) * IncompDurMDRTB) + ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  + (1 - pDSTB) * smear.positive * DurMDRTB2Isolation+ (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation)),(pDSTB  * IncompDurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * IncompDurMDRTB * ucost.mdratt.drugs) + (IncompDurDSTB / DurDSTB * pDSTB * dstb.visits*ucost.dstb.opd.visit + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits * ucost.mdrtb.opd.visit) + ((pDSTB * smear.positive * DurDSTBIsolation * (ucost.dstb.ipd) +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * (ucost.mdrtb.ipd) +(1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * (ucost.mdrtb.ipd))),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦                       ¦   ¦   ¦   ¦   ¦   ¦   ¦       °--no ATT                                                                                                        ,1-soc.prop.starting.att,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦                       ¦   ¦   ¦   ¦   ¦   ¦   °--Not TB                                                                                                                ,1-soc.prop.abn.xray.tb.dx,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦                       ¦   ¦   ¦   ¦   ¦   ¦       ¦--In prison/IRC for >3 months                                                                                       ,soc.prop.staying.3+months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0
     ¦                       ¦   ¦   ¦   ¦   ¦   ¦       ¦   °--Refer for treatment                                                                                           ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦                       ¦   ¦   ¦   ¦   ¦   ¦       ¦       ¦--Attended TPT referral                                                                                     ,soc.prop.attend.nhs.referral,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.attending.nhs.tb.service,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,ucost.prison.escort ,ucost.nhs.tb.service,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦                       ¦   ¦   ¦   ¦   ¦   ¦       ¦       ¦   °--TPT outcomes                                                                                          ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦                       ¦   ¦   ¦   ¦   ¦   ¦       ¦       ¦       ¦--gets TPT                                                                                          ,soc.prop.starting.tpt,cost.tpt.initiation,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.tpt.initiation,0,cost.tpt.initiation,0,0,0,0,0,0,0,0,ucost.prison.escort,ucost.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0
     ¦                       ¦   ¦   ¦   ¦   ¦   ¦       ¦       ¦       ¦   ¦--completed TPT                                                                                 ,soc.prop.completing.tpt,cost.tpt.complete,0,0,0,0,0,0,0,0,0,0,TPT.visits*(ucost.prison.escort),durTPT*(ucost.ltbi.drugs),TPT.visits*(ucost.tpt.opd.visit),durTPT*(ucost.dots),0,0,0,cost.tpt.complete,0,0,cost.tpt.complete,0,0,0,0,0,0,0,(TPT.visits*ucost.prison.escort + durTPT*ucost.dots),(durTPT*ucost.ltbi.drugs+ TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,1
     ¦                       ¦   ¦   ¦   ¦   ¦   ¦       ¦       ¦       ¦   °--did not complete TPT                                                                          ,1-soc.prop.completing.tpt,cost.tpt.incomplete,0,0,0,0,0,0,0,0,0,0,IncompDurTPT / durTPT * TPT.visits*ucost.prison.escort,IncompDurTPT*ucost.ltbi.drugs,IncompDurTPT / durTPT * TPT.visits*ucost.tpt.opd.visit,IncompDurTPT*ucost.dots,0,0,0,cost.tpt.incomplete,0,0,0,cost.tpt.incomplete,0,0,0,0,0,0,(IncompDurTPT/durTPT*TPT.visits*ucost.prison.escort + IncompDurTPT*ucost.dots),(IncompDurTPT*ucost.ltbi.drugs + IncompDurTPT/durTPT*TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1
     ¦                       ¦   ¦   ¦   ¦   ¦   ¦       ¦       ¦       °--does not get TPT                                                                                  ,1-soc.prop.starting.tpt,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦                       ¦   ¦   ¦   ¦   ¦   ¦       ¦       °--Did not attend TB referral TPT referral                                                                   ,1-soc.prop.attend.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦                       ¦   ¦   ¦   ¦   ¦   ¦       °--In prison/IRC for <3 months                                                                                       ,1-soc.prop.staying.3+months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦                       ¦   ¦   ¦   ¦   ¦   ¦           ¦--Remaining in the UK (community or other prison/IRC)                                                           ,soc.prop.staying.<3months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦                       ¦   ¦   ¦   ¦   ¦   ¦           ¦   °--Refer for treatment and forward details to receiving prison/community TB nurse                            ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦                       ¦   ¦   ¦   ¦   ¦   ¦           ¦       ¦--Attended TPT referral                                                                                 ,soc.prop.attend.nhs.referral,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.attending.nhs.tb.service,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,ucost.prison.escort ,ucost.nhs.tb.service,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦                       ¦   ¦   ¦   ¦   ¦   ¦           ¦       ¦   °--TPT outcomes                                                                                      ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦                       ¦   ¦   ¦   ¦   ¦   ¦           ¦       ¦       ¦--gets TPT                                                                                      ,soc.prop.starting.tpt,cost.tpt.initiation,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.tpt.initiation,0,cost.tpt.initiation,0,0,0,0,0,0,0,0,ucost.prison.escort,ucost.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0
     ¦                       ¦   ¦   ¦   ¦   ¦   ¦           ¦       ¦       ¦   ¦--completed TPT                                                                             ,soc.prop.completing.tpt,cost.tpt.complete,0,0,0,0,0,0,0,0,0,0,TPT.visits*(ucost.prison.escort),durTPT*(ucost.ltbi.drugs),TPT.visits*(ucost.tpt.opd.visit),durTPT*(ucost.dots),0,0,0,cost.tpt.complete,0,0,cost.tpt.complete,0,0,0,0,0,0,0,(TPT.visits*ucost.prison.escort + durTPT*ucost.dots),(durTPT*ucost.ltbi.drugs+ TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,1
     ¦                       ¦   ¦   ¦   ¦   ¦   ¦           ¦       ¦       ¦   °--did not complete TPT                                                                      ,1-soc.prop.completing.tpt,cost.tpt.incomplete,0,0,0,0,0,0,0,0,0,0,IncompDurTPT / durTPT * TPT.visits*ucost.prison.escort,IncompDurTPT*ucost.ltbi.drugs,IncompDurTPT / durTPT * TPT.visits*ucost.tpt.opd.visit,IncompDurTPT*ucost.dots,0,0,0,cost.tpt.incomplete,0,0,0,cost.tpt.incomplete,0,0,0,0,0,0,(IncompDurTPT/durTPT*TPT.visits*ucost.prison.escort + IncompDurTPT*ucost.dots),(IncompDurTPT*ucost.ltbi.drugs + IncompDurTPT/durTPT*TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1
     ¦                       ¦   ¦   ¦   ¦   ¦   ¦           ¦       ¦       °--does not get TPT                                                                              ,1-soc.prop.starting.tpt,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦                       ¦   ¦   ¦   ¦   ¦   ¦           ¦       °--Did not attend TPT referral                                                                           ,1-soc.prop.attend.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦                       ¦   ¦   ¦   ¦   ¦   ¦           °--Early removal scheme or deportation                                                                           ,1-soc.prop.staying.<3months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦                       ¦   ¦   ¦   ¦   ¦   °--Did not attend TB referral                                                                                                ,1-soc.prop.attend.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦                       ¦   ¦   ¦   ¦   °--Not referred to NHS TB service                                                                                                ,1-nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦                       ¦   ¦   ¦   °--Normal chest x-ray                                                                                                                ,1-soc.prop.abnormal.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦                       ¦   ¦   ¦       ¦--In prison/IRC for >3 months                                                                                                   ,soc.prop.staying.3+months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0
     ¦                       ¦   ¦   ¦       ¦   °--Refer for treatment                                                                                                       ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦                       ¦   ¦   ¦       ¦       ¦--Attended TPT referral                                                                                                 ,soc.prop.attend.nhs.referral,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.attending.nhs.tb.service,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,ucost.prison.escort ,ucost.nhs.tb.service,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦                       ¦   ¦   ¦       ¦       ¦   °--TPT outcomes                                                                                                      ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦                       ¦   ¦   ¦       ¦       ¦       ¦--gets TPT                                                                                                      ,soc.prop.starting.tpt,cost.tpt.initiation,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.tpt.initiation,0,cost.tpt.initiation,0,0,0,0,0,0,0,0,ucost.prison.escort,ucost.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0
     ¦                       ¦   ¦   ¦       ¦       ¦       ¦   ¦--completed TPT                                                                                             ,soc.prop.completing.tpt,cost.tpt.complete,0,0,0,0,0,0,0,0,0,0,TPT.visits*(ucost.prison.escort),durTPT*(ucost.ltbi.drugs),TPT.visits*(ucost.tpt.opd.visit),durTPT*(ucost.dots),0,0,0,cost.tpt.complete,0,0,cost.tpt.complete,0,0,0,0,0,0,0,(TPT.visits*ucost.prison.escort + durTPT*ucost.dots),(durTPT*ucost.ltbi.drugs+ TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,1
     ¦                       ¦   ¦   ¦       ¦       ¦       ¦   °--did not complete TPT                                                                                      ,1-soc.prop.completing.tpt,cost.tpt.incomplete,0,0,0,0,0,0,0,0,0,0,IncompDurTPT / durTPT * TPT.visits*ucost.prison.escort,IncompDurTPT*ucost.ltbi.drugs,IncompDurTPT / durTPT * TPT.visits*ucost.tpt.opd.visit,IncompDurTPT*ucost.dots,0,0,0,cost.tpt.incomplete,0,0,0,cost.tpt.incomplete,0,0,0,0,0,0,(IncompDurTPT/durTPT*TPT.visits*ucost.prison.escort + IncompDurTPT*ucost.dots),(IncompDurTPT*ucost.ltbi.drugs + IncompDurTPT/durTPT*TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1
     ¦                       ¦   ¦   ¦       ¦       ¦       °--does not get TPT                                                                                              ,1-soc.prop.starting.tpt,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦                       ¦   ¦   ¦       ¦       °--Did not attend TPT referral                                                                                           ,1-soc.prop.attend.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦                       ¦   ¦   ¦       °--In prison/IRC for <3 months                                                                                                   ,1-soc.prop.staying.3+months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦                       ¦   ¦   ¦           ¦--Remaining in the UK (community or other prison/IRC)                                                                       ,soc.prop.staying.<3months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦                       ¦   ¦   ¦           ¦   °--Refer for treatment and forward details to receiving prison/community TB nurse                                        ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦                       ¦   ¦   ¦           ¦       ¦--Attended TPT referral                                                                                             ,soc.prop.attend.nhs.referral,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.attending.nhs.tb.service,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,ucost.prison.escort ,ucost.nhs.tb.service,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦                       ¦   ¦   ¦           ¦       ¦   °--TPT outcomes                                                                                                  ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦                       ¦   ¦   ¦           ¦       ¦       ¦--gets TPT                                                                                                  ,soc.prop.starting.tpt,cost.tpt.initiation,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.tpt.initiation,0,cost.tpt.initiation,0,0,0,0,0,0,0,0,ucost.prison.escort,ucost.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0
     ¦                       ¦   ¦   ¦           ¦       ¦       ¦   ¦--completed TPT                                                                                         ,soc.prop.completing.tpt,cost.tpt.complete,0,0,0,0,0,0,0,0,0,0,TPT.visits*(ucost.prison.escort),durTPT*(ucost.ltbi.drugs),TPT.visits*(ucost.tpt.opd.visit),durTPT*(ucost.dots),0,0,0,cost.tpt.complete,0,0,cost.tpt.complete,0,0,0,0,0,0,0,(TPT.visits*ucost.prison.escort + durTPT*ucost.dots),(durTPT*ucost.ltbi.drugs+ TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,1
     ¦                       ¦   ¦   ¦           ¦       ¦       ¦   °--did not complete TPT                                                                                  ,1-soc.prop.completing.tpt,cost.tpt.incomplete,0,0,0,0,0,0,0,0,0,0,IncompDurTPT / durTPT * TPT.visits*ucost.prison.escort,IncompDurTPT*ucost.ltbi.drugs,IncompDurTPT / durTPT * TPT.visits*ucost.tpt.opd.visit,IncompDurTPT*ucost.dots,0,0,0,cost.tpt.incomplete,0,0,0,cost.tpt.incomplete,0,0,0,0,0,0,(IncompDurTPT/durTPT*TPT.visits*ucost.prison.escort + IncompDurTPT*ucost.dots),(IncompDurTPT*ucost.ltbi.drugs + IncompDurTPT/durTPT*TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1
     ¦                       ¦   ¦   ¦           ¦       ¦       °--does not get TPT                                                                                          ,1-soc.prop.starting.tpt,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦                       ¦   ¦   ¦           ¦       °--Did not attend TPT referral                                                                                       ,1-soc.prop.attend.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦                       ¦   ¦   ¦           °--Early removal scheme or deportation                                                                                       ,1-soc.prop.staying.<3months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦                       ¦   ¦   °--No previous chest x-ray                                                                                                               ,1-soc.prop.prev.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦                       ¦   ¦       ¦--Chest x-ray                                                                                                                       ,soc.prop.xray,cost.chest.xray,0,cost.chest.xray,0,ucost.chest.xray,0,0,ucost.prison.escort,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,ucost.chest.xray,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦                       ¦   ¦       ¦   ¦--Abornomal chest x-ray                                                                                                         ,soc.prop.abnormal.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦                       ¦   ¦       ¦   ¦   ¦--Referred to NHS TB service                                                                                                ,nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦                       ¦   ¦       ¦   ¦   ¦   ¦--Attended TB referral                                                                                                  ,soc.prop.attend.nhs.referral,cost.tb.evaluation,0,cost.tb.evaluation,0,0,0,cost.nhs.tb.service,0,ucost.prison.escort,cost.tb.investigations,0,0,0,0,0,0,0,cost.tb.evaluation,0,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort ,ucost.nhs.tb.service + ucost.tb.investigations,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦                       ¦   ¦       ¦   ¦   ¦   ¦   ¦--TB                                                                                                                ,soc.prop.abn.xray.tb.dx,cost.contact.management,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,cost.contact.management,smear.positive * (cost.prison.isolation),0,0,0,smear.positive * (nContacts * ucost.contact.tracing),cost.contact.management,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0
     ¦                       ¦   ¦       ¦   ¦   ¦   ¦   ¦   °--TB outcomes                                                                                                   ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦                       ¦   ¦       ¦   ¦   ¦   ¦   ¦       ¦--ATT                                                                                                       ,soc.prop.starting.att,cost.att.initiation,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,0,0,0,0,0,cost.att.initiation,0,cost.att.initiation,0,0,0,ucost.prison.escort,ucost.nhs.tb.service ,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0
     ¦                       ¦   ¦       ¦   ¦   ¦   ¦   ¦       ¦   ¦--completed ATT                                                                                         ,soc.prop.completing.att,cost.att.complete,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort * (pDSTB * dstb.visits + (1 - pDSTB) * mdrtb.visits) ,pDSTB * DurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * DurMDRTB * ucost.mdratt.drugs,pDSTB * dstb.visits*ucost.dstb.opd.visit + (1 - pDSTB) * mdrtb.visits * ucost.mdrtb.opd.visit,ucost.dots * (pDSTB * DurDSTB + (1 - pDSTB) * DurMDRTB),(pDSTB * smear.positive * DurDSTBIsolation * ucost.dstb.ipd +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * ucost.mdrtb.ipd + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * ucost.mdrtb.ipd),ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation),0,0,0,0,0,0,cost.att.complete,0,0,cost.att.complete,0,0,(ucost.prison.escort * (pDSTB * dstb.visits + (1 - pDSTB) * mdrtb.visits)  + ucost.dots * (pDSTB * DurDSTB + (1 - pDSTB) * DurMDRTB) + ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation)),(pDSTB * DurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * DurMDRTB * ucost.mdratt.drugs + pDSTB * dstb.visits*(ucost.dstb.opd.visit) + (1 - pDSTB) * mdrtb.visits * (ucost.mdrtb.opd.visit) + (pDSTB * smear.positive * DurDSTBIsolation * (ucost.dstb.ipd) +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * (ucost.mdrtb.ipd) + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * (ucost.mdrtb.ipd))),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,1
     ¦                       ¦   ¦       ¦   ¦   ¦   ¦   ¦       ¦   °--did not complete ATT                                                                                  ,1-soc.prop.completing.att,cost.att.incomplete ,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort * (IncompDurDSTB/DurDSTB*pDSTB * dstb.visits + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits),pDSTB  * IncompDurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * IncompDurMDRTB  * ucost.mdratt.drugs,IncompDurDSTB / DurDSTB * pDSTB * dstb.visits*ucost.dstb.opd.visit + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits * ucost.mdrtb.opd.visit,ucost.dots * (pDSTB * IncompDurDSTB + (1 - pDSTB) * IncompDurMDRTB),(pDSTB * smear.positive * DurDSTBIsolation * ucost.dstb.ipd +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * ucost.mdrtb.ipd + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * ucost.mdrtb.ipd),ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation),0,0,0,0,0,0,cost.att.incomplete ,0,0,0,cost.att.incomplete ,0,(ucost.prison.escort * (IncompDurDSTB/DurDSTB*pDSTB * dstb.visits + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits) + ucost.dots * (pDSTB * IncompDurDSTB + (1 - pDSTB) * IncompDurMDRTB) + ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  + (1 - pDSTB) * smear.positive * DurMDRTB2Isolation+ (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation)),(pDSTB  * IncompDurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * IncompDurMDRTB * ucost.mdratt.drugs) + (IncompDurDSTB / DurDSTB * pDSTB * dstb.visits*ucost.dstb.opd.visit + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits * ucost.mdrtb.opd.visit) + ((pDSTB * smear.positive * DurDSTBIsolation * (ucost.dstb.ipd) +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * (ucost.mdrtb.ipd) +(1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * (ucost.mdrtb.ipd))),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦                       ¦   ¦       ¦   ¦   ¦   ¦   ¦       °--no ATT                                                                                                    ,1-soc.prop.starting.att,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦                       ¦   ¦       ¦   ¦   ¦   ¦   °--Not TB                                                                                                            ,1-soc.prop.abn.xray.tb.dx,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦                       ¦   ¦       ¦   ¦   ¦   ¦       ¦--In prison/IRC for >3 months                                                                                   ,soc.prop.staying.3+months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0
     ¦                       ¦   ¦       ¦   ¦   ¦   ¦       ¦   °--Refer for treatment                                                                                       ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦                       ¦   ¦       ¦   ¦   ¦   ¦       ¦       ¦--Attended TPT referral                                                                                 ,soc.prop.attend.nhs.referral,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.attending.nhs.tb.service,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,ucost.prison.escort ,ucost.nhs.tb.service,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦                       ¦   ¦       ¦   ¦   ¦   ¦       ¦       ¦   °--TPT outcomes                                                                                      ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦                       ¦   ¦       ¦   ¦   ¦   ¦       ¦       ¦       ¦--gets TPT                                                                                      ,soc.prop.starting.tpt,cost.tpt.initiation,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.tpt.initiation,0,cost.tpt.initiation,0,0,0,0,0,0,0,0,ucost.prison.escort,ucost.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0
     ¦                       ¦   ¦       ¦   ¦   ¦   ¦       ¦       ¦       ¦   ¦--completed TPT                                                                             ,soc.prop.completing.tpt,cost.tpt.complete,0,0,0,0,0,0,0,0,0,0,TPT.visits*(ucost.prison.escort),durTPT*(ucost.ltbi.drugs),TPT.visits*(ucost.tpt.opd.visit),durTPT*(ucost.dots),0,0,0,cost.tpt.complete,0,0,cost.tpt.complete,0,0,0,0,0,0,0,(TPT.visits*ucost.prison.escort + durTPT*ucost.dots),(durTPT*ucost.ltbi.drugs+ TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,1
     ¦                       ¦   ¦       ¦   ¦   ¦   ¦       ¦       ¦       ¦   °--did not complete TPT                                                                      ,1-soc.prop.completing.tpt,cost.tpt.incomplete,0,0,0,0,0,0,0,0,0,0,IncompDurTPT / durTPT * TPT.visits*ucost.prison.escort,IncompDurTPT*ucost.ltbi.drugs,IncompDurTPT / durTPT * TPT.visits*ucost.tpt.opd.visit,IncompDurTPT*ucost.dots,0,0,0,cost.tpt.incomplete,0,0,0,cost.tpt.incomplete,0,0,0,0,0,0,(IncompDurTPT/durTPT*TPT.visits*ucost.prison.escort + IncompDurTPT*ucost.dots),(IncompDurTPT*ucost.ltbi.drugs + IncompDurTPT/durTPT*TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1
     ¦                       ¦   ¦       ¦   ¦   ¦   ¦       ¦       ¦       °--does not get TPT                                                                              ,1-soc.prop.starting.tpt,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦                       ¦   ¦       ¦   ¦   ¦   ¦       ¦       °--Did not attend TPT referral                                                                           ,1-soc.prop.attend.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦                       ¦   ¦       ¦   ¦   ¦   ¦       °--In prison/IRC for <3 months                                                                                   ,1-soc.prop.staying.3+months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦                       ¦   ¦       ¦   ¦   ¦   ¦           ¦--Remaining in the UK (community or other prison/IRC)                                                       ,soc.prop.staying.<3months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦                       ¦   ¦       ¦   ¦   ¦   ¦           ¦   °--Refer for treatment and forward details to receiving prison/community TB nurse                        ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦                       ¦   ¦       ¦   ¦   ¦   ¦           ¦       ¦--Attended TPT referral                                                                             ,soc.prop.attend.nhs.referral,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.attending.nhs.tb.service,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,ucost.prison.escort ,ucost.nhs.tb.service,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦                       ¦   ¦       ¦   ¦   ¦   ¦           ¦       ¦   °--TPT outcomes                                                                                  ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦                       ¦   ¦       ¦   ¦   ¦   ¦           ¦       ¦       ¦--gets TPT                                                                                  ,soc.prop.starting.tpt,cost.tpt.initiation,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.tpt.initiation,0,cost.tpt.initiation,0,0,0,0,0,0,0,0,ucost.prison.escort,ucost.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0
     ¦                       ¦   ¦       ¦   ¦   ¦   ¦           ¦       ¦       ¦   ¦--completed TPT                                                                         ,soc.prop.completing.tpt,cost.tpt.complete,0,0,0,0,0,0,0,0,0,0,TPT.visits*(ucost.prison.escort),durTPT*(ucost.ltbi.drugs),TPT.visits*(ucost.tpt.opd.visit),durTPT*(ucost.dots),0,0,0,cost.tpt.complete,0,0,cost.tpt.complete,0,0,0,0,0,0,0,(TPT.visits*ucost.prison.escort + durTPT*ucost.dots),(durTPT*ucost.ltbi.drugs+ TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,1
     ¦                       ¦   ¦       ¦   ¦   ¦   ¦           ¦       ¦       ¦   °--did not complete TPT                                                                  ,1-soc.prop.completing.tpt,cost.tpt.incomplete,0,0,0,0,0,0,0,0,0,0,IncompDurTPT / durTPT * TPT.visits*ucost.prison.escort,IncompDurTPT*ucost.ltbi.drugs,IncompDurTPT / durTPT * TPT.visits*ucost.tpt.opd.visit,IncompDurTPT*ucost.dots,0,0,0,cost.tpt.incomplete,0,0,0,cost.tpt.incomplete,0,0,0,0,0,0,(IncompDurTPT/durTPT*TPT.visits*ucost.prison.escort + IncompDurTPT*ucost.dots),(IncompDurTPT*ucost.ltbi.drugs + IncompDurTPT/durTPT*TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1
     ¦                       ¦   ¦       ¦   ¦   ¦   ¦           ¦       ¦       °--does not get TPT                                                                          ,1-soc.prop.starting.tpt,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦                       ¦   ¦       ¦   ¦   ¦   ¦           ¦       °--Did not attend TPT referral                                                                       ,1-soc.prop.attend.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦                       ¦   ¦       ¦   ¦   ¦   ¦           °--Early removal scheme or deportation                                                                       ,1-soc.prop.staying.<3months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦                       ¦   ¦       ¦   ¦   ¦   °--Did not attend TB referral                                                                                            ,1-soc.prop.attend.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦                       ¦   ¦       ¦   ¦   °--Not referred to NHS TB service                                                                                            ,1-nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦                       ¦   ¦       ¦   °--Normal chest x-ray                                                                                                            ,1-soc.prop.abnormal.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦                       ¦   ¦       ¦       ¦--In prison/IRC for >3 months                                                                                               ,soc.prop.staying.3+months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0
     ¦                       ¦   ¦       ¦       ¦   °--Refer for treatment                                                                                                   ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦                       ¦   ¦       ¦       ¦       ¦--Attended TPT referral                                                                                             ,soc.prop.attend.nhs.referral,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.attending.nhs.tb.service,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,ucost.prison.escort ,ucost.nhs.tb.service,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦                       ¦   ¦       ¦       ¦       ¦   °--TPT outcomes                                                                                                  ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦                       ¦   ¦       ¦       ¦       ¦       ¦--gets TPT                                                                                                  ,soc.prop.starting.tpt,cost.tpt.initiation,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.tpt.initiation,0,cost.tpt.initiation,0,0,0,0,0,0,0,0,ucost.prison.escort,ucost.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0
     ¦                       ¦   ¦       ¦       ¦       ¦       ¦   ¦--completed TPT                                                                                         ,soc.prop.completing.tpt,cost.tpt.complete,0,0,0,0,0,0,0,0,0,0,TPT.visits*(ucost.prison.escort),durTPT*(ucost.ltbi.drugs),TPT.visits*(ucost.tpt.opd.visit),durTPT*(ucost.dots),0,0,0,cost.tpt.complete,0,0,cost.tpt.complete,0,0,0,0,0,0,0,(TPT.visits*ucost.prison.escort + durTPT*ucost.dots),(durTPT*ucost.ltbi.drugs+ TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,1
     ¦                       ¦   ¦       ¦       ¦       ¦       ¦   °--did not complete TPT                                                                                  ,1-soc.prop.completing.tpt,cost.tpt.incomplete,0,0,0,0,0,0,0,0,0,0,IncompDurTPT / durTPT * TPT.visits*ucost.prison.escort,IncompDurTPT*ucost.ltbi.drugs,IncompDurTPT / durTPT * TPT.visits*ucost.tpt.opd.visit,IncompDurTPT*ucost.dots,0,0,0,cost.tpt.incomplete,0,0,0,cost.tpt.incomplete,0,0,0,0,0,0,(IncompDurTPT/durTPT*TPT.visits*ucost.prison.escort + IncompDurTPT*ucost.dots),(IncompDurTPT*ucost.ltbi.drugs + IncompDurTPT/durTPT*TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1
     ¦                       ¦   ¦       ¦       ¦       ¦       °--does not get TPT                                                                                          ,1-soc.prop.starting.tpt,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦                       ¦   ¦       ¦       ¦       °--Did not attend TPT referral                                                                                       ,1-soc.prop.attend.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦                       ¦   ¦       ¦       °--In prison/IRC for <3 months                                                                                               ,1-soc.prop.staying.3+months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦                       ¦   ¦       ¦           ¦--Remaining in the UK (community or other prison/IRC)                                                                   ,soc.prop.staying.<3months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦                       ¦   ¦       ¦           ¦   °--Refer for treatment and forward details to receiving prison/community TB nurse                                    ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦                       ¦   ¦       ¦           ¦       ¦--Attended TPT referral                                                                                         ,soc.prop.attend.nhs.referral,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.attending.nhs.tb.service,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,ucost.prison.escort ,ucost.nhs.tb.service,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦                       ¦   ¦       ¦           ¦       ¦   °--TPT outcomes                                                                                              ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦                       ¦   ¦       ¦           ¦       ¦       ¦--gets TPT                                                                                              ,soc.prop.starting.tpt,cost.tpt.initiation,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.tpt.initiation,0,cost.tpt.initiation,0,0,0,0,0,0,0,0,ucost.prison.escort,ucost.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0
     ¦                       ¦   ¦       ¦           ¦       ¦       ¦   ¦--completed TPT                                                                                     ,soc.prop.completing.tpt,cost.tpt.complete,0,0,0,0,0,0,0,0,0,0,TPT.visits*(ucost.prison.escort),durTPT*(ucost.ltbi.drugs),TPT.visits*(ucost.tpt.opd.visit),durTPT*(ucost.dots),0,0,0,cost.tpt.complete,0,0,cost.tpt.complete,0,0,0,0,0,0,0,(TPT.visits*ucost.prison.escort + durTPT*ucost.dots),(durTPT*ucost.ltbi.drugs+ TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,1
     ¦                       ¦   ¦       ¦           ¦       ¦       ¦   °--did not complete TPT                                                                              ,1-soc.prop.completing.tpt,cost.tpt.incomplete,0,0,0,0,0,0,0,0,0,0,IncompDurTPT / durTPT * TPT.visits*ucost.prison.escort,IncompDurTPT*ucost.ltbi.drugs,IncompDurTPT / durTPT * TPT.visits*ucost.tpt.opd.visit,IncompDurTPT*ucost.dots,0,0,0,cost.tpt.incomplete,0,0,0,cost.tpt.incomplete,0,0,0,0,0,0,(IncompDurTPT/durTPT*TPT.visits*ucost.prison.escort + IncompDurTPT*ucost.dots),(IncompDurTPT*ucost.ltbi.drugs + IncompDurTPT/durTPT*TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1
     ¦                       ¦   ¦       ¦           ¦       ¦       °--does not get TPT                                                                                      ,1-soc.prop.starting.tpt,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦                       ¦   ¦       ¦           ¦       °--Did not attend TPT referral                                                                                   ,1-soc.prop.attend.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦                       ¦   ¦       ¦           °--Early removal scheme or deportation                                                                                   ,1-soc.prop.staying.<3months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦                       ¦   ¦       °--No chest x-ray                                                                                                                    ,1-soc.prop.xray,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦                       ¦   ¦           ¦--Referred to NHS TB service                                                                                                    ,nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦                       ¦   ¦           ¦   ¦--Attended TB referral                                                                                                      ,soc.prop.attend.nhs.referral,cost.tb.evaluation,0,cost.tb.evaluation,0,0,0,cost.nhs.tb.service,0,ucost.prison.escort,cost.tb.investigations,0,0,0,0,0,0,0,cost.tb.evaluation,0,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort ,ucost.nhs.tb.service + ucost.tb.investigations,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦                       ¦   ¦           ¦   ¦   ¦--TB                                                                                                                    ,soc.prop.no.xray.tb.dx,cost.contact.management,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,cost.contact.management,smear.positive * (cost.prison.isolation),0,0,0,smear.positive * (nContacts * ucost.contact.tracing),cost.contact.management,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,0,0,0,0
     ¦                       ¦   ¦           ¦   ¦   ¦   °--TB outcomes                                                                                                       ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦                       ¦   ¦           ¦   ¦   ¦       ¦--ATT                                                                                                           ,soc.prop.starting.att,cost.att.initiation,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,0,0,0,0,0,cost.att.initiation,0,cost.att.initiation,0,0,0,ucost.prison.escort,ucost.nhs.tb.service ,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0
     ¦                       ¦   ¦           ¦   ¦   ¦       ¦   ¦--completed ATT                                                                                             ,soc.prop.completing.att,cost.att.complete,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort * (pDSTB * dstb.visits + (1 - pDSTB) * mdrtb.visits) ,pDSTB * DurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * DurMDRTB * ucost.mdratt.drugs,pDSTB * dstb.visits*ucost.dstb.opd.visit + (1 - pDSTB) * mdrtb.visits * ucost.mdrtb.opd.visit,ucost.dots * (pDSTB * DurDSTB + (1 - pDSTB) * DurMDRTB),(pDSTB * smear.positive * DurDSTBIsolation * ucost.dstb.ipd +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * ucost.mdrtb.ipd + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * ucost.mdrtb.ipd),ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation),0,0,0,0,0,0,cost.att.complete,0,0,cost.att.complete,0,0,(ucost.prison.escort * (pDSTB * dstb.visits + (1 - pDSTB) * mdrtb.visits)  + ucost.dots * (pDSTB * DurDSTB + (1 - pDSTB) * DurMDRTB) + ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation)),(pDSTB * DurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * DurMDRTB * ucost.mdratt.drugs + pDSTB * dstb.visits*(ucost.dstb.opd.visit) + (1 - pDSTB) * mdrtb.visits * (ucost.mdrtb.opd.visit) + (pDSTB * smear.positive * DurDSTBIsolation * (ucost.dstb.ipd) +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * (ucost.mdrtb.ipd) + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * (ucost.mdrtb.ipd))),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1,0,1
     ¦                       ¦   ¦           ¦   ¦   ¦       ¦   °--did not complete ATT                                                                                      ,1-soc.prop.completing.att,cost.att.incomplete ,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort * (IncompDurDSTB/DurDSTB*pDSTB * dstb.visits + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits),pDSTB  * IncompDurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * IncompDurMDRTB  * ucost.mdratt.drugs,IncompDurDSTB / DurDSTB * pDSTB * dstb.visits*ucost.dstb.opd.visit + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits * ucost.mdrtb.opd.visit,ucost.dots * (pDSTB * IncompDurDSTB + (1 - pDSTB) * IncompDurMDRTB),(pDSTB * smear.positive * DurDSTBIsolation * ucost.dstb.ipd +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * ucost.mdrtb.ipd + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * ucost.mdrtb.ipd),ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation + (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation),0,0,0,0,0,0,cost.att.incomplete ,0,0,0,cost.att.incomplete ,0,(ucost.prison.escort * (IncompDurDSTB/DurDSTB*pDSTB * dstb.visits + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits) + ucost.dots * (pDSTB * IncompDurDSTB + (1 - pDSTB) * IncompDurMDRTB) + ucost.prison.bedwatch * (pDSTB * smear.positive * DurDSTBIsolation  + (1 - pDSTB) * smear.positive * DurMDRTB2Isolation+ (1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation)),(pDSTB  * IncompDurDSTB * ucost.dsatt.drugs + (1 - pDSTB) * IncompDurMDRTB * ucost.mdratt.drugs) + (IncompDurDSTB / DurDSTB * pDSTB * dstb.visits*ucost.dstb.opd.visit + IncompDurMDRTB / DurMDRTB *(1 - pDSTB) * mdrtb.visits * ucost.mdrtb.opd.visit) + ((pDSTB * smear.positive * DurDSTBIsolation * (ucost.dstb.ipd) +   (1 - pDSTB) * smear.positive * DurMDRTB2Isolation * (ucost.mdrtb.ipd) +(1 - pDSTB) * (1 - smear.positive) * DurMDRTBIsolation * (ucost.mdrtb.ipd))),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1
     ¦                       ¦   ¦           ¦   ¦   ¦       °--no ATT                                                                                                        ,1-soc.prop.starting.att,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦                       ¦   ¦           ¦   ¦   °--Not TB                                                                                                                ,1-soc.prop.no.xray.tb.dx,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦                       ¦   ¦           ¦   ¦       ¦--In prison/IRC for >3 months                                                                                       ,soc.prop.staying.3+months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0
     ¦                       ¦   ¦           ¦   ¦       ¦   °--Refer for treatment                                                                                           ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦                       ¦   ¦           ¦   ¦       ¦       ¦--Attended TPT referral                                                                                     ,soc.prop.attend.nhs.referral,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.attending.nhs.tb.service,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,ucost.prison.escort ,ucost.nhs.tb.service,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦                       ¦   ¦           ¦   ¦       ¦       ¦   °--TPT outcomes                                                                                          ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦                       ¦   ¦           ¦   ¦       ¦       ¦       ¦--gets TPT                                                                                          ,soc.prop.starting.tpt,cost.tpt.initiation,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.tpt.initiation,0,cost.tpt.initiation,0,0,0,0,0,0,0,0,ucost.prison.escort,ucost.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0
     ¦                       ¦   ¦           ¦   ¦       ¦       ¦       ¦   ¦--completed TPT                                                                                 ,soc.prop.completing.tpt,cost.tpt.complete,0,0,0,0,0,0,0,0,0,0,TPT.visits*(ucost.prison.escort),durTPT*(ucost.ltbi.drugs),TPT.visits*(ucost.tpt.opd.visit),durTPT*(ucost.dots),0,0,0,cost.tpt.complete,0,0,cost.tpt.complete,0,0,0,0,0,0,0,(TPT.visits*ucost.prison.escort + durTPT*ucost.dots),(durTPT*ucost.ltbi.drugs+ TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,1
     ¦                       ¦   ¦           ¦   ¦       ¦       ¦       ¦   °--did not complete TPT                                                                          ,1-soc.prop.completing.tpt,cost.tpt.incomplete,0,0,0,0,0,0,0,0,0,0,IncompDurTPT / durTPT * TPT.visits*ucost.prison.escort,IncompDurTPT*ucost.ltbi.drugs,IncompDurTPT / durTPT * TPT.visits*ucost.tpt.opd.visit,IncompDurTPT*ucost.dots,0,0,0,cost.tpt.incomplete,0,0,0,cost.tpt.incomplete,0,0,0,0,0,0,(IncompDurTPT/durTPT*TPT.visits*ucost.prison.escort + IncompDurTPT*ucost.dots),(IncompDurTPT*ucost.ltbi.drugs + IncompDurTPT/durTPT*TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1
     ¦                       ¦   ¦           ¦   ¦       ¦       ¦       °--does not get TPT                                                                                  ,1-soc.prop.starting.tpt,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦                       ¦   ¦           ¦   ¦       ¦       °--Did not attend TPT referral                                                                               ,1-soc.prop.attend.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦                       ¦   ¦           ¦   ¦       °--In prison/IRC for <3 months                                                                                       ,1-soc.prop.staying.3+months,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦                       ¦   ¦           ¦   ¦           ¦--Remaining in the UK (community or other prison/IRC)                                                           ,soc.prop.staying.<3months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦                       ¦   ¦           ¦   ¦           ¦   °--Refer for treatment and forward details to receiving prison/community TB nurse                            ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦                       ¦   ¦           ¦   ¦           ¦       ¦--Attended TPT referral                                                                                 ,soc.prop.attend.nhs.referral,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.attending.nhs.tb.service,cost.attending.nhs.tb.service,0,0,0,0,0,0,0,0,0,ucost.prison.escort ,ucost.nhs.tb.service,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦                       ¦   ¦           ¦   ¦           ¦       ¦   °--TPT outcomes                                                                                      ,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
     ¦                       ¦   ¦           ¦   ¦           ¦       ¦       ¦--gets TPT                                                                                      ,soc.prop.starting.tpt,cost.tpt.initiation,0,0,0,0,0,0,0,0,0,0,ucost.prison.escort,0,cost.nhs.tb.service,0,0,0,0,cost.tpt.initiation,0,cost.tpt.initiation,0,0,0,0,0,0,0,0,ucost.prison.escort,ucost.nhs.tb.service,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0
     ¦                       ¦   ¦           ¦   ¦           ¦       ¦       ¦   ¦--completed TPT                                                                             ,soc.prop.completing.tpt,cost.tpt.complete,0,0,0,0,0,0,0,0,0,0,TPT.visits*(ucost.prison.escort),durTPT*(ucost.ltbi.drugs),TPT.visits*(ucost.tpt.opd.visit),durTPT*(ucost.dots),0,0,0,cost.tpt.complete,0,0,cost.tpt.complete,0,0,0,0,0,0,0,(TPT.visits*ucost.prison.escort + durTPT*ucost.dots),(durTPT*ucost.ltbi.drugs+ TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,1,1
     ¦                       ¦   ¦           ¦   ¦           ¦       ¦       ¦   °--did not complete TPT                                                                      ,1-soc.prop.completing.tpt,cost.tpt.incomplete,0,0,0,0,0,0,0,0,0,0,IncompDurTPT / durTPT * TPT.visits*ucost.prison.escort,IncompDurTPT*ucost.ltbi.drugs,IncompDurTPT / durTPT * TPT.visits*ucost.tpt.opd.visit,IncompDurTPT*ucost.dots,0,0,0,cost.tpt.incomplete,0,0,0,cost.tpt.incomplete,0,0,0,0,0,0,(IncompDurTPT/durTPT*TPT.visits*ucost.prison.escort + IncompDurTPT*ucost.dots),(IncompDurTPT*ucost.ltbi.drugs + IncompDurTPT/durTPT*TPT.visits*ucost.tpt.opd.visit),0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1
     ¦                       ¦   ¦           ¦   ¦           ¦       ¦       °--does not get TPT                                                                              ,1-soc.prop.starting.tpt,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦                       ¦   ¦           ¦   ¦           ¦       °--Did not attend TPT referral                                                                           ,1-soc.prop.attend.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦                       ¦   ¦           ¦   ¦           °--Early removal scheme or deportation                                                                           ,1-soc.prop.staying.<3months.uk,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦                       ¦   ¦           ¦   °--Did not attend TB referral                                                                                                ,1-soc.prop.attend.nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦                       ¦   ¦           °--Not referred to NHS TB service                                                                                                ,1-nhs.referral,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦                       ¦   °--IGRA test -                                                                                                                               ,1-soc.prop.igra.test.positive,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     ¦                       °--no IGRA test                                                                                                                                  ,1-soc.prop.igra.tested,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
     °--No TB screening                                                                                                                                                       ,1-soc.prop.tb.sympt.screen,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
